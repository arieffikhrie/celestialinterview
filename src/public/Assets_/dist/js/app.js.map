{"version":3,"sources":["webpack:///external \"OrstedJquery\"","webpack:///./src/modules/base/utils/debounce.js","webpack:///./src/modules/base/utils/isElement.js","webpack:///./src/modules/base/utils/getElement.js","webpack:///./src/modules/base/utils/isElementInViewport.js","webpack:///./src/modules/base/utils/utils.js","webpack:///./src/app.js","webpack:///./src/modules/base/utils/helpers.js","webpack:///./src/modules/base/extensions/Array.extensions.js","webpack:///./src/modules/base/shim/CustomEvent.js","webpack:///./src/modules/announcement/announcement.js","webpack:///./src/modules/calendar/calendar.js","webpack:///./src/modules/searchResults/searchResults.js","webpack:///./src/modules/rssFeed/rssFeedSignUp.js","webpack:///./src/modules/rssFeed/rssFeedSignOff.js","webpack:///./src/modules/job/jobList.js","webpack:///./src/modules/job/jobArticle.js","webpack:///./src/modules/formSelector/formSelector.js","webpack:///./src/modules/toaster/toaster.js","webpack:///./src/modules/tabs/tabs.js","webpack:///./src/modules/base/angular/app.js","webpack:///./src/modules/flow/flow.directive.js","webpack:///./src/modules/flow/flowStep.directive.js","webpack:///./src/modules/flow/flowStepComponent.directive.js","webpack:///./src/modules/flow/flowProgressBar.directive.js","webpack:///./src/modules/flow/flow.service.js","webpack:///./src/modules/product/productDirective.js","webpack:///./src/modules/product/productSelection.js","webpack:///./src/modules/product/productPriceLocationDirective.js","webpack:///./src/modules/product/productService.js","webpack:///./src/modules/product/priceService.js","webpack:///./src/modules/product/formatComma.filter.js","webpack:///./src/modules/product/toTrusted.filter.js","webpack:///./src/modules/OrderflowPayment/PaymentDirective.js","webpack:///./src/modules/accordion/accordion.js","webpack:///./src/modules/anchorLinks/anchorLinks.js","webpack:///./src/modules/announcement/announcementArticle.js","webpack:///./src/modules/announcement/announcementPresentation.js","webpack:///./src/modules/base/shim/Array.findIndex.js","webpack:///./src/modules/article/article.js","webpack:///./src/modules/article/articleHead.js","webpack:///./src/modules/article/articlesPresentation.js","webpack:///./src/modules/breadcrumb/breadcrumb.js","webpack:///./src/modules/base/inViewPort/inViewPort.js","webpack:///./src/modules/careerSlider/careerSlider.js","webpack:///./src/modules/customerDetails/customerDetails.js","webpack:///./src/modules/login/customlogin.js","webpack:///./src/modules/customSelect/customSelect.js","webpack:///./src/modules/dawaAutocomplete/dawaAutocomplete.js","webpack:///./src/modules/emergencyInformation/emergencyInformation.js","webpack:///./src/modules/expand/expand.js","webpack:///./src/modules/expandCollapseCircle/expandCollapseCircle.js","webpack:///./src/modules/expandcollapserectangle/expandcollapserectangleitem.js","webpack:///./src/modules/expandcollapserectangle/expandcollapserectangle.js","webpack:///./src/modules/base/responsive/responsive.js","webpack:///./src/modules/exploration/exploration.js","webpack:///./src/modules/factBox/factBox.js","webpack:///./src/modules/filterFunction/filterFunction.js","webpack:///./src/modules/form/form.js","webpack:///./src/modules/megaNavigation/megaNavigation.js","webpack:///./src/modules/headerClassic/headerClassic.js","webpack:///./src/modules/headerSearch/headerSearch.js","webpack:///./src/modules/headerSlider/headerSlider.js","webpack:///./src/modules/heroSlider/heroSlider.js","webpack:///./src/modules/icons/icons.js","webpack:///./src/modules/imageSlider/imageSlider.js","webpack:///./src/modules/interactiveTimeline/interactiveTimeline.js","webpack:///./src/modules/jobSearchHero/jobSearchHero.js","webpack:///./src/modules/link/link.js","webpack:///./src/modules/list/list.js","webpack:///./src/modules/listFilters/listFilters.js","webpack:///./src/modules/login/login.js","webpack:///./src/modules/movingForm/movingForm.js","webpack:///./src/modules/multiNarrative/multiNarrative.js","webpack:///./src/modules/selectDropdown/selectDropdown.js","webpack:///./src/modules/multiSelectDropdown/multiSelectDropdown.js","webpack:///./src/modules/login/newloginbox.js","webpack:///./src/modules/orderflow/orderFlow.js","webpack:///./src/modules/pageLanguageSwitcher/pageLanguageSwitcher.js","webpack:///./src/modules/relatedReads/relatedReads.js","webpack:///./src/modules/richtext/richtext.js","webpack:///./src/modules/search/search.js","webpack:///./src/modules/section/section.js","webpack:///./src/modules/sitemap/sitemap.js","webpack:///./src/modules/social/social.js","webpack:///./src/modules/stock/stock.js","webpack:///./src/modules/table/table.js","webpack:///./src/modules/teaser/teaser.js","webpack:///./src/modules/teaser/TeaserMedium.js","webpack:///./src/modules/timeline/timeline.js","webpack:///./src/modules/topTasks/topTasks.js","webpack:///./src/modules/twitter/twitter.js","webpack:///./src/modules/videobox/videobox.js","webpack:///./src/modules/swipe-events/swipe-events.js","webpack:///./src/modules/videoCarousel/videoCarousel.js","webpack:///./src/modules/stickyBar/stickyBar.js","webpack:///./src/modules/stickyButton/stickyButton.js","webpack:///./src/js/dynamic-loading/dynamic-loading-options.js","webpack:///./src/js/dynamic-loading/dynamic-loading-components.js","webpack:///./src/js/dynamic-loading/dynamic-loading-handlers.js","webpack:///./src/js/dynamic-loading/handler/none.js","webpack:///./src/js/dynamic-loading/handler/single.js","webpack:///./src/js/dynamic-loading/handler/multiple.js","webpack:///./src/js/dynamic-loading/handler/custom.js","webpack:///./src/js/dynamic-loading/dynamic-loading.js","webpack:///./src/js/main.js","webpack:///./src/modules/customVideoControls/customVideoControls.js","webpack:///./src/modules/rendercharts/rendercharts.js","webpack:///./src/modules/activitymap/google.clusterer.js","webpack:///./src/modules/activitymap/google.maps.2016.js","webpack:///./src/modules/base/emitter/emitter.js","webpack:///./.modernizrrc","webpack:///./src/modules/video/video.js"],"names":["module","exports","OrstedJquery","func","wait","immediate","context","args","later","timeout","callNow","clearTimeout","setTimeout","$obj","e","el","document","isElement","Node","rect","window","$win","$","$html","$body","$main","DateFormatingOptions","location","dateFormat","jobdateFormat","isExperienceEditing","Sitecore","imageFallBack","options","imgUrl","image","hide","cssClasses","width","height","svgDimensions","imgContainer","getImageSize","$el","imgWidth","imgHeight","containerWidth","containerHeight","imgRatio","finalHeight","finalWidth","getDevice","userAgent","navigator","Math","t","d","c","b","ts","tc","requestAnimFrame","scrollTo","to","duration","callback","start","change","currentTime","Modernizr","animateScroll","val","disableBodyScroll","scrollTop","enableBodyScroll","shuffleArray","array","currentIndex","randomIndex","temporaryValue","TemplateEngine","html","re","reExp","code","cursor","add","js","line","match","Function","actualSize","previousCss","position","visibility","display","maxHeight","returnObj","fixExperienceEditorNavigation","navElementToFix","conditionFunc","doFunc","interval","intervalFunc","loadingIndicator","getExperienceEditor","addOneTimeEvent","lastScrollTop","getGlobalSettings","defaultSettings","numberLocale","body","settings","arguments","setupListenerOnViewportHeight","createElementFromHTML","htmlString","div","noop","isFunction","paragraphOverflow","text","debounce","st","scrollDirection","delta","emitter","top","direction","resize","this","key","require","oldParseJSON","json","console","size","keyValues","parameters","i","keyValue","decodeURIComponent","newArray","actual","links","length","currentHref","angular","value","a","timeDiff","toDate","fromDate","button","$input","$contactAnchor","moment","date","parseFloat","number","event","__nonMSDOMBrowser","src","defaultButton","Array","index","indexOfBy","name","params","bubbles","cancelable","detail","undefined","evt","CustomEvent","Announcement","pagesize","offset","item","apiAddress","domOrder","createdRow","columnDefs","targets","className","searchable","render","dateFormatted","row","language","paginate","next","previous","emptyTable","table","filters","dropdowns","monthFilterContainer","month","year","config","$filters","find","AnnouncementListOptions","$table","DataTable","ordering","info","responsive","stateSave","bLengthChange","processing","serverSide","searching","ajax","url","sets","data","dataSrc","dataSrcFunction","pageLength","dom","Calendar","checked","$btn","$popOver","currentBtn","popoverTarget","SearchResults","phrase","ankiroProfile","breadcumblist","breadcumbStr","resultsPerPage","categories","searchPhrase","searchPhraseBtn","hdnSearchResultText","searchResultTextHeading4","SearchResultsOptions","self","lengthChange","encodeURIComponent","drawCallback","categoriesCount","recordsTotal","pagination","api","page","pages","hv","searchResultText","currentPage","toItems","parseInt","cv","RegExp","unescape","selected_id","cats","pageUrl","search","new_url","path","RssFeed","postUrl","element","errorPlacement","error","highlight","unhighlight","messages","FirstName","LastName","Privacy","Email","required","email","formData","firstname","lastname","dataSources","datasourceId","$thisInput","$button","request","type","$formContainer","$signUpConfirmation","$signUpConfirmationAlready","JobList","defaultContent","dateFromated","resultCountTemplate","areaOfWork","employmentType","country","workplace","header","resultCount","JobListOptions","createdCell","oldStart","that","contentType","JSON","fnServerParams","items","resultsCount","targetOffset","hashes","isBackwardCompatible","keypairs","p","values","hash","filter","$selected","selectedIds","option","history","searchDebounce","bind","xhr","hasLocationResult","locations","l","id","JobArticle","applyButton","printButton","$item","FormSelector","elements","$allTabs","ChosenId","Toaster","$modals","$modal","delayTime","$toasterId","cookieVal","Cookies","$toaster","firstToasterId","$toasterLinks","$toasterLink","toasterId","teaserHeight","Tabs","$tabRow","$firstTab","$dropDownMenu","$dropDownMenuTrigger","count","iterations","click","$tab","$tabsRoot","$allContentTabs","$moreLink","Video","FlowService","restrict","scope","controller","$scope","$attrs","$location","$timeout","steps","state","flow","invalid","step","NavigateTo","newValue","oldValue","$window","template","replace","transclude","link","ctrls","priority","elem","attrs","ngModel","form","flowStepComponent","$http","service","model","$sce","productService","priceService","product","price","inputInt","isCalculate","sum","calculatedTotalUnit","productCategory","fixedprice","exists","chosenString","chosenProducts","curProduct","tmpProductSelection","productChosen","$element","isNaN","productpricelocation","cunsumptionLoaded","productData","tmpdata","str","objURL","$0","$1","$2","$3","getparams","uniturlkey","pricearray","defaultTotalPrice","defaultTotalPriceShouldbeUsed","productId","unitConsumption","pricetmp","additionalPrice","rx","addDots","String","w","Object","get","set","n","paymentwindow","PaymentWindow","newvalue","oldvalue","mCtrl","elemId","Accordions","elems","$content","$accordion","complete","$self","AnchorLinks","UrlIdentifier","anchorElement","headerHeight","AnnouncementArticle","$date","AnnouncementPresentation","idx","$elem","TypeError","o","len","predicate","thisArg","k","kValue","Article","initCompleteFunction","ArticleHead","$published","ArticlesPresentation","$newsImageList","clearInterval","$newsListItem","eq","hasClass","activeElementTop","$newsContainer","activeElementheight","TweenMax","setInterval","BreadCrumb","ElemWidthTotal","breadcrumbsItemsLength","breadcrumbsTempItems","containerWith","calcBreadcrumbsWitdh","boo","container","InViewPort","eventName","addClass","inViewClass","inViewCurrentClass","inViewinitedClass","offsetBottom","offsetTop","utils","partial","viewTop","viewBottom","_top","_bottom","compareBottom","CareerSlider","initialSlide","loop","slidesPerView","slidesPerGroup","slidesOffsetBefore","slidesOffsetAfter","spaceBetween","centeredSlides","variableWidth","watchOverflow","observer","observeParents","nextButton","prevButton","onInit","breakpoints","768","CustomerDetails","CustomLogin","rules","UserName","UserPassword","CustomSelect","EmergencyInformation","version","init","Expand","ExpandCollapseCircle","expandCollapseModuleObj","ExpandCollapseRectangleItem","contextElement","contextitem","ExpandCollapseRectanglePresentation","rectanglecontext","categoryid","readmorelabel","readlesslabel","itemscontainereement","readmore","readless","apiurl","success","expandcollapserectangleitem","Power1","Exploration","$categoryItems","$scrollIndicator","Gsap","m","s","catId","itemId","categoryId","activeIndex","itemWidth","currentPosition","numberOfItems","scrollWidth","scroll","currentScrollIndex","$landingRight","y","numberOfSlides","landingWidth","x","ease","easeInOut","nextIndex","gotoSlide","current","total","maxWidth","currentCategoryId","getItemsInContainer","opacity","scale","prevItem","addToPrevIndex","nextItem","addToNextIndex","allItems","j","randomItemsHtml","numItems","getCategory","itemsHtml","$detailsNext","$currentDetails","$detailsPrev","$detailsBack","$detailsShowAll","$showMore","detailsExpanded","$detailsContent","currentData","not","$items","itemData","detailsHtml","createDetails","$detailsView","$contentContainer","contentPath","getItem","increment","currentDetailItem","nextDetailHtml","$animateOutdetails","$setActive","$categoryLinkContainer","randomItemHtml","typeOfBlock","$landingItems","$replaceItemsPool","textRandomNumbers","randomId","lastRandomId","$replaceItem","onComplete","indexOfItem","$replacementItem","$elIn","$elOut","$itemInContainer","getItemInContainer","$image","$navigation","$right","left","zIndex","delay","right","$left","distinctItemsArr","dataRandomItems","filterItem","getImageBlockHtml","getTextBlockHtml","$baseView","objData","FactBox","classList","contains","querySelector","parentElement","FilterFunction","tagsClass","tagClass","tagInactiveClass","tagListSelector","dropDownBtnClass","itemsSelector","itemSelector","itemHideClass","itemShowClass","itemRightColumnClass","itemIframe","itemVideo","itemLeftColumnClass","loadMoreSelector","mobileSelector","desktopSelector","desktopLeftSelector","desktopRightSelector","maxItemOnLoad","maxItemLoadMore","tagsSelector","split","join","tagSelector","$parent","$tags","$desktop","counter","obj","tag","elIndex","mapTaggedElement","savedEl","css","$tagList","tags","itemInCol","result","$iframe","$iframes","$videos","$videoSource","$video","sides","updateSide","$colAniEl","$mobile","getHiddenItems","$loadMoreBtn","show","$currentItems","$visibleItems","Form","attr","indexOf","$formAttachmentsFiles","$scw","open","XMLHttpRequest","readyState","isSitecoreForm","formId","focus","$focusElement","blur","$focusOutElement","$textarea","maxLength","$maxLengthIndicator","iter","scwResult","$this","el2","txt","nodeType","label","helpText","possible","$appendEl","$template","uniqueId","currentcontext","$label","labelVal","$removeFileBtn","fileName","files","getAttribute","thiz","hasBeenAutofilled","getComputedStyle","MegaNavigation","submenuTriggers","isSliderNavigation","keyup","$menuItems","menuItemsChars","navMenu","isItemActive","animateSubMenuItem","err","wffmiduserdetails","wffmfirstfield","mhCustomerNumberSendNumbersError","mhErrorMessage","mhSendNumbersError","validEmailpattern","regex","tmp","cb","events","CreateEmailLoginEmailValidation","CreateEmailLoginPasswordValidation","password","customerNumber","pointOfDelivery","doNotShowModal","changeType","FirstTimeNemoLoginEmailValidation","FirstTimeNemoLoginPasswordValidation","checkEmail","primaryPerson","Password","windowWidth","overflowClass","toggleOverflow","changetxtType","isCommmunicationHeader","HeaderClassic","test","isMobile","hasQuickLinks","itm","prop","style","transition","HeaderSearch","$search","parent","$corporate$searchForm","$searchForm","searchFormInput","submit","$searchFormInput","HeaderSlider","menuItemStayOnHover","HeroSlider","headerSliderSpacerHeight","headerClassicSpacerHeight","Icons","FontFaceOnload","ImageSlider","communicationToolboxLayout","$swiperContainer","dataset","loopCarousel","onSlideChangeStart","control","iframe","youtubeVideo","YT","video","youtube","player","$sliderDescriptions","InteractiveTimeline","contentBaseUrl","$modalDialog","activeId","hashtag","trueheight","$anchorContainer","activeElement","xOffset","touchendX","nextID","previousID","$arrow","$scrollContainer","changed","activeElements","getElementsById","cloneReference","$activeContent","$activeAnchor","$anchor","$anchorContentContainer","title","modalDialogVisible","base","activeIframeUrl","activeHash","currentHash","currentId","anchorContentClass","JobSearchHero","preselected","href","$submitButton","Link","pathname","target","slice","skipTo","List","list","originalListType","ListFilters","Login","$popoverAccordiionNode","$customerNumber","pod","$passwordField","$hideBtn","viewport","customEmailAndCustomerNumber","EmailToRemindPassword","EmailToRemindPasswordCn","CustomerNumber","PointOfDeliveryNumber","MovingForm","MultiNarrative","$options","swiper","993","onClick","onTap","parentHeight","SelectDropdown","dropdownMenu","placeholder","selectElement","disabled","offsetWidth","focusedItem","menuItems","querySelectorAll","selectedIndex","toggleSelectedItem","selectedValues","selectedOptions","children","keys","foundItem","findMatchingOption","optionsMenu","foundIndex","startIndex","jumpKeywords","currentItem","focusItem","previousItem","previousIndex","dropdownMenuWrapper","scrollHeight","itemBottom","clientHeight","fragment","li","imageElement","generateImage","imageUrl","optionsFragment","Option","focusedItems","$dropdownMenu","dropdownDirection","spaceAbove","spaceBelow","menuItem","showMenu","closeMenu","selectItemByData","updateDropdownPosition","keydown","handleMobileSelection","MultiSelectDropdown","selected","newFocusedItem","selectedFirstChild","selectedLastChild","selectedFragment","OrderFlow","orderflow","PageLanguageSwitcher","call","scrollPosition","localStorage","selectedItem","dropdownOptions","shortText","displayText","footerElement","toggleFloatingButtonVisible","animationEnded","languageChanged","dropdownLoaded","componentClassName","contentClassName","articlesClassName","articleClassName","articleDisabledClassName","slideActionClassName","defaultOptions","component","content","articles","article","articleDisabled","slideAction","slideActionNext","slideActionPrevious","slideActionShow","actionName","getElementMarginRight","property","computedStyle","getElementPropertyValue","getWidth","numberOfElementCanFitInContainerView","$container","childWidth","parentWidth","setupActiveArticle","containerScroll","elementPosition","elementWidth","elementIsInContainerView","initSelf","articleDisable","scrollLeft","pos","setupEvents","currentDelta","endMove","currentArticleWidth","$articles","getState","executor","updateItem","action","articlesState","activeArticles","newIndexes","maxElem","firstIndex","newIndex","payload","findActionOnIndexState","states","currentArticles","currentPos","currentScroll","isTap","hasEnded","maxScrollDistance","isAnchor","isDisabledArticle","newArticleWidth","articleWidthChanged","initStore","storeEnhancers","createStore","combineReducers","$nodes","isActive","indexes","setActiveArticle","buttons","setupSlideAction","objKey","initButtonState","lastAction","store","rendering","UPDATE_CONTAINER_WIDTH","firstArticleIndex","SET_ACTIVE_ELEMENTS","activeArticlesWidthWithMargin","activeArticlesLeftOffset","UPDATE_BUTTON","buttonsState","UPDATE_POSITION","positionState","RelatedReads","Richtext","Search","datumTokenizer","Bloodhound","queryTokenizer","remote","wildcard","response","minLength","hint","limit","displayKey","source","parents","initSection","getElement","Error","Sitemap","allClosed","Social","$twitter","$coloredContentBanner","Stock","dongLast","dongDelta","dongVolume","dongLastDate","omxLast","omxDelta","apiPollingPeriod","negativeClass","refilStockDataOnElement","requestFail","p1","p2","p3","p4","p5","convertNumberFormat","reponseCheckValue","changeDataRegex","lastData","changeDataRegexReplacer","formattedDate","sendRequest","decimalPlace","minimumFractionDigits","Table","thead","mobileHeaderText","Teaser","$imageTag","imageSize","teaserImg","TeaserMedium","teaserImages","Timeline","firstIds","outerHeight","TopTasks","$list","onExpanderClick","$listItems","$expander","isExpanded","$listItem","hideTask","headerMargin","Twitter","twttr","widthstring","modal","videoMuted","videoControls","videoEndClose","onClose","onOpen","initVideoBox","props","videoBoxTemplate","$videoModal","elementClickHandler","videoEndedHandler","closeModal","openModal","playVideo","pauseVideo","stopVideo","setupEventListener","VideoBox","swipeLeft","swipeRight","swipeUp","swipeDown","handleTouchStart","firstTouch","getTouches","handleTouchMove","xUp","yUp","xDiff","xDown","yDiff","yDown","bindEvents","maxVideoDuration","offsetNavigation","videoErrorHandler","$progressBar","percentage","elapsed","timestamp","initVideo","videoDuration","videoTimeUpdateHandler","pauseItem","playItem","selectItem","currentItemIndex","itemList","removeProgressBarHandler","removeContentHandler","removeItemHandler","isElementInViewport","itemClickHandler","clickedItem","selectedItemIndex","findIndex","elBound","$nav","videoBoxOnOpenHandler","videoBoxOnCloseHandler","mapItem","btnToChange","thisScope","$itemWrapper","videoBox","$buttonToaster","fallback","isLegacyEdge","$thumbnailNodes","$thumbnail","initVideoCarousel","$itemNodes","$contentList","Swiper","followFinger","getCurrentVideo","scrollHandler","$currentVideo","visible","old_visible","handleVisibilityChange","swipeLeftHandler","swipeRightHandler","addEventListener","VideoCarousel","StickyBar","disableCookie","cookieExpiryDays","expires","StickyButton","$cookieBot","TYPES","NONE","SINGLE","MULTIPLE","CUSTOM","importer","selector","handlers","modules","nodes","node","DynamicLoadingOptions","componentHasName","componentImporterIsFunction","componentGenerateNodes","componentNodesIsNotEmpty","createComponentPromises","Promise","handler","DynamicLoadingHandlers","resolve","reject","instance","components","dynamicLoadingPromises","dynamicLoading","utilities","headerSearches","documentClassList","sectionNodes","jobSearchHero","stickyButton","stickyBar","newStickybar","heroSliders","multiNarratives","forms","async","searchFields","expands","customSelectNodes","$vid","menu","ul","jsonp","baseUrl","adgangsadresserOnly","autoFocus","fuzzy","stormodtagerpostnumre","_create","targetType","autocompleteWidget","caretpos","adgangsadresseid","skipVejnavn","cache","q","currentCaretPos","adgangsadresseRestricted","stringifiedParams","dataType","processedResult","memo","stormodtagerEntry","adresse","rows","autocompleteOptions","getAutocompleteResponse","select","ui","range","sel","textRange","placeCaretAtEnd","currentCaretpos","status","locale","isScreenSmall","forwardHourlyParam","region","hasPrevData","hasNextData","prevChartDate","chartDate","formattedChartDate","chartData","clearCache","num","maximumFractionDigits","numDigits","arr","formatCurrency","currency","inputData","period","col1","col2","col3","col4","output","priceUnit","priceInfo","apiEndpoint","msg","formatCurrencyArr","periodLength","dateFormatString","chartType","xlabel","res","startdate","enddate","unit","ylabel","labels","chartobj","energyMarketCharts","changeHourlyChartPage","filterResult","searchedDate","getOffsetDate","firstDate","firstElem","yyyy","mm","dd","getFirstDateFromLabels","searchedDateString","getDateInPriceApiFormat","cutOffIndex","filterDataAndLabels","setXaxisLabel","pagingData","Labels","Data","Region","Page","PageSize","StepSize","Date","tooltipItem","nplusone","getChartDataCsv","csvData","blob","Blob","changeChartPage","updateChart","datelabel","optionsday","weekday","daytext","day","endIndex","currentDate","initialDate","byMonth","updateTable","smallScreenNewValue","updateChartPaging","Chart","lineColor","chartStyle","borderColor","fill","pointRadius","pointBackgroundColor","pointHoverRadius","pointHitRadius","xLabels","yAxis","gridLines","zeroLineWidth","zeroLineColor","scaleLabel","fontStyle","fontSize","ticks","maxRotation","xAxis","labelString","optionplugins","plugins","afterEvent","chart","startPosX","swipe","prevSeries","nextSeries","hourlyChartNextPage","legend","scales","yAxes","xAxes","tooltips","displayColors","tension","borderJoinStyle","borderWidth","mode","datasets","logins","timelines","newTimeline","stockNodes","teaser","teaserMedium","$ff","componentName","enableInlineVideo","headings","guid","r","v","relatedReadsNodes","imageSliders","videoCarouselNodes","careerSliders","google","O","ca","X","C","g","f","h","A","lat","lng","u","H","z","setCenter","cssText","innerHTML","B","parentNode","removeChild","map","styles","markersarray","overlaysarray","allow","googlemaps","initialize","styledmap","zoom","center","mapTypeControl","streetViewControl","panControl","zoomControl","mapTypeId","ROADMAP","zoomobserve","zoomtopos","typ","backto","latlng","level","adddata","cls","tip","ico","fid","icon","atr","assetsPath","clusterStyles","textColor","textSize","markerCluster","MarkerClusterer","minimumClusterSize","infowindow","overlay","ioverlay","point","tit","des","pho","lnk","rdm","infowindowadjust","mx","my","mw","nx","ny","px","py","mapclick","addmarker","goverlay","deletemarkers","pantoxy","pixes","fxp","getxml","entry","cou","unt","cx","toclass","activities","mrls","mor","les","countries","units","div_","getPanes","pane","projection","listener","_eventCollection","fn","listeners","hadGlobal","oldGlobal","createElement","_","createElementNS","apply","fake","appendChild","styleSheet","createTextNode","background","overflow","offsetHeight","getPropertyValue","currentStyle","toLowerCase","CSS","supports","push","toUpperCase","E","modElem","shift","charAt","T","_version","_config","classPrefix","enableClasses","enableJSClass","usePrefixes","_q","on","addTest","addAsyncTest","prototype","documentElement","nodeName","S","_prefixes","matchMedia","msMatchMedia","matches","mq","TouchEvent","DocumentTouch","_cssomPrefixes","unshift","_domPrefixes","testAllProps","P","CSSRule","atRule","N","prefixed","aliases","hasOwnProperty","Boolean","baseVal","rootEl","onReady","onStateChange","playlist","firstScriptTag","videoHeight"],"mappings":"2EAAAA,EAAOC,QAAUC,c,i9BCoBjB,MApBA,SAAkBC,EAAMC,EAAMC,GAC5B,MACA,OAAO,WACL,IAAIC,EAAJ,KACEC,EADF,UAEIC,EAAQ,WACVC,OACA,GACEN,cAGAO,EAAUL,IAAd,EACAM,gBACAF,EAAUG,WAAWJ,EAAOJ,GAA5BK,KACA,GACEN,e,MCPN,MARA,SAAmBU,GACjB,IACE,QAAQA,8CAAD,KACP,MAAOC,GACP,WCkBJ,MApBA,SAAoBC,GAClB,uBAAWA,EACFC,uBAAP,GAGED,aAAJ,SACSA,EAAP,GAGEE,EAAJ,IAIIF,GAAMA,aAAgBG,KAA1B,aAHE,EAOF,MCFF,MAfA,SAA6BH,GACvB,mBAAO,EAAP,GAA2BA,aAA/B,MACEA,EAAKA,EAALA,IAGF,IAAII,EAAOJ,EAAX,wBAEA,OACEI,aACAA,SADAA,GAEAA,QAAaC,oBAAsBJ,yBAFnCG,eAGAA,SAAcC,mBAAqBJ,yBAJrC,c,urBCYK,IAAMK,EAAOC,IAAb,QACMC,EAAQD,IAAd,QACME,EAAQF,IAAd,QAEMG,GADQF,WAAd,OACcD,IAAd,UAKMI,GAJaC,cAKxBP,OAAM,sBAA4B,CAChCQ,WADgC,mBAEhCC,cAAe,eAGNC,EAAsB,WAEjC,OADcd,uBAAd,QACOQ,mBAAP,0BAGWO,EACJX,OAAM,UAAb,GAOK,SAASY,EAAcC,GAC5B,IAWIC,GAXAD,EAAU,WACZ,CACEE,MADF,kBAEEC,MAFF,EAGEC,WAHF,4CAIEC,MAJF,GAKEC,OALF,GAMEC,cAAc,IAPlB,IAWaP,WAAb,OAEIQ,EAAenB,IAAnB,UAEAmB,OAAkB,CACd,iBAAiBR,gBADH,MAEd,kBAAkBA,gBAAsBM,SAG5CE,MAAiB,CACf,mCADe,KAEf,4BAAqBR,EAArB,oBAAwCA,EAAxC,gBAGFQ,WAAsBR,EAAtBQ,yBAAuDR,EAAvDQ,OACIR,EAAJ,MACEA,2BAGG,SAASS,EAAaC,GAC3B,IASA,EACA,EAVIC,EAAWD,OAAf,aACIE,EAAYF,OAAhB,cAEIG,EAAiBH,WAArB,QACII,EAAkBJ,WAAtB,SAEIK,EAAWH,EAAf,EAcA,OAbqBE,EAArB,EAKA,GACEE,IACAC,EAAaH,EAAbG,IAEAA,IACAD,EAAcH,EAAdG,GAGK,CAACX,MAAD,EAAmBC,OAAOU,GAY5B,SAASE,IACd,IAAMC,EACJC,qBACAA,UADAA,QAEAjC,OAHF,MAKA,OACEgC,kBACAA,QADAA,YAEAA,QAHF,SAKE,MACSA,QAAJ,YACL,UACSA,iCAAJ,EACL,qBACSA,gCAAJ,EACL,mBAEAA,mCACEhC,OAFG,IAIL,QAEAgC,sCACEhC,OAFG,OAIL,SACSgC,oCAAJ,EACL,oBACSA,oCAAJ,EACL,UACSA,mCAAJ,EACL,SAEA,UAMJE,mBAAqB,kBAEnB,OADAC,GAAKC,EAALD,GACA,EACUE,EAAD,MAAP,GAGOA,EAAF,KADPF,GACwBA,EAALA,GAAZ,GAAP,GAGFD,iBAAmB,kBAEjB,OAAOI,EAAID,IADDF,GAAD,KAAT,IAIFD,kBAAoB,kBAClB,IAAIK,GAAMJ,GAAD,GAAT,EACEK,EAAKD,EADP,EAEA,OAAOD,EAAID,GAAK,EAAIG,EAAKD,GAAM,GAAKA,EAApB,EAA8B,GAA9C,IAIF,IAAIE,EAEAzC,8BACAA,OADAA,6BAEAA,OAFAA,0BAGA,YACEA,oBAA4B,IAA5BA,KAKC,SAAS0C,EAASC,EAAIC,EAAUC,GAerC,IAAIC,EALAlD,oCACAA,yBADAA,WAEAA,cAHF,UAOAmD,EAASJ,EADX,EAEEK,EAFF,EAIAJ,OAA+B,IAAbA,EAA2B,IAA7CA,EACIK,IAAJ,QACEL,OAEkB,SAAhBM,IAEFF,GAVF,GAYE,IAzBF,EAyBMG,EAAMjB,yBAJmB,GArB/B,EAqB+B,EApB7BtC,qCACAA,qCACAA,0BA0BIoD,EAAJ,EACEP,KAEII,GAAJ,mBAAuBA,GAErBA,IAINK,GA2GK,SAASE,IACd,IAAIC,EAAJ,EACApD,sBAAyB,WACvBA,kBAGG,SAASqD,IACdrD,uBAGK,SAASsD,EAAaC,GAK3B,IAJA,MADkC,EAC9BC,EAAeD,EAAnB,OAIO,IAAP,GAEEE,EAAcxB,WAAWA,cAAzBwB,GAGAC,EAAiBH,EAFjBC,GAHyB,GAMzBD,KAAsBA,EAAtBA,GACAA,OAEF,SAGK,SAASI,EAAeC,EAAMhD,GAanC,IAZA,MAAIiD,EAAJ,iBACEC,EADF,mDAEEC,EAFF,cAGEC,EAHF,EAKIC,EAAM,SAANA,EAAM,KAKR,OAHKF,GADLG,EACaC,WAAoBA,EAApBA,KAAkC,UAAYA,EADzD,OAGIA,MAAa,WAAaA,eAAb,OAAbA,QAHND,GAIA,GAEME,EAAQP,OAAhB,IACEI,EAAIL,UAAmBQ,EAAvBH,QAAqCG,EAArCH,OACAD,EAASI,QAAcA,KAAvBJ,OAIF,OAFAC,EAAIL,WAAoBA,SAAxBK,IACAF,wBACO,IAAIM,SAASN,sBAAb,WAAP,GAGK,SAASO,EAAWhD,GACzB,IAAIiD,EAAcjD,OAAlB,SAEAA,MAAQ,CACNkD,SADM,WAENC,WAFM,SAGNC,QAHM,QAINC,UAJM,OAKNzD,OAAQ,SAEV,IAAI0D,EAAY,CACd1D,OAAQI,EADM,SAEdL,MAAOK,WAIT,OAFAA,eAAkBiD,GAAlBjD,IAEA,EAYK,SAASuD,EAA8BC,GAC5C,IAV8BC,EAAeC,EAAQC,EAAUhG,EAC3DiG,EASAC,EAAmBlF,IADsC,8BAG7D,IAAIkF,UAZ0BJ,EAc1B,WAEE,YAAII,mBAA8C,CAChD,IAAIjE,EAASjB,yBAAb,UACA,UArXDF,OAAM,kBAAb,IAsXUqF,+BADF,SAEElE,GAOF,UA3BqC8D,EA8BzC,WAGIjF,iBACAW,EADAX,YAECW,YAHH,aAMET,kDACA6E,6BACA7E,2DACAA,6CACAA,sDA1C6CgF,EAapC,IAb8ChG,EAa7DoG,KAZEH,EAAenF,OAAA,aAAmB,WAChCgF,EAAJ,KACEhF,wBACAiF,QAHJ,IAmDWjF,iBAAmBW,EAAvB,SAELT,kDAIJ,IAAIqF,EAAJ,EAyFO,SAASC,IACd,IAAMC,EAAkB,CACtBC,aADsB,KAEtBlF,WAAY,oBAGRmF,EAAO/F,uBAAb,QACMgG,EAAW,EAAH,QAETD,EAFL,SAKA,MAAI,iBAAOE,UAAP,IAAoCD,iBAAwBC,UAAhE,IACSD,EAASC,UAAhB,IAGF,EAGK,SAASC,IAGd,aACElG,4DAAsDI,mBAAtDJ,WAHEI,OAAJ,yBAMAA,8CACAA,kCACAA,oCACAA,+CAEAA,kCAGK,SAAS+F,EAAsBC,GACpC,IAAMC,EAAMrG,uBAAZ,OAEA,OADAqG,YAAgBD,EAAhBC,OACOA,EAAP,WAGK,SAASC,KAET,SAASC,EAAWpH,GACzB,yBAAcA,EAGT,SAASqH,EAAkB7E,GAChCA,QAAS,cAEP,IADA,MACO5B,eAAkBA,EAAzB,iBACE0G,EAAO1G,YAAP0G,QACIA,mBAAJ,IAGA1G,YAAe0G,wBAAf1G,UA7INM,KACM,CACF,oCAAqCqG,GAAS,WAC5C,IAAIC,EAAKtG,EAAT,YACIuG,EAFmD,GAMrDA,EADED,EAAJ,EACEC,OACSD,EAAJ,EACLC,KAEAA,GAEF,IAAIC,EAAQlB,EAAZ,EACAA,IACA,QAAIiB,EACFA,SACK,MAAIA,IAGTA,MAGFE,kBAAuB,CACrBC,IAAK1G,EADgB,YAErB2G,UAAWH,MAzBb,GA4BFI,OAAQP,GAAS,WACfQ,KAAA,eAAsB3G,EAAtB,cACAuG,kBAAuB,CACrBvF,OAAQhB,EADa,cAErBe,MAAOf,cAJK,OA7BpBF,oCAwCAA,WAAa,YAEX,IAAI8G,EAFmB,KAIvB,KAAIrH,UACFqH,WAGF,KAAIrH,UAEFqH,YAGF,KAAIrH,UAEFqH,WAGF,KAAIrH,UAEFqH,QAGF,KAAIrH,UAEFqH,UAGF,KAAIrH,UAEFqH,WAGF,KAAIrH,UAEFqH,UAGF,IAAIrH,UAEFqH,eAEF,GACEL,2B,kFC/hBJM,OACAA,OAaA,IAAM9G,EAAIF,SAAWgH,EAArB,GAEIC,EAAe/G,EAAnB,UACAA,YAAc,SAAUgH,GACtB,OAAKA,GAAL,OAAaA,EAIND,aAAP,YAHEE,8DACA,OAMJjH,YAAY,CACVkH,KAAM,WACJ,O,UAAA,UAKJJ,iBACAA,MACAA,OACAA,OACAA,OACAA,OACAA,OAEAA,Q,6RCvCAhH,yBAA2B,YACzB,MAAO,IAAMqG,eAAN,KAAP,KAGFrG,yBAA2B,YACzB,MACkB,iBAATqG,GAAP,MACAA,eAFF,MAGEA,SAAYA,SAAZA,KAEOA,WAAeA,SALxB,GAMYA,GAGdrG,2BAA6B,YAK3B,IAJA,IAEIqH,EAFarH,mCAAjB,IAEgBsH,MAAhB,KAESC,EAAT,EAAgBA,EAAIF,EAApB,WAA2C,CACzC,IAAIG,EAAWH,WAAf,KAEA,GAAIG,OAAJ,EAAyB,OAAOC,mBAAmBD,EAA1B,IAG3B,UAIFxH,kBAAoB,cAElB,IADA,IAAI0H,EAAW,IAAf,MACSH,EAAT,EAAgBA,EAAII,EAApB,WACMA,OAAJ,GACED,OAAcC,EAAdD,IAIJ,UAGF1H,oBAAsB,cAGpB,IAFA,IAAI4H,EAAQ1H,IAAZ,KAESqH,EAAJ,EAAWM,EAASD,EAAzB,OAAuCL,EAAvC,MAAwD,CACtD,IAAIO,EAAc5H,IAAE0H,EAAF1H,SAAlB,QAEI6H,wBAAJ,IAAwCD,iBAIpCA,gBAAJ,EACE5H,IAAE0H,EAAF1H,gBAEE4H,YAHJ,GAME5H,IAAE0H,EAAF1H,gBAEE4H,YAFF5H,MAONF,iBAAmB,YACjB,uBAAWgI,EAA2BA,oBAAtC,GACYA,SAAP,IAIPhI,sBAAwB,SAAwBiI,GAC9C,IAAI3F,EAAI1C,sBAAsB,YAAcqI,EAA5C,oBACA,OAAO3F,EAAIA,EAAH,MAAR,IAIFtC,2BAA6B,cAC3B,IAAIkI,EAAWhG,SAASiG,YAAmBC,EAA3C,WAGA,OAFelG,UAAUgG,EAAW,QAKtClI,4BAA8B,cAC5B,IAAIkI,EAAWhG,SAASiG,YAAmBC,EAA3C,WAGA,OAFgBlG,UAAUgG,EAAW,OAKvClI,sBAAwB,YACtBqI,wCACAA,yBACAA,yBACAA,+BACAA,wBAGFnI,qBAAkB,WAGhB,IAAIoI,EAASpI,IAAb,iBAEAoI,gBAAyB/H,iBAAzB+H,GAAiDA,MALtB,OAQ3B,IAAIC,EAAiBrI,IAArB,gBAEAqI,cAEEA,2BAA4CvI,OAF9CuI,aAQFrI,WAASA,oBAATA,MAAkC,CAChC,WAAY,YACV,OAAOsI,OAAOC,EAAd,eAEF,WAAY,cACV,OAAOR,iBAAqBA,eAA5B,GAEF,YAAa,cACX,OAAOA,gBAAoBA,gBAA3B,GAEF,oBAAqB,YACnB,OAAOS,WAAWC,8BAAlB,OAEF,oBAAqB,cACnB,OAAOV,OAAaA,MAApB,GAEF,qBAAsB,cACpB,OAAOA,MAAYA,OAAnB,KAIJjI,iCAAmC,cACjC,OAAI4I,UAAqB,CACvB,IAIE,EAJEC,GAAJ,GACE7I,2DACE8I,EAAMF,cAAoBA,EAA9B,OACA,IAAKE,GAAL,YAAYA,wBAOV,IAJEC,EADF,EACkBnJ,wBAAhBmJ,GAEgBnJ,aAAhBmJ,UAEF,IAA4BA,EAAP,MAInB,OAHAA,UACAH,kBACIA,EAAJ,iBAA2BA,qBAC3B,EAIN,W,uBC/JF,IAAI5I,iBACAgJ,0BAA4B,cACxB,IAAK,IAAIzB,EAAT,EAAgBA,EAAIT,KAApB,OAAiCS,IAC7B,GAAIQ,eAAejB,KAAKS,GAApBQ,GAAJ,GACI,SAIR,UAGJiB,6BAA+B,cAC3B,IAAIC,EAAQnC,KAAKoC,UAAUC,EAA3B,GAEA,OAAIF,GAAJ,EACWnC,KAAP,GAGJ,Q,mBChBR,WACE,sBAAW9G,OAAP,YAA0C,OAAO,EAErD,gBACEoJ,EAASA,GAAU,CAAEC,SAAF,EAAkBC,YAAlB,EAAqCC,YAAQC,GAChE,IAAIC,EAAM7J,qBAAV,eAOA,OANA6J,oBAEEL,EAFFK,QAGEL,EAHFK,WAIEL,EAJFK,QAMA,EAGFC,YAAwB1J,aAAxB0J,UAEA1J,qBAjBF,I,uUCMqB2J,E,WACnB,e,4FAAoB,SAClB7C,KAAA,KAAY,CACV8C,SADU,GAEVC,OAFU,EAGVC,KAHU,KAIVC,WAJU,GAKVC,SALU,GAMVC,WAAY,gBACV/J,oCAEFgK,WAAY,CACV,CACEC,QAAS,CADX,GAEEC,UAFF,yDAGEC,YAHF,EAIEC,OAAQ,gBACN,IAAMC,EAAgB/B,cAAoBlI,IAA1C,YACA,6DAAuDkK,EAAvD,uGAGJ,CACEL,QAAS,CADX,GAEEC,UAFF,+DAGEE,OAAQ,gBACN,IAAMC,EAAgB/B,IAAOgC,EAAPhC,WAAsBlI,IAA5C,YACA,6DAAuDkK,EAAvD,gMAAqPA,EAArP,sBAAsQA,EAAtQ,iBAINC,SAAU,CACRC,SAAU,CACRC,KADQ,qEAERC,SAAU,0EAEZC,WAAY,+BAIhB/D,KAAA,mBAEAA,KAAA,OAAc,WAAS,CACnBnH,GADmB,uBAEnBmL,MAFmB,2BAGnBC,QAHmB,wBAInBC,UAJmB,iCAKnBC,qBALmB,8BAMnBC,MANmB,SAOnBC,KAAM,SAPV,GASArE,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,OAAc5G,IAAE4G,KAAKsE,OAArB,OACAtE,KAAA,SAAgB5G,IAAE4G,KAAKsE,OAAvB,SACAtE,KAAA,OAAcA,KAAKuE,SAASC,KAAKxE,KAAKsE,OAAtC,OACAtE,KAAA,MAAaA,KAAKuE,SAASC,KAAKxE,KAAKsE,OAArC,MACAtE,KAAA,sBAA6BA,KAAKuE,SAASC,KAAKxE,KAAKsE,OAArD,sBAEGtE,KAAKvF,IAAR,QACEuF,KAAA,O,oDAICjG,GACH,IAAM0K,EAA0BvL,gCAAhC,GACAE,cAAe4G,KAAf5G,QACA4G,KAAA,gBACAA,KAAA,e,sCAGc,WACV7G,iBAAsBA,YAA1B,IACEC,4CACSD,iBAAsBA,YAA1B,IACLC,4CACSD,aAAJ,MACLC,6CAGF4G,KAAA,cAAqBA,KAAK0E,OAAOC,UAAU,CACzCC,UADyC,EAEzCC,MAFyC,EAGzCC,YAHyC,EAIzCC,WAJyC,EAKzCC,eALyC,EAMzCC,YANyC,EAOzCC,YAPyC,EAQzCC,WARyC,EASzCC,KAAM,CACJC,IAAKrF,KAAKsF,KADN,WAEJC,KAAM,YACJjK,SAAW,OAAXA,OACAA,OAAS,OAATA,KACAA,QAAU,SAAVA,MACAA,OAAS,QAATA,MACAA,oBAAsB,OAAtBA,YAEFkK,QAASxF,KAAKsF,KAAKG,iBAErBC,WAAY1F,KAAKsF,KApBwB,SAqBzCK,IAAK3F,KAAKsF,KArB+B,SAsBzCnC,WAAYnD,KAAKsF,KAtBwB,WAuBzClC,WAAYpD,KAAKsF,KAvBwB,WAwBzC3B,SAAU3D,KAAKsF,KAAK3B,a,mCAIX,WACX3D,KAAA,oBAAyB,WACvB,0BAGFA,KAAA,mBAAwB,YACtB,GAAI5G,IAAER,EAAFQ,cACF,+BAEA,+BAGF,+B,qUC5HewM,E,WACnB,e,4FAAqB,SACnB5F,KAAA,IAAW5G,IAAEW,EAAb,KACAiG,KAAA,qCACAA,KAAA,sCACAA,KAAA,+CACAA,KAAA,gDACAA,KAAA,mBACIA,KAAJ,KACEA,KAAA,O,sDAKEA,KAAKvF,IAAI+J,KAAKxE,KAAlB,mBACEA,KAAA,Y,gDAIsB6F,GACxB,OAAOA,kBAAP,M,gCAGQ,WACFC,EAAO9F,KAAKvF,IAAI+J,KAAKxE,KAA3B,iBACM+F,EAAWD,OAAU9F,KAA3B,kBACA8F,cAAiB,SAAAlN,GACf,IAAMoN,EAAa5M,IAAER,EAArB,eAEGoN,WACC,4BAA+B,EAFnC,uBAKED,UAAiB,EAAjBA,gBACAD,cACE,4BAA+B,EADjCA,qBAGAE,kDAEFA,OAAgB,EAAhBA,yBAA8C,EAA9CA,gBACAA,WACE,4BAA+B,EADjCA,qBAGAA,iDAGF5M,0BAAwB,SAAAR,GACtB,IAAMqN,EAAgB7M,IAAER,EAAxB,QAEGqN,KAAiB,EAAlB,uBACCA,KAAiB,EAFpB,mBAIEF,UAAiB,EAAjBA,gBACAA,0D,yVClDR,IAAM3M,EAAIF,OAAV,EAEqBgN,E,WACnB,e,4FAAoB,SAClB9M,0BACAA,wBACA4G,KAAA,KAAY,CACV8C,SADU,GAEVC,OAFU,EAGVoD,OAHU,GAIVC,cAJU,GAKVnD,WALU,GAMVC,SANU,GAOVC,WAAY,YACV/J,kCAEFgK,WAAY,CACV,CACEC,QAAS,CADX,GAEEC,UAFF,yDAGEE,OAAQ,gBACN,IAAI6C,EAAgB3C,EAAG,eACnB4C,EAAJ,GAcA,OAbA,OAAID,EACFA,WAAsB,SAAArD,GACpBsD,GACE,6CACAtD,EADA,qCAGAA,EAHA,YADFsD,eAQFA,uFAIA,mKAIA5C,EAAG,QAJH,MAMCA,OAAG,UACA,0CACAA,EAAG,UAFNA,aAND,wCAYAA,EAAG,gBAbL,2BAmBNC,SAAU,CACRC,SAAU,CACRC,KADQ,qEAGRC,SACE,0EAEJC,WAAY,+BAIhB/D,KAAA,mBAEAA,KAAA,OAAc5G,EAAA,OACZ,CACEP,GADF,wBAEEmL,MAFF,sBAGEuC,eAHF,2BAIEC,WAJF,mBAKEC,aALF,UAMEC,gBANF,4BAOEC,oBAPF,uBAQEC,yBAA0B,wBAT9B,GAcA5G,KAAA,IAAW5G,EAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,OAAcA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAAjC,OACAtE,KAAA,gBAAuBA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAA1C,gBACAtE,KAAA,YAAmBA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAAtC,YACAtE,KAAA,cAAqBA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAAxC,cACAtE,KAAA,iBAAwBA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAA3C,iBACAtE,KAAA,qBAA4B5G,EAAE4G,KAAKsE,OAAnC,qBACAtE,KAAA,0BAAiC5G,EAAE4G,KAAKsE,OAAxC,0BACItE,KAAKvF,IAAT,QACEuF,KAAA,O,sDAKF,IAAI6G,EAAuB3N,6BAA3B,GACAE,YAAe4G,KAAf5G,QACA4G,KAAA,e,sCAGI7G,iBAAsBA,YAA1B,IACEC,0CACSD,iBAAsBA,YAA1B,IACLC,0CACSD,aAAJ,MACLC,2CAGF,IAAI0N,EAAJ,KACA9G,KAAA,cAAqBA,KAAK0E,OAAOC,UAAU,CACzCC,UADyC,EAEzCC,MAFyC,EAGzCE,WAHyC,EAIzCD,YAJyC,EAKzCE,eALyC,EAMzCC,YANyC,EAOzCC,YAPyC,EAQzCC,WARyC,EASzC4B,cATyC,EAUzC3B,KAAM,CACJC,IAAKrF,KAAKsF,KADN,WAEJC,KAAM,YACJjK,SAAWwL,OAAXxL,OACAA,SAAWwL,gBAAXxL,MACAA,gBAAkBwL,OAAlBxL,cACAA,aAAe0L,mBAAmBF,EAJlB,kBAMlBtB,QAASxF,KAAKsF,KAAKG,iBAErBC,WAAY1F,KAAKsF,KApBwB,SAqBzCK,IAAK3F,KAAKsF,KArB+B,SAsBzCnC,WAAYnD,KAAKsF,KAtBwB,WAuBzClC,WAAYpD,KAAKsF,KAvBwB,WAwBzC3B,SAAU3D,KAAKsF,KAxB0B,SAyBzC2B,aAAc,YACUnI,OAAtB,gBACAoI,SAAwB,cACtB9N,EAAE,iBAAFA,WACAA,EAAE,kBAAFA,cAEF,IAAI+N,EAAJ,EACiB/N,4CAAjB,wBAGAgO,OAAkBpH,KAAKqH,MAAMC,KAAKzC,OAAO0C,MAAzCH,GACA,IAAII,EAAKV,uBAAT,MAGEK,EADF,IAAInH,KAAKqH,MAAMC,KAAKzC,OAAO0C,MACzBJ,EAEenH,KAAKqH,MAAMC,KAAKzC,OAA/BsC,aAEF,IAAIM,EAAmBD,oBAAvB,GACIE,EAAc1H,KAAKqH,MAAMC,KAAKzC,OAAOyC,KAAzC,EACIK,EAAU3H,KAAKqH,MAAMC,KAAKzC,OAAO9D,OAArC,EACIf,KAAKqH,MAAMC,KAAKzC,OAAO9D,OAAS2G,EAApC,IACEC,KAGF,IAAI3H,KAAKqH,MAAMC,KAAKzC,OAAO0C,OACzBnO,0BACAA,0BAEAA,0BACAA,wBACAA,oCACE4G,KAAKqH,MAAMC,KAAKzC,OAAO9D,OAASf,KAAKqH,MAAMC,KAAKzC,OAAhD,aADFzL,GAMAA,6BAGF0N,oCACA1N,wBACE,CAAEmD,UAAWnD,0BAA4B,KAD3CA,a,mCAQJ,IAAI0N,EAAJ,KACA1N,mBAAkB,WAKhB0N,gBAAqBc,SAArBd,IACAA,kBACA,IACIe,EADK,IAAIC,OAAb,uBACS9K,KAAQlE,SAAjB,QACA,MAAI+O,GACF,QAAIE,SAASF,EAATE,MACFjP,uEAEAgO,2BAKN9G,KAAA,yBAA8B,WAC5B,IAAIgI,EAAc5O,aAAlB,MACI4O,iBAAJ,GACEA,EAAcA,cAAyBA,SAAvCA,GACA5O,EAAE,IAAFA,kBAAqCA,aAArCA,aAEAA,EAAE,IAAM4O,EAAR5O,qBAA4CA,aAA5CA,YAGFA,wBACE,CAAEmD,UAAWnD,0BAA4B,KAD3CA,QAIA0N,uBACAA,wBAEF9G,KAAA,6BAAkC,WAChC8G,yBAA4B1N,QAA5B0N,OACAA,uBACAA,wBAEF9G,KAAA,6BAAkC,WAChC8G,uBACAA,wBAEF9G,KAAA,0BAA+B,YAG7B,QAFApH,EAAIA,GAAKM,OAATN,OAEIA,QAIF,SAHAkO,uBACAA,0B,sCAQJ,IAAImB,EAAJ,GAKA,OAJAjI,KAAA,qCAAyC,WACvBiI,GAAhB,IAAIA,EAAoB,OAAS7O,QAAjC,MACa,QAAUA,QAAlB6O,SAEP,I,yCAIA,IACIC,EAAUhP,gCAAd,GAEIoJ,EAAS,CAAE6F,OAHf,KAEiBrB,SAFjB,KAEiBA,eAAjB,OAEIsB,EAAUF,MAAgB9O,QAA9B,GACAF,yBAAyB,CAAEmP,KAAMD,GAAjClP,W,oTC9PiBoP,E,WAKnB,e,4FAAoB,SAIlBtI,KAAA,OAAc,WACZ,CACEnH,GADF,aAEE0P,QAAS,+BAHb,GAOAvI,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IAEAtE,KAAA,O,sDAIAA,KAAA,e,mCAIA,IAAIwI,EAAUxI,KAAd,IAEAA,KAAA,gB,mCAEWwI,GACXA,WAAiB,CACfC,eAAgB,SAAwBC,EAAOF,GACzCA,KAAJ,YACEE,4CAEAA,kBAGJC,UAAW,SAASH,GAClBpP,uCAIFwP,YAAa,SAASJ,GACpBpP,0CAIFyP,SAAU,CACRC,UAAWN,0BADH,iBAERO,SAAUP,yBAFF,iBAGRQ,QAASR,wBAHD,iBAIRS,MAAO,CACLC,SAAUV,sBADL,iBAELW,MAAOX,sD,iCAKJA,GACT,IAAI1B,EAAJ,KACA9G,KAAA,gBAEAwI,UAAe,YAGb,GAFA5P,oBAEKQ,UAAL,QAAsB,OAAO,EAE7B,IAAIgQ,EAAW,CACbC,UAAWjQ,6BADE,MAIbkQ,SAAUlQ,4BAJG,MAOb+P,MAAO/P,yBAPM,MAUbmQ,YAAa,CACX,CACEC,aAAcpQ,yCAOpBA,kDAEQ,WACJ,IAAIqQ,EAAarQ,IAAjB,MACIqQ,KAAJ,aACEL,mBAA0B,CACxBI,aAAcC,aAItB,IAAIC,EAAUlB,OAAd,qBACA1B,cACAA,qB,iCAGOrM,GACTA,+JAMAA,iDACAA,mCACAA,2BACAA,yC,+BAEO8K,GACP,IAAIiD,EAAUxI,KAAd,IAEI2J,EAAU,SAAO,CACnBC,KADmB,OAEnBvE,IAHF,KAGOyB,OAFc,QAGnBvB,KAAMA,IAGRoE,QAAa,YACX,IAAIE,EAAiBrB,SAArB,mBACIsB,EAAsBD,gBAA1B,2BAGIE,EAA6BF,gBAAjC,mCAGAA,WACAzQ,SAAOmM,EAAPnM,aAAyB,cACvB,oBAAI8H,SACF6I,wBAEA7I,qBADK,iBAELA,SAEAsH,iDAEAsB,8BAKNH,QAAa,WACXnB,yD,oTCpJeF,E,WAKnB,e,4FAAoB,SAIlBtI,KAAA,OAAc,WACZ,CACEnH,GADF,cAEE0P,QAAS,gCAHb,GAOAvI,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IAEAtE,KAAA,O,sDAIAA,KAAA,e,mCAIA,IAAIwI,EAAUxI,KAAd,IACAA,KAAA,gB,mCAGWwI,GACXA,WAAiB,CACfG,UAAW,SAASH,GAClBpP,uCAIFwP,YAAa,SAASJ,GACpBpP,0CAIFyP,SAAU,CACRI,MAAO,CACLC,SAAUV,sBADL,iBAELW,MAAOX,sD,iCAMJA,GACTxI,KAAA,gBAEA,IAAI8G,EAAJ,KACA0B,UAAe,YAGb,GAFA5P,oBAEKQ,UAAL,QAAsB,OAAO,EAE7B,IAAIgQ,EAAW,CACbD,MAAO/P,yBADM,MAIboQ,aAAcpQ,uCAIZsQ,EAAUlB,OAAd,qBAEA1B,gBACAA,mB,iCAIOrM,GACTA,+JAMAA,iDACAA,mCACAA,2BACAA,yC,+BAEO8K,GACP,IAAIiD,EAAUxI,KAAd,IAEI2J,EAAU,SAAO,CACnBC,KADmB,OAEnBvE,IAHF,KAGOyB,OAFc,QAGnBvB,KAAMA,IAGRoE,QAAa,WACX,IAAIE,EAAiBrB,SAArB,mBAC0BqB,OAA1B,2BACAC,sBACAD,wBAGFF,QAAa,WACXnB,yD,8XCvGewB,E,WACnB,e,4FAAoB,SAClBhK,KAAA,KAAY,CACV8C,SADU,GAEVC,OAFU,EAGVC,KAHU,KAIVC,WAJU,GAKVC,SALU,GAMVC,WAAY,YACV/J,oCAEFgK,WAAY,CACV,CACEC,QAAS,CADX,GAEEC,UAFF,yDAGEC,YAHF,EAIEC,OAAQ,gBACN,MACE,gDACAE,EAAG,KADH,6EAGAA,EAAG,QAJL,UAQFuG,eAAgB,IAElB,CACE5G,QAAS,CADX,GAEEC,UAFF,gFAGEE,OAAQ,gBACN,MACE,uEACAE,EAAG,WAFL,WAMFuG,eAAgB,IAElB,CACE5G,QAAS,CADX,GAEEC,UAFF,gFAGEE,OAAQ,gBACN,MACE,uEACAE,EAAG,eAFL,WAMFuG,eAAgB,IAElB,CACE5G,QAAS,CADX,GAEEC,UAFF,iDAGEE,OAAQ,gBACN,MACE,uEACAE,EAAG,iBAFL,WAMFuG,eAAgB,IAElB,CACE5G,QAAS,CADX,GAEEC,UAFF,gFAGEE,OAAQ,gBACN,MACE,uEACAE,EAAG,kBAFL,WAMFuG,eAAgB,IAElB,CACE5G,QAAS,CADX,GAEEC,UAFF,gFAGEE,OAAQ,gBACN,IAAI0G,EAAexI,IAAOgC,EAAG,gBAAVhC,OACjBlI,IADF,eAMA,MAHA,cAAI0Q,IACFA,aAGA,yEADF,WAMFD,eAAgB,KAGpBtG,SAAU,CACRC,SAAU,CACRC,KADQ,qEAGRC,SACE,0EAEJC,WAAY,8BAEdoG,oBAAqB,IAGvBnK,KAAA,mBAEAA,KAAA,OAAc,WACZ,CACEnH,GADF,cAEEmL,MAFF,YAGEC,QAHF,eAIEmG,WAJF,yBAKEC,eALF,6BAMEC,QANF,sBAOEC,UAPF,wBAQEpC,OARF,sBASEqC,OATF,SAUEC,YAAa,iBAXjB,GAgBAzK,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,OAAcA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAAjC,OACAtE,KAAA,SAAgB5G,IAAE4G,KAAKsE,OAAvB,SAEAtE,KAAA,YAAmBA,KAAKuE,SAASC,KAAKxE,KAAKsE,OAA3C,YACAtE,KAAA,gBAAuBA,KAAKuE,SAASC,KAAKxE,KAAKsE,OAA/C,gBACAtE,KAAA,SAAgBA,KAAKuE,SAASC,KAAKxE,KAAKsE,OAAxC,SACAtE,KAAA,WAAkBA,KAAKuE,SAASC,KAAKxE,KAAKsE,OAA1C,WACAtE,KAAA,QAAeA,KAAKuE,SAASC,KAAKxE,KAAKsE,OAAvC,QACAtE,KAAA,QAAe5G,IAAE4G,KAAKsE,OAAtB,QACAtE,KAAA,aAAoB5G,IAAE4G,KAAKsE,OAA3B,aAEAtE,KAAA,oBAEAA,KAAA,eAAsB,CAAC,MAAO,OAA9B,QAEIA,KAAKvF,IAAT,QACEuF,KAAA,O,sDAKF,IAAI0K,EAAiBxR,uBAArB,GACAE,cAAe4G,KAAf5G,QACAA,cAAe4G,KAAf5G,KAA0B,CACxBgK,WAAY,CACV,CACEuH,YAAa,YACXvR,yBAAyBsR,mBAAzBtR,MAGJ,CACEuR,YAAa,YACXvR,yBAAyBsR,mBAAzBtR,MAGJ,CACEuR,YAAa,YACXvR,yBAAyBsR,mBAAzBtR,MAGJ,CACEuR,YAAa,YACXvR,yBAAyBsR,mBAAzBtR,MAGJ,CACEuR,YAAa,YACXvR,yBAAyBsR,mBAAzBtR,MAGJ,CACEuR,YAAa,YACXvR,yBAAyBsR,mBAAzBtR,SAKR4G,KAAA,aACAA,KAAA,0B,sCAII7G,iBAAsBA,YAA1B,IACEC,4CACSD,iBAAsBA,YAA1B,IACLC,4CACSD,aAAJ,MACLC,6CAGF,IAAIwR,EAAJ,EACIC,EAAJ,KACA7K,KAAA,cAAqBA,KAAK0E,OAAOC,UAAU,CACzCC,UADyC,EAEzCC,MAFyC,EAGzCE,WAHyC,EAIzCC,eAJyC,EAKzCC,YALyC,EAMzCH,YANyC,EAOzCI,YAPyC,EAQzCC,WARyC,EASzCC,KAAM,CACJwE,KADI,OAEJkB,YAFI,mBAGJzF,IAAKrF,KAAKsF,KAHN,WAIJC,KAAM,YAUJ,OATAjK,SAAWuP,OAAXvP,OACAA,OAASuP,OAATvP,KACAA,UAAYuP,6BAAoCA,yBAApCA,KAAZvP,GACAA,WAAauP,gCAAuCA,4BAAvCA,KAAbvP,GACAA,WAAauP,UAAbvP,MACAA,YAAcuP,+BAAsCA,2BAAtCA,KAAdvP,GACAA,iBAAmBuP,oCAA2CA,gCAA3CA,KAAnBvP,GACAA,kBAAoBuP,OAApBvP,gBAEOyP,eAAP,IAEFvF,QAASxF,KAAKsF,KAAKG,iBAErBC,WAAY1F,KAAKsF,KA3BwB,SA4BzCK,IAAK3F,KAAKsF,KA5B+B,SA6BzCnC,WAAYnD,KAAKsF,KA7BwB,WA8BzClC,WAAYpD,KAAKsF,KA9BwB,WA+BzC3B,SAAU3D,KAAKsF,KA/B0B,SAgCzC0F,eAAgB,YAEdzF,EAAI,MAAJA,SAAsB,cACpBA,EAAI,MAAJA,UACEA,EAAI,QAAY0F,EAAhB1F,iBAGN0B,aAAc,YACZ,IAAMiE,EAAepM,YAArB,OAUA,GARA,IAAIoM,EACFL,gCAEAA,mCAGFA,oBAAuBA,yCAAvBA,IAEI/L,kBAAJ,EAAyC,CACvC,IAAIqM,EAAeN,wBAA6BA,UAAhD,SACAzR,yBAAuB,CAAEmD,UAAW4O,GAApC/R,KACAwR,EAAW9L,EAAX8L,eAGFC,oD,2CAKeO,GACnB,WAAOA,iB,8CAGe,WAChBA,EAASlS,gBAAf,KACA,OAAIkS,eAAJ,CAIA,IAAM9I,EAAS8I,kBAAf,KAEIpL,KAAKqL,qBAAT,GACErL,KAAA,wBAA4B,SAAAqC,GAC1B,IAAMiJ,EAAWhJ,EAAA,MAAY,SAAAiJ,GAAC,WAAIA,gBAElC,GACE,qDAAsD,CAAExR,QAAS,CAACuR,SAAgBjJ,EAAjB,cAIrErC,KAAA,wBAA4B,SAAAqC,GAC1B,IAAMiJ,EAAWhJ,EAAA,MAAY,SAAAiJ,GAAC,WAAIA,gBAElC,KAAc,CACZ,IAAMC,EAASF,QAAf,KACA,qDAAsD,CAAEvR,QAASyR,yB,wCAMvD,WACZC,EAAJ,GAEAzL,KAAA,wBAA4B,cAC1B,IAAM0L,EAAS,2BAAf,IAEA,GAAIA,SAAJ,EAAuB,CACrB,IAAMC,EAAYD,OAAlB,mBACIE,EAAJ,GAEID,SAAJ,IACEF,GAAQ,GAAJ,SAAJA,KAEAE,QAAe,cACbC,OAAiBC,iBAGnBJ,GAAQG,YAARH,SAKNK,mCAA2C,IAA3CA,K,+BAGO7T,GAAkB,IACzB,EADaC,EAAY,uDAAL,IAGpB,OAAO,WAAkB,kCAANG,EAAM,yBAANA,EAAM,gBACvBI,gBAEAF,EAAUG,YAAW,WACnBT,eADFM,M,+BAOFyH,KAAA,uB,+BAIAA,KAAA,qBACAA,KAAA,oB,mCAIA,IAAM8G,EAAN,KACMiF,EAAiB/L,KAAKR,SAASQ,KAAKmI,OAAO6D,KAA1BhM,MAAvB,KAEA5G,qBAAkB,WAChB0N,kBAEAA,6BAAgC,SAAUlO,EAAGkG,EAAUsB,EAAM6L,GAC3D,IAAMC,EAAqB9L,YAAeA,EAAP,WAAyCA,mBAA5E,EACM+L,EAAN,GAEArF,4BAEA,GACE1G,qBAAuB,cACrB+L,OAAe,CACb5M,KAAM6M,EADO,aAEblL,MAAOkL,EAFM,aAGb7G,KAAM,CACJ8G,GAAIlK,EAAQ,QAOhB2E,EAAJ,kBACEA,yCAA6C,CAAE/M,QAASoS,KAG1D,IAAIrF,iCACFA,6BACAA,0BACAA,wBACSA,EAAJ,mBACLA,oBACAA,wBAGFA,4BAIJ9G,KAAA,yBAA8B,WAC5B8G,cAGF9G,KAAA,6BAAkC,WAChC8G,cAGF9G,KAAA,sBAA2B,WACzB8G,sBACAA,oCAAwC,CAAE/M,QAAS,KACnD+M,cAGF9G,KAAA,wBAA6B,WAC3B8G,cAGF9G,KAAA,oBAAyB,aACnBpH,yBAAJ,IAAiCA,wBAC/BmT,Y,kVC7YaO,E,WAMnB,e,4FAAoB,SAClBtM,KAAA,OAAc,WACZ,CACEnH,GADF,OAEE8I,KAFF,wBAGE4K,YAHF,qBAIEC,YAAa,mBALjB,GAUAxM,KAAA,MAAa5G,IAAb,QACA4G,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,MAAaA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAAhC,MACAtE,KAAA,aAAoBA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAAvC,aACAtE,KAAA,aAAoB5G,IAAE4G,KAAKsE,OAA3B,aAEItE,KAAKvF,IAAT,QACEuF,KAAA,O,oDAICjG,GACHiG,KAAA,YAAgB,SAAUmC,EAAOa,GAC7B,IAAIyJ,EAAQrT,IAAZ,GACAqT,OACI/K,IAAO+K,SAAP/K,eACIlI,IAFRiT,mBAMJzM,KAAA,aAEIA,KAAKvF,IAAIsG,OAAb,GACEf,KAAA,qC,mCAIF,IAAI8G,EAAJ,KACAA,2BAA8B,SAAUlO,GActC,OAbAA,mBACAkO,yDACA1N,2FAGAA,2FAIAF,eACA4N,sBACA1N,wDACAA,yDACA,U,2TC7DesT,E,WAKnB,e,4FAAoB,SAGlB1M,KAAA,OAAc,WACZ,CACEnH,GAAI,kBAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACItE,KAAKvF,IAAT,QACEuF,KAAA,O,sDAKFA,KAAA,e,mCAIA,IAAI2M,EAAW3M,KAAf,IAEA,IAAK2M,EAAL,OAAsB,OAAO,EAE7B/M,iBAAqB,WACnB+M,QAAc,kBAGhBA,uCAA6C,WAC3C,IAAIC,EAAWD,OAAf,yBACIE,EAAWzT,UAFkD,MAKjEwT,QAAc,WACZxT,iCACIA,+BAAJ,GACEA,yC,6VCvCW0T,E,WACnB,e,4FAAoB,SAGlB9M,KAAA,OAAc,WACZ,CACEnH,GAAI,UAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,qBAA4BA,KAAKvF,IAAI+J,KAArC,gBAEAxE,KAAA,O,sDAIK5G,qBAAL,2BACE4G,KAAA,2BACAA,KAAA,mBACAA,KAAA,gB,mCAKF,IAAI8G,EAAJ,KACA1N,qBAAkB,WACAA,IAAhB,UACA2T,MAAa,cACX,IAAMC,EAAS5T,IAAf,GACI6T,EAAYD,OAAhB,aAEIE,EAAaF,OAAjB,MACIG,EAAYC,QAAY,iBAA5B,GAEIH,IAAJ,GACEvU,YAAW,WACTsU,kBADFtU,SAONsH,KAAA,wBAA6B,WAC3B,IAAIkN,EAAa9T,eAAjB,MACAgU,QAAY,iBAAZA,SAGFpN,KAAA,0BAA+B,WAC7B5G,gDAGF4G,KAAA,wBAA6B,WAC3B,IAAIqN,EAAWjU,IAAf,OAEEiU,wBACAA,8BAFF,GAIEjU,6CAIJwG,iBAAqB,WACnBkH,0B,iDAKF,IAAIwG,EAAiBlU,yBAArB,MAGoBA,IAApB,uBAEAmU,MAAmB,cACjB,IAAIC,EAAepU,IAAnB,GACIqU,EAAYD,mCAAhB,IACA,IACEC,KAEFD,iDAEuB,IAFvBA,0C,yCAQF,IACIE,EADavU,IAAjB,SACA,GACA6G,KAAA,8CAAoD0N,EAApD,W,mUC1FiBC,E,WAKnB,e,4FAAoB,SAGlB3N,KAAA,OAAc,WACZ,CACEnH,GAAI,SAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,O,sDAIAA,KAAA,e,mCAIA,IAAI2M,EAAW3M,KAAf,IAEA,IAAK2M,EAAL,OAAsB,OAAO,EAE7B,IAAI7F,EAAJ,KACAlH,iBAAqB,WACdxG,qBAAL,0BACEuT,QAAc,WACZ,IAAIiB,EAAUxU,eAAd,cACEyU,EAAYD,OADd,wBAEEE,EAAgB1U,eAFlB,4BAGE2U,EAAuB3U,eAJF,mBAOvB0U,mBAA8B,WAC5B1U,uBAAqB0U,EAArB1U,aAGF,IAAI4U,EAAQJ,aAAZ,OACEK,EADF,EAMA,IAHAF,gBAduB,gBAkBrBH,kBAA4BC,EAA5BD,eACAI,EAAQC,KAERL,+CAOF,IAAIE,qBACFC,eAUR/N,KAAA,gCAAqC,CACnCkO,MAAO,WAEFpH,kDADH,gCAKEA,oFAON9G,KAAA,iCAAuC,YACrC8B,mBACA,IAAIqM,EAAO/U,IAAX,MACEgV,EAAYD,UADd,SAEEvB,EAAWwB,OAFb,kBAGEC,EAAkBD,OAHpB,qBAIEE,EAAYF,OAJd,mBAMKD,WAAL,aACEvB,yBACA0B,yBAEAH,sBACAE,yBACAA,KAAmBF,OAAnBE,mCAEAE,iBAAmBF,KAAmBF,OAAtCI,gBACIJ,oCAAJ,GACEG,+B,+FC5GR,IAAIpV,iBACFA,WAAa+H,qBAAb/H,IACAA,iCAAkC,IAAI4O,OAAtC5O,4JAGFgH,OACAA,OACAA,OACAA,OACAA,OAEAA,OACAA,OACAA,OACAA,OACAA,OACAA,OACAA,OAEAA,Q,+DCpBI9G,EAAIF,OAAV,OAEA,IAAIA,aACAA,4BAA6B,CAAC,cAAe,SAAUsV,GACnD,MAAO,CACHC,SADG,IAEHC,OAFG,EAGHC,WAAY,CAAC,SAAU,SAAU,YAAa,WAAY,cAAe,SAAUC,EAAQC,EAAQC,EAAWC,EAAUP,GAEpH,IAAIQ,EAAJ,GACIC,EAAQ,CACR9M,MADQ,EAER,kBACI,OAAO6M,EAAMhP,KAAb,QAEJ,eACI,OAAIA,KAAKmC,OAAS6M,SAAlB,EACI,KAGGA,EAAMhP,KAAKmC,MAAlB,IAEJ,mBACI,OAAInC,KAAKmC,OAAT,EACI,KAGG6M,EAAMhP,KAAKmC,MAAlB,KAIJ+M,EAAJ,KAkDA,cACI,KAAI/M,KAAaA,EAAQ6M,SAAzB,IAKA,IAAIG,EAAUH,EAAA,sBAAgC,SAAUxG,GACpD,OAAQA,EAAR,aAIA2G,GAAJ,IACIhN,KAGJ8M,qBACAA,UACAA,qBAEAF,GAAS,WACLD,OAAeG,cAAfH,QADJC,GAIAP,OAAiBU,EAAjBV,GAA0BI,EAA1BJ,QAxEJU,UACAA,UACAA,KAAUL,EAAVK,KAEIL,EAAJ,iBACIK,iBAAsBnE,WAAW8D,EAAjCK,iBAGJA,eAAoB,SAAUE,GAC1BA,SAEAJ,UAEIE,kBAAyBJ,EAAzBI,QAA6CJ,UAAoBM,EAArE,KACIC,EAAWL,SAAXK,GACG,IAAIH,gBACPG,MAIRH,eAAoB,WACZD,SAAJ,GACII,EAAWJ,QAAXI,IAIRH,WAAgB,WACZ,GAAID,QAAcC,eAAlB,EAAyC,CAErC,IAAKD,cAAL,UACI,OAGJI,EAAWJ,QAAXI,KAIRH,iBAAsB,SAAU/M,GACxBA,MAAcA,EAAQ8M,EAA1B,OACII,MAIRH,UAAe,WACX,OAAOA,EAAA,aAAiB,SAAU1G,GAC9B,OAAOA,EAAP,cA8BRoG,UAAc,WACV,OAAOE,EAAP,UACD,SAAUQ,EAAUC,GACnB,GAAID,IAAJ,EAA2B,CACvB,IAAInN,EAAQ6M,mBADW,GAInB7M,MAAc8M,UAAlB,GACII,SAKRR,EAAJ,WACIL,OAAiBzD,WAAW8D,EAA5BL,YAGJI,QAAeJ,EAAfI,YAKZ1V,oCAAqC,CAAC,UAAW,SAAUsW,GACvD,MAAO,CACHf,SADG,KAEHvO,QAAS,CAFN,SAGHwO,OAHG,EAIHe,SAJG,oGAKHC,SALG,EAMHC,YANG,EAOHC,KAAM,kBACF,IAAIV,EAAOW,EAAX,GAEAnB,SAAe,CACX,WACI,OAAOQ,cAAP,GAEJ,cACI,OAAOlP,KAAP,OAIR5G,iBAAuB,WACnBoW,gBACAN,yBAMhBhW,gCAAiC,CAAC,UAAW,SAAUsW,GACnD,MAAO,CACHf,SADG,KAEHvO,QAAS,CAFN,SAGHwO,OAHG,EAIHe,SAJG,6GAKHC,SALG,EAMHC,YANG,EAOHC,KAAM,kBACF,IAAIV,EAAOW,EAAX,GAEAnB,SAAe,CACX,WACI,IAAI9E,EAAJ,SAMA,OAJA,MAAIsF,mBACAtF,YAGJ,GAEJ,WACI,QAAsB,UAAb5J,KAAK4J,MAAqBsF,EAAnC,iBAEJ,cACI,OAAOA,oBAAP,YAIR9V,iBAAuB,WACnBoW,gBACAN,qBAMhBhW,gCACI,WACI,MAAO,CACHuV,SADG,IAEHqB,SAFG,EAGH5P,QAHG,UAIH0P,KAAM,SAAkBlB,EAAOqB,EAAMC,EAAOC,GACpCD,qBAAJ,UAAiCA,OAC7BC,gBAAsB7W,QAAtB6W,aACOD,EAAJ,OACHC,gBAAsBD,EAAtBC,c,sDC5MlB7W,EAAIF,OAAV,OAEA,IAAIA,YACAA,iCAAiC,WAC7B,MAAO,CACHuV,SADG,IAEHvO,QAAS,CAAC,QAFP,SAGH0P,KAAM,kBACF,IAAIV,EAAOW,EAAX,GACIK,EAAOL,EAAX,GAEIT,EAAJ,GACAA,OAAYY,EAAZZ,SACAA,OAAY,IAAMA,sFAAlBA,MAEAA,OAAY,WACRhW,aAGJgW,OAAY,WACRhW,aAGJgW,UAAe,WAEX,OADAc,kBACOhB,kBAAuBgB,EAA9B,QAGJd,SAAc,WAEV,OADAc,kBACOd,EAAP,WAGJF,wB,uBCjChB,IAAIhW,YACAA,0CAA0C,WACtC,MAAO,CACHuV,SADG,IAEHvO,QAAS,CAFN,SAGHwO,OAHG,EAIHe,SAJG,8EAKHC,SALG,EAMHC,YANG,EAOHC,KAAM,kBACF,IAAIV,EAAOW,EAAX,GAEAnB,QAAcQ,EAAdR,MAEAA,OAAa,CACTrM,KAAM2N,EAAMG,yB,uBCfhC,IAAIjX,YACAA,wCAAwC,WACpC,MAAO,CACHuV,SADG,IAEHvO,QAAS,CAFN,SAGHwO,OAHG,EAIHkB,KAAM,kBACF,IAAIV,EAAOW,EAAX,GAEAnB,QAAcQ,EAAdR,MAEAA,aAAmB,SAAUU,GACzB,OAAOF,iBAAP,U,uBCZpB,IAAIhW,YACAA,iCAAkC,CAAC,QAAS,SAAUkX,GAElD,IAAIC,EAAJ,CACAA,SAEAA,KAAe,SAAUC,GACrB,IAAK,IAAL,OACQA,qBAA8BA,EAAlC,KACSD,QAAL,KACIA,WAAsBC,EAAtBD,MAMhBA,KAAe,SAAUhE,GACrB+D,OAAW,kBAAXA,EAAmCC,EAAnCD,SAGJ,a,4GCpBR,IAAIlX,gBAIAA,+BAAgC,CAAC,YAAa,OAAQ,iBAAkB,cAAe,eAAgB,SAAU4V,EAAWyB,EAAMC,EAAgBhC,EAAaiC,GAE3J,IAAIC,EAAJ,CACAA,cACAA,UAsJA,OApJAA,aAAqB,CAAC,SAAU,SAAU9B,GAEtCA,kBACAA,cAAqBJ,EAArBI,MAGAA,iBAAwB4B,QAAxB5B,KACAA,QAAehH,SAAS4I,QAPsB,OAU9C5B,kBAAyB,SAAU+B,GAC/B,OAAI/B,EAAJ,uBACQ+B,GAASA,EAATA,MAAuBA,OAA3B,aACWJ,cAAiB3B,oBAAyB+B,OAAzB/B,+BAAoEA,QAAa6B,eAAzG,MAGR,IAGJ7B,QAAe,SAAUgC,GACrB,OAAOA,yBAAP,MAGJhC,YAAmB,SAAU+B,EAAOE,GAChC,OAAOJ,cAAP,IAGJ7B,aAAoB,WAChB,GAAIA,EAAJ,cACI,OAAO6B,eAA0B7B,EAA1B6B,eAAP,WAGJ,IAAIK,EAAJ,EAIA,OAHA7P,gBAAgB2N,EAAhB3N,YAAmC,SAAU0P,GACzCG,EAAMlP,WAAWgN,eAAXhN,IAANkP,KAEA1V,gBAAJ,EACWwG,yBAAP,WAGOxG,cAAP,YAIRwT,sBAA6B,WACzB,OAAQA,EAAR,eAGJA,oBAA2B,SAAU+B,GACjC,SAAKA,GAAUA,EAAX,MAA0BA,OAA9B,gBACA,IAAOH,eAA4BG,OAA5BH,eAGX5B,gBAAuB,SAAUmC,GAC7B,OAAInC,EAAJ,oBACI,EAEGA,qBAAP,MAGJA,oBAA2B,SAAUrP,GACjC,SACOA,kBAAsBqP,QAAa4B,QAAnCjR,sBAA+EqP,QAAa4B,QAAnG,MADkB,IAItB5B,mBAA0B,SAAUoC,EAAiBC,GACjD,SAAKrC,SAAD,IAAkCA,EAAD,QAArC,KACWA,mBAAP,GAAgCA,8BAKxCA,6BAAoC,SAAUoC,GAC1C,OAAKpC,EAAD,gBAAJ,IAA8BA,kBACvBA,mBAAP,GAAgCA,6BAGpCA,gBAAuB,WAEfA,+BAAoCA,EAAxC,aACSA,iBAAsBA,EAA3B,aACS4B,QAAL,WAAoCA,qBACpCA,sBAAmC5B,EAAnC4B,WACA5B,qBAKZA,+BAAsC,YAClC,IAAIsC,GAAJ,EACIC,EAAe3C,QAAnB,iBACA,KAAkB,CACd,IAAI4C,EAAiBD,QAArB,KACAlQ,mBAAgC,SAAUoQ,GAClCA,GAAJ,IACIH,SAIZ,UAGJtC,aAAoB,WACX4B,QAAL,WAAoCA,qBACpCA,sBAAmC5B,EAAnC4B,WACA5B,0BACAA,mBAGJA,gBAAuB,WACnB,IAAIzM,EAAQqO,yBAAsC5B,EAAlD,YACA,GAAIzM,GACAqO,6BAEJ5B,0BACAA,mBAGJA,wBAA+B,WAC3B,IAAI0C,EAAJ,GACArQ,gBAAgBuP,QAAhBvP,UAA+C,SAAUoQ,GACrD,IAAIC,IAA2BA,QAC/BA,QAEJ9C,4BAGJI,iBAAwB,YACpB,IAAI2C,GAAJ,EAIA,OAHAtQ,gBAAgBuP,QAAhBvP,UAA+C,SAAUoQ,GACjDA,GAAJ,IAA6BE,SAEjC,KAIRb,OAAe,SAAU9B,EAAQ4C,EAAU3C,GACvCD,aAAoB3N,iBAAiB4N,EAArCD,mBACAA,gBAAuB3N,iBAAiB4N,EAAxCD,sBACAA,kBAAyBA,oBAAyB3N,iBAAiB4N,EAAnED,kBACAA,qBAA4BA,oBAAyB3N,iBAAiB4N,EAAtED,qBACAA,cAAqB4B,EAArB5B,MACAA,gBAAuB4B,qCAAkD5B,EAAzEA,YACAA,YAAmBC,EAAnBD,UACA6B,kBAA6B7B,EAA7B6B,UAA+C7B,EAA/C6B,YACA7B,mBAGJ,M,uBC9JR,IAAI1V,YAIAA,wCACA,CAAC,cACkB,YACX,MAAM,CACFuV,SADE,IAEFvO,QAAS,CAFP,SAGFwO,OAHE,EAKFkB,KAAM,kBACFhB,cAAqBJ,EAArBI,MAEA,IAAIsB,EAAOL,EAAX,GACI4B,MAAMvB,mBAAV,cACIA,qD,uBCjBxB,IAAIhX,gBAIAA,4CAA6C,CAAC,iBAAkB,SAAUsX,GAEtE,IAAIkB,EAAJ,CACAA,cACAA,SAEAA,WAAkC,CAAC,SAAU,SAAU9C,MAIvD8C,KAA4B,SAAUhD,EAAOlG,EAASwH,GAClDQ,6BACA9B,cAAoB8B,EAApB9B,QAGJ,a,2FCnBR,IAAIxV,YACAA,oCAAqC,CAAC,UAAW,SAAUsW,GAEvD,IAAIgB,EAAJ,GACImB,GAAJ,EA+FA,OA7FAnB,QAAuB,CACnB,SADmB,GAEnB,cAFmB,OAGnB,IAHmB,GAInB,IAJmB,GAKnB,KALmB,GAMnB,MAAS,IAGbA,WAA0B,WACtBhB,gBAAwBA,qCAA4CzE,eAAeyF,EAAnFhB,SAGJgB,WAA0B,WACtB,IAAIoB,EAAcpC,gBAAwBA,uBAA1C,eACIqC,EAAU9G,WAAd,GACA,IACIyF,YAORA,mBAAkC,WAC9B,IAAIsB,EAAM5Y,gBAAV,OACI6Y,EAAJ,GAQA,OANAD,UACI,IAAIhK,OAAO,uBADfgK,MAEI,SAAUE,EAAIC,EAAIC,EAAIC,GAClBJ,UAGR,GAGJvB,2BAA0C,WACtC,OACAmB,GAFkD,EAIlDnB,EAJkD,WAOlD,IAAI4B,EAAY5B,EAAhB,mBACI4B,EAAS,MACT5B,YAA2BpV,WAAWwM,SAASwK,EAAS,KAAxD5B,KAEA4B,EAAS,MACT5B,YAA2BpV,WAAWwM,SAASwK,EAAS,KAAxD5B,KAGA4B,EAAS,OACT5B,aAA4B4B,EAAS,MAGrCA,EAAS,QACT5B,cAA6B4B,EAAS,OAGtCA,EAAS,MACT5B,sBAAqC4B,EAAS,KAGlD5B,eAIJA,eAA8B,SAAU6B,GAEpC,OADA7B,6BACI6B,KAAc7B,EAAd6B,OAAJ,IAA0C7B,YACvBA,QAAf,IAMRA,qCAAoD,SAAU8B,GAC1D,IAAIC,EAAJ,KACIC,GAAJ,EAWA,OAVAvR,mBAA4B,SAAU0P,GAClC,GAAIA,iBACA4B,KAEA5B,QAAJ,IAAkBA,sBACd,IAAIH,eAA4BG,OAA5BH,gBACAgC,SAILA,OAAP,MAGJ,M,mDCnGR,IAAItZ,gBACAA,kCAAmC,CAAC,iBAAkB,SAAUsX,GAE5D,IAAIC,EAAJ,CAEAA,SAEAA,gBAA+B,cAC3BA,cAGJA,gBAA+B,SAAUgC,GACrC,OAAOhC,QAAP,IAGJA,cAA6B,SAAU5O,GACnC,OAAOD,sBAAP,IAIJ6O,aAA4B,SAAUE,GAClC,MAAY,MAAO,IACnB,OAAIA,QAAmB,OAAOF,gBAA2BE,EAAlC,OACvB,GAAIA,iBAAJ,IAA6BA,YAAuB,CAChD,YAAIH,sBAA+C,OAAOC,gBAA2BE,EAAlC,WACnD,YAAIH,sBAA+C,OAAOC,gBAA2BE,EAAlC,WAEvD,WAIJF,SAAwB,SAAUE,GAA2B,IAApBE,IAAoB,yDACzD,MAAY,MAAO,IACnB,GAAIJ,wBAAJ,IAA+CE,oBAA+B,OAAOA,mBAAyBA,QAAzBA,IAA6CA,EAApD,MAC9E,GAAIF,wBAA2CE,EAA3CF,MAAJ,IAA6DE,oBAA+B,CACxF,IAAI+B,EAAkBlC,eAA4BG,OAAlD,cACA,GAAI+B,GAAJ,EAAoC,CAChC,IAAIC,EAAWnC,eAA4BG,OAA5BH,cAAuDC,eAAtE,GACA,OAAOE,mBAAyBvV,WAAWuX,EAApChC,KAAsDvV,WAA7D,GAGA,OAAOuV,mBAAyBF,kBAAzBE,IAAkEF,eAAzE,KAKZA,UAAyB,SAAUE,EAAOE,GACtC,IAAI+B,EAAkBhR,WAAtB,GAGA,GAFI+O,EAAJ,aAAsBiC,EAAkBhR,WAAW+O,EAA7BiC,cAElB/B,GAAiBF,EAAD,MAAgBA,OAAhB,eAApB,IAA+DH,eAA4BG,OAA5BH,cAG1D,CACD,IAAItP,EAAJ,EAOA,OAJIA,EAFAyP,QAAcA,OAAlB,YAEIzP,IAAQU,WAAW6O,aAAX7O,IAEAA,WAAW6O,aAAnBvP,IAEJ,EAEOA,UAAP,GADWA,EAXX,OAAQU,WAAW6O,aAAX7O,IAAR,IAgBR,a,mECnER,YAAI1I,WAA0B,CAU1BA,kCAAkC,WAC9B,OAAO,SAAUqG,GAVrB,MACQsT,EAWA,uBADAtT,GAXR,EAWeuT,EAVPD,EAAJ,eACOE,OAAA,mBAA0B,SAAUC,GACvC,KAAOH,OAAPG,IACIA,EAAIA,YAAJA,SAEJ,aAKAzT,YACqCA,gDAAP,KAC9B,Q,kDCdZ,IAAIrG,YACAA,+BAAgC,CAAC,OAAQ,SAAUqX,GAC/C,OAAO,SAAUhR,GACb,OAAOgR,cAAP,Q,kECHNnX,EAAIF,OAAV,OAEA,IAAIA,aAEAA,gCACI,WACI,MAAO,CACHuV,SADG,IAEHC,OAFG,EAGHC,WAAY,CAAC,SAAD,yBAC6B,SAAUC,EAAQ4C,EAAUhD,GAE7DI,QAAeJ,EAAfI,MACAA,aAAoBA,cAApBA,GACAA,oBAEA,IAAIA,iBACAA,4BAAmCA,QAAnCA,OAEAA,uBAGJqE,sBAAsBrE,EAAtBqE,eAA8C,CAC1CC,IAAK,WACD,OAAOtE,aAAP,gBAEJuE,IAAK,YACDvE,iCAIRA,0BAAiC,WAE7B,OAAKA,QAAD,mBAAmCA,QAAvC,iBAOJA,oBAA2B,WAEvB,OAAKA,QAAD,qBAAqCA,QAAzC,iBAOJA,cAAqB,SAAUtM,GAC3B,OAAOA,qCAA2C,SAAU8Q,GAAK,OAAyBpT,MAAlBoT,EAAIA,QAAJA,MAAkB,IAAaA,EAA/BA,GAAP,MAAf,KAA3C9Q,KAAP,IAGJsM,oBAA2B,SAAUvC,GACjCuC,oBAGJA,WAAkB,WACd,IAAIA,EAAJ,WACAA,eACA,IAAIyE,EAAgB,IAAIC,cAAc,CAClC,eAAkB1E,EADgB,eAElC,OAFkC,IAGlC,kBAHkC,IAIlC,aAJkC,IAKlC,SALkC,MAMlC,SANkC,IAOlC,YAPkC,IAQlC,aARkC,IASlC,OAAU,MAGdyE,wBACAA,kBAA8B,SAAU/Q,GACpCsM,eAAsBA,iBAAtBA,eACAA,eACAA,cAEJyE,iBAOxBna,4CACI,WACI,MAAO,CACHuV,SADG,IAEHC,OAFG,EAGHC,WAAY,CAAC,SAAD,yBAC6B,SAAUC,EAAQ4C,EAAUhD,GAC7DI,QAAeJ,EAAfI,MAECA,kCAAuC,SAAU2E,EAAUC,GACvD,IACI5E,8BACAA,yBACAA,kBACAA,4BACAA,yBACAA,+BACAA,kCAWRA,mCAAwC,SAAU2E,EAAUC,GACxD,IACI5E,8BACAA,yBACAA,+BAIRA,qCAA0C,SAAU2E,EAAUC,GAC1D,IACI5E,kBACAA,2BACAA,4BACAA,yBACAA,+BACAA,kCAIRA,gCAAqC,SAAU2E,EAAUC,GACrD,IACI5E,kBACAA,2BACAA,4BACAA,yBACAA,+BACAA,kCAKTA,gBAAuB,WACnB,QAAMA,QAAN,iBAMJA,yBAAgC,WAC5B,SAAMA,QAAF,qBAAuCA,QAA3C,gBAMJA,mBAA0B,WACtB,QAAMA,QAAN,QAMJA,sBAA6B,WACzB,SAAMA,QAAF,kBAAqCA,QAArC,qBAA2EA,QAA3E,oBAAgHA,QAApH,sBA0BxB1V,yCAAyC,WACrC,MAAO,CACHgH,QADG,UAEHuO,SAFG,IAGHmB,KAAM,kBACF,IAAIG,EAAJ,EAYA0D,iBAXuB,YACnB,IAAIpH,EAAK0D,OAAT,MAQA,MAPA,KAAIA,SACA3W,EAAE,IAAMiT,EAARjT,mBACA2W,mCAEA3W,EAAE,IAAMiT,EAARjT,mBACA2W,qCAEJ,UAMhB7W,+CAA+C,WAC3C,MAAO,CACHgH,QADG,UAEHuO,SAFG,IAGHmB,KAAM,kBACF,IAAIG,EAAJ,EA0CA0D,iBAzC6B,YACzB,IAAIC,EAAS3D,OAAb,MACIZ,GAAJ,EAoCA,MAnCA,KAAIY,SACA3W,EAAE,IAAMsa,EAARta,mBACAA,EAAE,IAAMsa,EAARta,4BACA2W,iCACAZ,MAEA/V,EAAE,IAAMsa,EAARta,mBAGA2W,cAAqBA,eAAoB3W,EAAE,IAAFA,QAA7C,iBACIA,EAAE,IAAMsa,EAARta,oBACAA,EAAE,IAAMsa,EAARta,6BACA2W,iCACAZ,MAEA/V,EAAE,IAAMsa,EAARta,oBAGA2W,cAAqBA,eAAoB3W,EAAE,IAAFA,QAA7C,iBACIA,EAAE,IAAMsa,EAARta,oBACAA,EAAE,IAAMsa,EAARta,6BACA2W,iCACAZ,MAEA/V,EAAE,IAAMsa,EAARta,oBAGJ,IACIA,EAAE,IAAMsa,EAARta,mBACAA,EAAE,IAAMsa,EAARta,oBACAA,EAAE,IAAMsa,EAARta,oBACAA,EAAE,IAAMsa,EAARta,6BACA2W,qCAGJ,Y,mUC3PC4D,E,WACnB,e,4FAAoB,SAClB3T,KAAA,OAAc,WAAS,CACnBnH,GAAI,cADR,GAGAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IAEAtE,KAAA,O,oEAa2B4T,EAAO7X,GAClC6X,wCAA6C,SAAU9R,GACrDA,mBACA,IAAI2K,EAAQrT,iBAAZ,yBACEya,EAAWpH,OADb,4BAEEqH,EAAarH,SAFf,oBAGIA,WAAJ,WACEoH,UAAiB,CACfE,SAAU,WACRtH,yBACA,mBAAW1Q,GACTA,QAKN+X,sCAA8C,WAC5C,IAAIE,EAAQ5a,IAAZ,MACI0a,WAAJ,eACEE,2CAA+C,CAC7CD,SAAU,WACRC,yBACA,mBAAUjY,GACRA,UAOV8X,YAAmB,CACjBE,SAAU,WACRtH,sBACA,mBAAW1Q,GACTA,QAKR5C,6B,gCAhDF6G,KAAA,e,mCAIA,IAAKA,KAAKvF,IAAV,OACE,OAAO,EACTkZ,wBAAiC3T,KAAjC2T,U,qNChBiBM,E,WACnB,c,4FAAc,SACZjU,KAAA,aAAoB5G,uCAAwCA,8BAAxCA,SAApB,EACA4G,KAAA,mBACAA,KAAA,0BACAA,KAAA,UAAiB5G,IAAjB,aACA4G,KAAA,O,sDAGA,IAAI8G,EAAJ,KAEA1N,6BACoB,YAChB,IAAI8a,EAAgBhb,gBAApB,KAEA,KAAmB,CACjB,IAAIib,EAAgBrN,mBAClBA,UADF,IAIIqN,SAAJ,GACErN,2BAVR1N,sBAgBAA,IAAE4G,KAAF5G,wBAA+B,YAC7BR,mBAEA,IAAIsb,EAAgBpN,UAAa1N,eAAjC,SAEI+a,EAAgBrN,mBAApB,GAEIqN,SAAJ,GACErN,uBAEEgF,QAAJ,UACEA,2CAEArS,4BAEFA,iC,8BAGI4L,GACN,OAAOA,SAAWA,UAAXA,aAAP,K,uCAGe6O,GACf,OAAO9a,IAAE,UAAD,8BAAR,S,wCAEgBqB,GAChBuF,KAAA,kBACE,CACEzD,UAAW9B,eAAmBuF,KAAKoU,cAErCpU,KAJF,qB,mOCnDiBqU,E,WAMnB,e,4FAAoB,SAClBrU,KAAA,OAAc,WAAS,CACnBnH,GADmB,wBAEnB8I,KAAM,iBAFV,GAIA3B,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,MAAaA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAAhC,MAEGtE,KAAKvF,IAAR,QACEuF,KAAA,O,oDAICjG,GACHiG,KAAA,WAAgB0B,IAAO1B,KAAKsU,MAAM/U,OAAlBmC,eAAwClI,IAAxD,e,mPCpBiB+a,E,WAMnB,e,4FAAoB,SAClBvU,KAAA,OAAc,WAAS,CACnBnH,GAAI,oCADR,GAGAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,OAAcA,KAAKvF,IAAI+J,KAAvB,oCAEGxE,KAAKvF,IAAR,QACEuF,KAAA,O,oDAICjG,GACHiG,KAAA,aAAiB,SAAUwU,EAAKzE,GAC9B,IAAI0E,EAAQrb,IAAZ,GACAqb,OAAW/S,IAAO+S,EAAP/S,eAA4BlI,IAAvCib,kB,4PC5BDvS,gBAAL,WACE+Q,sBAAsB/Q,MAAtB+Q,sBAAoD,CAClD/R,MAAO,YAEL,SAAIlB,KACF,MAAM,IAAI0U,UAAV,iCAGF,IAAIC,EAAI1B,OANiB,MASrB2B,EAAMD,WATe,EAYzB,sBAAWE,EACT,MAAM,IAAIH,UAAV,gCAUF,IANA,IAAII,EAAU/V,UAjBW,GAoBrBgW,EApBqB,EAuBlBA,EAAP,GAAgB,CAKd,IAAIC,EAASL,EAAb,GACA,GAAIE,aAAJ,GACE,SAGFE,IAIF,Y,ICjCeE,E,WACnB,e,4FAAoB,SAClBjV,KAAA,KAAY,CACV8C,SADU,GAEVC,OAFU,EAGVC,KAHU,KAIVC,WAJU,GAKVC,SALU,GAUVgS,qBAAuB,aAGvB/R,WAAY,gBACV/J,oCAEFgK,WAAY,CACV,CACEC,QAAS,CADX,GAEEC,UAFF,yBAGEE,OAAQ,gBACN,MAAO,gDAAgDE,EAAhD,GAAP,WAGJ,CACEL,QAAS,CADX,GAEEC,UAFF,+BAGEE,OAAQ,gBACN,OAAKE,EAAL,GACO,sGAAsGA,EAAtG,GAAP,cADoB,KAIxB,CACEL,QAAS,CADX,GAEEC,UAFF,yBAGEE,OAAQ,gBAEN,MAAO,uEADY9B,IAAOgC,EAAPhC,WAAsBlI,IAAzC,YACO,gFACsEkK,EADtE,wFAE2EA,EAF3E,GAAP,aAMNC,SAAU,CACRC,SAAU,CACRC,KADQ,qEAERC,SAAU,4EAKhB9D,KAAA,mBAEAA,KAAA,OAAc,WAAS,CACnBnH,GAAI,sBADR,GAGAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IAEGtE,KAAKvF,IAAR,QACEuF,KAAA,O,oDAICjG,GACHX,WAAS4G,KAAT5G,sBACA4G,KAAA,gBACAA,KAAA,e,4EAOI7G,iBAAsBA,YAA1B,IACEC,4CACSD,iBAAsBA,YAA1B,IACLC,4CACSD,aAAJ,MACLC,6CAIF4G,KAAA,cAAqBA,KAAKvF,IAAIkK,UAAU,CACtC,UADsC,EAEtC,MAFsC,EAGtC,YAHsC,EAItC,WAJsC,EAKtC,eALsC,EAMtC,YANsC,EAOtC,YAPsC,EAQtC,WARsC,EAmBtC,KAAQ,CACN,IAAO3E,KAAKsF,KADN,WAEN,KAAQ,CACN,OAAUtF,KAAKsF,KADT,OAEN,KAAQtF,KAAKsF,KAAKtC,MAEpB,QAAWhD,KAAKsF,KAAKG,iBAEvB,WAAczF,KAAKsF,KA3BmB,SA4BtC,IAAOtF,KAAKsF,KA5B0B,SA6BtC,aAAgBtF,KAAKsF,KA7BiB,qBA8BtC,WAActF,KAAKsF,KA9BmB,WA+BtC,WAActF,KAAKsF,KA/BmB,WAgCtC,SAAYtF,KAAKsF,KAAK3B,gB,0MCpHPwR,E,WAKjB,e,4FAAoB,SAChBnV,KAAA,OAAc,WAAS,CACnBnH,GAAI,YADR,GAGAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IAEGtE,KAAKvF,IAAR,QACIuF,KAAA,O,oDAIHjG,GACHiG,KAAA,aACAA,KAAA,WAAkBA,KAAKvF,IAAI+J,KAA3B,2BACAxE,KAAA,gBACE0B,IAAOtI,SAAO4G,KAAKoV,WAAnB1T,gBACElI,IAFJ,aAKAwG,KAAA,oB,0QC1BeqV,E,WACnB,e,4FAAoB,SAClBrV,KAAA,OAAc,WAAS,CACrBnH,GAAI,gBADN,GAGAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACItE,KAAKvF,IAAT,QACEuF,KAAA,O,sDAIFA,KAAA,OAAcA,KAAKvF,IAAI+J,KAAvB,wBACAxE,KAAA,aAAiB,SAAUwU,EAAKzE,GAC5B,IAAI0E,EAAQrb,IAAZ,GACFqb,OACE/S,IAAO+S,SAAP/S,eAAmClI,IADrCib,gBAKFzU,KAAA,eAAsBA,KAAKvF,IAAI+J,KAA/B,oBACAxE,KAAA,mBAA0BA,KAAKvF,IAAI+J,KAAnC,yBACAxE,KAAA,eAAsBA,KAAKvF,IAAI+J,KAA/B,mBACAxE,KAAA,cAAqBA,KAAKvF,IAAI+J,KAA9B,mBACAxE,KAAA,cAAqBA,KAAKvF,IAAI+J,KAA9B,kBACAxE,KAAA,kBAAyBA,KAAKvF,IAAI+J,KAAlC,wBACAxE,KAAA,YAfK,EAkBLA,KAAA,8CACGA,KAAKsV,eAAe9Q,KAAK,cAAzB,OAAH,GAEIxE,KAAA,oBAAyB,cAAzB,wBAKJA,KAAA,aA1BK,KA2BLA,KAAA,yBACAA,KAAA,qBACAA,KAAA,e,mCAKA,IAAI8G,EAAJ,KAEA1N,KAAE,WACE0N,0BAGJlH,iBAAqB,YACjBkH,2BACAA,0BAGJ9G,KAAA,+BAAoC,YAC5B9G,mBAAJ,KAGA4N,0BAEJ9G,KAAA,+BAAoC,YAC5B9G,mBAAJ,KAGA4N,0BAEJxH,YAAkBU,KAAlBV,qB,+CAKAU,KAAA,mBAAwB,CAClB3F,OADkB,OAElB,aAAc,Y,2CAKD,WACnB2F,KAAA,yDAEQ,cAEN,IAAI5F,EAAQ,iBAAZ,aACMC,EAAS,EAACD,EAAd,GAECC,EAAS,iBAAZ,gBAEID,EAAQ,IADVC,EAAS,iBAATA,eACED,GAEJhB,WAAa,CACXiB,OAAQA,EADG,KAEXD,MAAOA,EAAQ,Y,wCAMHxB,GAChBoH,KAAA,YAAmB5G,IAAER,EAAFQ,eAAnB,QACAmc,cAAcvV,KAAduV,cACAvV,KAAA,UAAeA,KAAf,e,wCAIgBpH,GAChBoH,KAAA,aAAoBA,KAApB,oB,gCAIQmC,GACHnC,KAAKwV,cAAcC,GAAGtT,GAAOuT,SAAlC,iBACE1V,KAAA,qDACAA,KAAA,yCAEAA,KAAA,oBAAyB,UAAYmC,EAArC,8BACAnC,KAAA,4CAEAA,KAAA,wB,2CAMA,IAAI2V,EAAmB3V,KAAK4V,eAAepR,KAAK,gBAAgB7G,WAAhE,IACIkY,EAAsB7V,KAAK4V,eAAepR,KAAK,gBADnD,cAGFsR,OAAY9V,KAAZ8V,iBAAqC,CACnCjW,IAAK8V,EAAmBE,EAAnBF,EAA6C,O,wCAKpC,WAChB,OAAOI,aAAY,WACjB,uBADF,O,yCAOA/V,KAAA,cACAA,KAAA,UAAeA,KAAf,kB,0MC/IiBgW,E,WACnB,e,4FAAoB,SAClBhW,KAAA,OAAc,WACZ,CACEnH,GAAI,6BAFR,GAOAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IAEItE,KAAKvF,IAAIsG,OAAb,GACEf,KAAA,O,sEAOF,IAAIiW,EAAJ,EAIA,OAHA7c,mCAAgC,WAC9B6c,GAAkC7c,UAAlC6c,gBAEF,I,wCAMA,IAAIC,EAAyB9c,6BAHb,OAMZ+c,EAAuB/c,wBAA3B,OACIgd,EAAgBhd,wBAApB,QACAA,iCACAA,6BATgB,GAYZA,kCAAJ,IAEEA,gEAFuC,0CAOvCA,yHAGAA,qEAIF,IAAK,IAAIqH,EAAT,EAAgBA,EAAIyV,EAApB,EAAgDzV,IAAK,CAMnD,GALArH,qDADmD,wCAM7C4G,KAAKqW,uBAAX,GAAoD,CAClDjd,mDACEA,IADFA,wBAGA,MAIF,GAAIA,qCAAJ,EAA4C,CAC1CA,yBACA,OAGJ,GAAI8c,GACF9c,2B,6BAKF4G,KAAA,qCACAA,KAAA,e,mCAIA,IAAI8G,EAAJ,KAEAA,oBACA1N,qBAAkB,WAEhB,IAAIkd,GAAJ,EACAld,qBAAkB,YACAA,IAAhB,uBACImd,GAAa3d,EAAb2d,SAAJ,GAA8BD,GAC5Bld,kCACAkd,OAEAld,kCACAkd,SAIJnd,YAAY,WACV2N,+B,0MCjGa0P,E,WAKnB,e,4FAAoB,SAElBxW,KAAA,OAAc,WACZ,CACEnH,GADF,cAEE4d,UAFF,4BAGEC,UAHF,EAIEC,YAJF,wBAKEC,mBALF,uBAMEC,kBANF,qBAOEC,aAPF,EAQEC,UAAW,GATf,GAcA/W,KAAA,GAAUA,KAAKsE,OAAf,GACAtE,KAAA,IAAW5G,IAAE4G,KAAb,IACAA,KAAA,kBACAA,KAAA,O,sDAGAA,KAAA,aACIA,KAAKsE,OAAT,QACEtE,KAAA,cAAmBA,KAAnB,O,mCAIF,IAAI8G,EAAJ,KACAlH,iBAAqB,WACnBlH,YAAW,WACToO,yBADFpO,QAIFkH,iBAAqB,WACnBlH,YAAW,WACToO,yBADFpO,QAIFse,wB,2CAIA,IAAMlQ,EAAN,KACA9G,KAAA,aAAkBA,KAAKsE,OAAvB,mBACAtE,KAAA,UAAc,cACZ,IAAIvF,EAAMrB,IAAV,GACI0N,eAAJ,IACErM,WAAaqM,SAAbrM,oBACIqM,4BAAJ,GACEA,yBACIA,SAAJ,UACErM,WAAaqM,SAAbrM,aAEFmF,SAAakH,SAAblH,aACIkH,SAAJ,WACEA,uBAGEA,SAAJ,MACEA,mBAIAA,SAAJ,UACErM,cAAgBqM,SAAhBrM,oBAEEqM,SAAJ,OACEA,wB,gCAOErM,EAAKwc,GACb,IAAIC,EAAUF,gBAAyBhX,KAAKsE,OAA5C,UACE6S,EACEH,gBAAyBA,IAAzBA,SAA+ChX,KAAKsE,OAFxD,aAGE8S,EAAO3c,WAHT,IAIE4c,EAAUD,EAAO3c,EAJnB,cASA,QAHkBwc,QAPI,IAUfK,KAJQL,QALf,IASA,I,qCAGArX,kBAAsB,WACpBkH,6BAEFlH,kBAAsB,WACpBkH,+B,6BAWGrM,GACLuF,KAAA,gBAAqBA,KAAKsE,OAA1B,mBACAtE,KAAA,eACAA,KAAA,IAAWvF,OAASuF,KAApB,IACA8G,uBACA9G,KAAA,kB,2NCtHiBuX,E,WACnB,e,4FAAoB,SAClBvX,KAAA,OAAc5G,cAAd,GACA4G,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IAEAtE,KAAA,iBAAwBA,KAAKvF,IAAI+J,KAC/BxE,KAAKsE,OAAO+H,IADd,4BAIArM,KAAA,WAAgBA,KAAhB,Q,0DAGSsE,GAEc,IAAI,EAAJ,EACrBtE,KAAKsE,OAAO+H,IADS,2BAErB,CAEEmL,aAFF,EAGE1X,UAHF,aAIE2X,MAJF,EAKEC,cALF,OAMEC,eANF,EAOEC,mBAAoBtT,sBAPtB,IAQEuT,kBARF,GASEC,aAAcxT,gBAThB,GAUEyT,gBAVF,EAWEC,eAXF,EAYEC,eAZF,EAaEC,UAbF,EAcEC,gBAdF,EAiBEC,WAjBF,sBAkBEC,WAlBF,sBAmBEC,OAtBJ,KAsBYxR,YAnBV,MAoBEyR,YAAa,CAEXC,IAAK,CACHV,aADG,GAEHF,mBAFG,GAGHC,kBAHG,GAIHF,eAAgB,Q,6BAOnB/e,GACAQ,qBAAL,0BACoB,IAAI,EAAW,CAC/BP,GAD+B,kBAE/Bge,kBAF+B,qBAG/BF,YAH+B,kBAI/BC,mBAJ+B,cAK/BH,UAL+B,eAM/BK,cAN+B,IAO/BC,WAAY,MAIZne,gBAAJ,IACEQ,IAAER,EAAFQ,kCACAA,IAAER,EAAFQ,wC,0MC9Deqf,E,WAKnB,e,4FAAoB,SAGlBzY,KAAA,OAAc,WACZ,CACEnH,GAAI,oBAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,O,sDAGAA,KAAA,e,gQCjBiB0Y,E,WAKnB,e,4FAAoB,SAGlB1Y,KAAA,OAAc,WACZ,CACEnH,GAAI,gBAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OATA,IAalBtE,KAAA,O,sDAIAA,KAAA,qBACAA,KAAA,e,iFAMAA,KAAA,0BAA+B,CAC7B2Y,MAAO,CACLC,SAAU,CACR1P,UAAU,GAEZ2P,aAAc,CACZ3P,UAAU,W,sMCxCpB,IAAM5F,EACK,UAGUwV,E,WACnB,e,4FAAoB,SAClB9Y,KAAA,OAAc5G,cAAd,GACA4G,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,O,sDAIAA,KAAA,e,mCAGW,WACXA,KAAA,sBAA4B,WAC1B,eAAkBsD,MAGpBtD,KAAA,qBAA2B,WACzB,kBAAqBsD,W,mDChB3B,IAAMrC,EAAU/H,OAAhB,Q,0KCAqB6f,E,WAKnB,e,4FAAoB,SAClB/Y,KAAA,+BACAA,KAAA,OAAc,WACZ,CACEnH,GAAImH,KADN,YAEEgZ,QAFF,GAGE/V,WAAY,gDAJhB,GAQAjD,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IAEItE,KAAKvF,IAAIsG,OAAb,GAAyBf,KAAKiZ,O,sDAI9BjC,2BACAhX,KAAA,e,mCAIA,IAAI8G,EAAJ,KAEA9G,KAAA,gBAAqB,YACf5G,IAAER,EAAFQ,iBAAJ,sBACE4d,8BACA5d,IAAE0N,EAAF1N,+B,mNC/Ba8f,E,WAKnB,e,4FAAoB,SAGlBlZ,KAAA,OAAc,WACZ,CACEnH,GAAI,WAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,SAAgBA,KAAKvF,IAAI+J,KAAzB,mBACAxE,KAAA,SAAgBA,KAAKvF,IAAI+J,KAAzB,mBACAxE,KAAA,uBAA6BgX,IAAiBhX,KAA9C,WACAA,KAAA,aACAA,KAAA,sCAEIA,KAAKvF,IAAT,SACEuF,KAAA,OACAA,KAAA,kBAAAA,O,sDAIFA,KAAA,e,mCAGA,IAAI8G,EAAJ,KACA9G,KAAA,YAAiB,CACfkO,MAAO,WACDpH,EAAJ,UACEA,UAEAA,c,8BAMN9G,KAAA,gBAAqBA,KAArB,cACAA,KAAA,0BACAA,KAAA,e,6BAGAA,KAAA,aAAkBA,KAAlB,cACA,IAAI3F,EAAS2c,IAAiBhX,KAAjBgX,UAAb,OACAhX,KAAA,mBACAA,KAAA,kB,0MCnDiBmZ,E,WAKnB,e,4FAAoB,SAGlBnZ,KAAA,OAAc,WACZ,CACEnH,GAAI,gCAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACItE,KAAKvF,IAAT,QACEuF,KAAA,O,sDAKF,IAAI8G,EAAJ,KACAA,UAAeA,WAFV,0CAKLA,sBAAyB,YACvBlO,mBACA,IAAIwgB,EAA0BhgB,kBAA9B,6CAGIggB,WAAJ,gBACEA,6BACAhgB,eAAaA,eAAbA,iBAEAggB,0BACAhgB,eAAaA,eAAbA,uB,0MCnCaigB,E,WAKjB,e,4FAAoB,S,oDAIfC,GAEDtZ,KAAA,QAAesZ,OAFE,4CAKjBtZ,KAAA,oBAAyB,YACrBpH,mBAEA,IAAI2gB,EAAcngB,EAAEA,gBAApB,iCAEImgB,WAAJ,gBACIA,6BACAngB,aAAaA,aAAbA,gBAEAmgB,0BACAngB,aAAaA,aAAbA,wB,0MCxBKogB,E,WACnB,e,4FAAoB,SAClBxZ,KAAA,OAAc,WACZ,CACEnH,GADF,iCAEE4gB,iBAAkB,0CAHtB,GAOAzZ,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,kBAAyB5G,IAAE4G,KAAKsE,OAAhC,kBAEItE,KAAKvF,IAAT,QACEuF,KAAA,O,sDAKF,IAAI8G,EAAJ,KACA9G,KAAA,QAAeA,KAAKvF,IAAI+J,KAFnB,4CAKLpL,SAAO4G,KAAP5G,mBAA+B,cAC7B0N,iBACE1N,iCADF0N,MAIE1N,YAJF0N,+CAKE1N,8BALF0N,MAQE1N,8BARF0N,UAeF9G,KAAA,qBAA0B,YACxBpH,mBACAkO,oBAAyB1N,IAAER,EAAFQ,gBAAzB0N,0CAIAA,iBACEA,uFADFA,mBAIEA,yBAJFA,+CAOEA,2CAPFA,MAQEA,2CARFA,Y,qCAaW4S,EAAYH,EAAaI,EAAeC,GACrD,IAAIC,EAAJ,EACIC,EAAJ,EACIC,EAAJ,EAEIC,EAAS,uCAAb,OACA,IAAW9gB,OAAP,YACF8gB,EACE,uCAAyCN,EAAaxgB,OADxD8gB,WAIF5gB,SAAO,CACLwQ,KADK,MAELvE,IAFK,EAGL4U,QAAS,YACPJ,UACAA,WACkC,IAAlC,GACAK,QACAL,qGAMFnR,MAAO,YACLrI,uB,4MCjFR,IAyCWyE,GAAa,IAzCxB,WAKE,e,4FAAoB,SAClB9E,KAAA,SACAA,KAAA,QACAA,KAAA,YACAA,KAAA,O,UATJ,O,EAAA,G,EAAA,8BAYIA,KAAA,eAZJ,mCAeI,IAAI8G,EAAJ,KACAkQ,OACM,CACFjX,OAAQiX,EAAA,GAAe,WACrB,IAAM1W,EAAOwG,EAAb,UACIxG,IAASwG,EAAb,WACElH,oCACAkH,gBAJI,OAFZkQ,WAhBJ,gCA6BI,OAAO9d,wBACaJ,uBADbI,6DAAP,S,2BA7BJ,M,uKCEA,IAAIihB,GAASjhB,eAAb,KAEqBkhB,G,WAKnB,e,4FAAoB,SAGlBpa,KAAA,OAAc,WACZ,CACEnH,GAAI,gBAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IAEAtE,KAAA,SAAgBA,KAAKvF,IAAI8K,KAAzB,YACAvF,KAAA,UACAA,KAAA,aAAoBA,KAAKvF,IAAI+J,KAA7B,iBACAxE,KAAA,cAAqBA,KAAKvF,IAAI+J,KAA9B,kBACAxE,KAAA,eAAsBA,KAAKvF,IAAI+J,KAA/B,mBACAxE,KAAA,kBAAyBA,KAAKqa,eAAe7V,KAA7C,kBACAxE,KAAA,QAAeA,KAAKvF,IAAI+J,KAAxB,uBACAxE,KAAA,cAAqBA,KAAKqa,eAAe7V,KAAzC,8BACAxE,KAAA,eAAsBA,KAAKvF,IAAI+J,KAA/B,8BACAxE,KAAA,uBAA8BA,KAAKvF,IAAI+J,KAAvC,2BACAxE,KAAA,2BAAkCA,KAAKvF,IAAI+J,KAA3C,yCAGAxE,KAAA,aAAoBA,KAAKvF,IAAI+J,KAA7B,wBACAxE,KAAA,qBAA4BA,KAAKvF,IAAI+J,KAArC,yCAIAxE,KAAA,iBAAwBA,KAAKvF,IAAI+J,KAAjC,uBACAxE,KAAA,YAAmBA,KAAKvF,IAAI+J,KAA5B,4BACAxE,KAAA,UAAiBA,KAAKvF,IAAI+J,KAA1B,0BACAxE,KAAA,YAAmBA,KAAKvF,IAAI+J,KAA5B,4BACAxE,KAAA,aAAoBA,KAAKvF,IAAI+J,KAA7B,6BAEAxE,KAAA,iBAAwBA,KAAKvF,IAAI+J,KAAjC,iCACAxE,KAAA,wBAA+BA,KAAKsa,iBAAiB9V,KAArD,yCAGAxE,KAAA,sBAA6BA,KAAKsa,iBAAiB9V,KAAnD,uCAIAxE,KAAA,iBAEAA,KAAA,UAAiBA,KAAKvF,IAAI+J,KAA1B,0BACAxE,KAAA,aAAoBA,KAAKvF,IAAI+J,KAA7B,6BAEAxE,KAAA,aAAoBA,KAAKvF,IAAI+J,KAA7B,uBACAxE,KAAA,aAAoBA,KAAKvF,IAAI+J,KAA7B,4BACAxE,KAAA,aAAoBA,KAAKvF,IAAI+J,KAA7B,4BACAxE,KAAA,oBAA2BA,KAAKvF,IAAI+J,KAApC,wCAGAxE,KAAA,kBAEAA,KAAA,mBACAA,KAAA,aAAoBA,KAzDF,aA4DlBA,KAAA,yBAAgCA,KAAKvF,IAAL,qCAAhC,OAGAuF,KAAA,0BAAiCA,KAAKvF,IAAL,sCAAjC,OAGAuF,KAAA,4BAAmCA,KAAKvF,IAAL,wCAAnC,OAIAuF,KAAA,gBACAA,KAAA,wBAvEkB,IA0ElBA,KAAA,SAAgBua,IAAhB,SACAva,KAAA,mBAEAA,KAAA,O,sDAGA,IAAI8G,EAAJ,KACA9G,KAAA,UAAc,WACZ,SAAI8E,aACFgC,uBAEAA,sBAEFA,eACAA,eACAA,wB,+BAGK/K,GACP,IAAI+K,EAAJ,KACI9G,KAAJ,UACE5G,YAAU4G,KAAV5G,UAAyB,YACvB0N,OADsC,EAGtCA,kBAAuBkQ,IACrBlQ,yBAA4BA,EAJQ,OAOtC/K,e,0CAKJiE,KAAA,uC,uCAIA,IAGMwa,EAFIthB,gBAAV,KAEUuhB,MADV,sBAEA,KAAO,CACL,IAAMC,EAAQ9S,SAAS4S,EAAvB,IACMG,EAAS/S,SAAS4S,EAAxB,IACIxX,EAPN,KAOa8D,UAAX,GACI9D,GAAQA,EAAZ,WARF,KAUI8D,uB,mCAKJ,IAAIA,EADO,KAIX9G,KAAA,kBAAuB,CACrBkO,MAAO,YACLtV,mBACA,IAAM2M,EAAOnM,UAAb,OACA0N,2BAA8BvB,EAA9BuB,YACAA,oBAAuBvB,EAAvBuB,eAGJ9G,KAAA,8BAAmC,CACjC/D,OAAQ,YACNrD,mBACA,IAAMgiB,EAAaxhB,UAAnB,MACA0N,8BACAA,0BAGJ9G,KAAA,WAAgB,CACdkO,MAAO,YACLtV,mBACAkO,4BACA,SAAIhC,aACFgC,uBAEAA,sBAEFA,yBAGJ9G,KAAA,aAAkB,CAChBkO,MAAO,YACLtV,mBACA,IAAIiiB,EAAc/T,qDAAlB,QAGA,YAAIhC,aAAiC,CACnC,IAAMgW,EAAYhU,gBADiB,QAK7BiU,EAAkBjU,gBAAxB,aAEE+T,EADEE,GAAJ,EACgBA,EAAdF,EAEAA,EAGJ/T,gBAAmB+T,EAAnB/T,MAGJ9G,KAAA,eAAoB,CAClBkO,MAAO,YACLtV,mBACA,IAAIiiB,EAAc/T,qDAAlB,QAGA,YAAIhC,aAAiC,CACnC,IAAMgW,EAAYhU,gBAAlB,QACMkU,EAAgBlU,wBAAtB,OACMmU,EAAcD,EAAgBlU,gBAApC,QACMiU,EAAkBjU,gBAAxB,aACIiU,KAAJ,GAAqCA,GACnCF,EAAczf,WAAW2f,EAAzBF,IACkBG,EAAlB,IACEH,EAAcG,EAAdH,GAGFA,IAGJ/T,gBAAmB+T,EAAnB/T,MAGJ9G,KAAA,iBAAsB,CACpBkb,OAAQ,WACN,YAAIpW,aAAiC,CACnC,IAAIqW,EAAqBrU,0BAAzB,EACIqU,IAAJ,MACEA,KAEFrU,oBAEEA,wBAFFA,QAIA,OAAIA,eACFrO,aAAaqO,EAAbrO,aAEFqO,cAAmBpO,YAAW,WAC5BoO,gBAAmBA,EAAnBA,2BADFA,W,gCAQE2E,GACRK,mCAA2C,IAA3CA,K,8CAGA,IAAMgP,EAAY9a,KAAKob,cAAvB,QACML,EAAkB/a,KAAKob,cAA7B,aACA,OAAOhgB,WAAW2f,EAAlB,K,oCAGAjF,QAAa9V,KAAb8V,cAAiC,CAC/Bla,SAAU,CACRyf,EAAG,O,oCAIKlZ,GACZ,IACImZ,EADJ,KACA,oBACA,YAAIxW,aAAiC,CACnCwW,EAHF,KAGmBxU,sBADkB,OAGnC,IAAMyU,EAAevb,KAAKob,cAA1B,QACIjZ,MAAcA,EAAlB,IACExE,EAAWwE,EAAXxE,EACAmY,OAAY9V,KAAZ8V,iBAAqC,CACnCla,SAAU,CACR4f,EADQ,EAERC,KAAMtB,GAAOuB,mBAId,GAAIvZ,MAAcA,EAAlB,EAA0C,CAC/C,IAAIxE,EAAWqC,KAAKob,cAAc/gB,SAAlC,EACAyb,OAAY9V,KAAZ8V,iBAAqC,CACnCla,SAAU,CACRyf,EADQ,EAERI,KAAMtB,GAAOuB,aAInB,IAAIC,EAAYxZ,EAAhB,EACIwZ,EAAJ,IACEA,KAEEA,EAAJ,IACEA,KAEF3b,KAAA,iBAhCmB,K,uCAmCJ4b,GACf,IAAI9U,EAAJ,KACIwU,EAAiBxU,EAArB,oBACA,SAAIhC,eACFwW,EAAiBxU,wBAAjBwU,QAEFtb,KAAA,8DACA,GAAI4b,EACF5b,KAAA,wDACS4b,GAAJ,GACL5b,KAAA,0DAEFA,KAAA,kDACAA,KAAA,qBACA,IAAK,IAAIS,EAAT,EAAgBA,EAAhB,EAAoCA,IAClCT,KAAA,iEAEFA,KAAA,+CAAoD,CAClDkO,MAAO,WACLpH,gBAAmB1N,UAAnB0N,YAGJ9G,KAAA,gGAGAA,KAAA,+CAEM4b,EAFN,+C,0CAOA,OAAOxgB,UACL4E,KAAKqa,eAAehgB,SAAW2F,KAAKob,cADtC,Y,sCAKcS,EAASC,GACvB9b,KAAA,gCACAA,KAAA,gC,mCAGAA,KAAA,oBACAA,KAAA,mBACA,SAAI8E,aACFgR,OAAY9V,KAAZ8V,oBAAwC,CACtChY,UADsC,GAEtCie,SAAU,SAGZjG,OAAY9V,KAAZ8V,oBAAwC,CACtCiG,SADsC,GAEtCje,UAAW,W,mCAKf,SAAIgH,aACFgR,OAAY9V,KAAZ8V,oBAAwC,CACtChY,UAAW,IAGbgY,OAAY9V,KAAZ8V,oBAAwC,CACtCiG,SAAU,M,wCAIEnB,GAChB,GAAI5a,KAAKgc,mBAAT,EACE,SAEAhc,KAAA,oBAGF,IAAI8G,EAAJ,KACA9G,KAAA,qBACAA,KAAA,qBACAA,KAAA,iBAAqB,WACnB8G,4CACAA,0BAF8B,iBAI9BA,8BAJ8B,SAS9BA,wBAA2BA,sBATG,IAW9BA,oBACAA,mBACAA,eACA9G,KAAA,cACA8G,oBAAwB9G,KAAKic,sBAA7BnV,a,wCAGckU,GAChBhb,KAAA,mBACAA,KAAA,uBACAgb,EAAgBA,GAAhBA,EACA,IAAIlU,EAJ2B,KAM3BA,wBAAJ,OACE9G,KAAA,iBAAqB,WACnB8G,8CACAA,yCACAA,EAH8B,qBAK9BA,8BAL8B,SAU9B9G,KAAA,sBAA2B8G,oBAVG,IAY9BA,oBACAA,kBAAoB,WAClBA,2BAEFA,mBAIF9G,KAAA,sBAA2B8G,oBAA3B,IACA9G,KAAA,kBACAA,KAAA,gBAAoB,WAClB8G,2BAEFA,kB,qCAGW/K,GACb,IAAI+K,EAAJ,KACIA,wBAAJ,QACEgP,kBACEhP,EADFgP,sBAEEhP,EAFFgP,aAGE,CACEoG,QADF,EAEEC,MAFF,IAGEV,KAAMtB,GAAOuB,WAEf,CACEQ,QADF,EAEEC,MAFF,EAGEV,KAAMtB,GAAOuB,WAXjB5F,KAcE,WACE,GACE/Z,e,sCAMMA,GACd,IAAI+K,EAAJ,KACIA,wBAAJ,QACEgP,cACEhP,EADFgP,sBAEEhP,EAFFgP,aAGE,CACEoG,QADF,EAEEC,MAFF,IAGEV,KAAMtB,GAAOuB,WANjB5F,KASE,WACE,GACE/Z,e,+BAMDiH,EAAM4X,GACb,IAAI9T,EAAJ,KACA9D,eACKA,EAAL,QACEA,QAAa8D,OAAb9D,OAEF,IAAIoZ,EAAWtV,kBAAqB9D,EAArB8D,kBAA4C9D,KAA3D,GACIqZ,EAAJ,EACID,IAAaA,EAAjB,YACEC,IACAD,EACEtV,kBAAqB9D,EAArB8D,kBAA4C9D,KAD9CoZ,IAGEA,GAAYA,EAAhB,YACEpZ,SAAcA,KAAdA,EACAA,YACE8D,kBAAqB9D,EAArB8D,kBACE9D,KADF8D,GADF9D,OAMF,IAAIsZ,EAAWxV,kBAAqB9D,EAArB8D,kBAA4C9D,KAA3D,GACIuZ,EAAJ,EAaA,OAZID,IAAaA,EAAjB,YACEC,IACAD,EACExV,kBAAqB9D,EAArB8D,kBAA4C9D,KAD9CsZ,IAGF,IACEtZ,SAAcA,KAAdA,EACAA,YACE8D,kBAAqB9D,EAArB8D,kBACE9D,KADF8D,GADF9D,OAKF,I,6CAEqBuC,GACrB,IACI9E,EAAJ,EACI+b,EAAJ,GAEA,IAJA,KAGA1V,gBACOvB,aAAP,IAA2B,CACzB,IAAIkX,EAAJ,EACA,GAAIlX,gBAAJ,MACE,KAAOA,sBAAP,IACEA,yBARN,KAQoCuB,SAC5BvB,sBAD4BuB,GAE5BvB,gBAFFA,IAIAiX,OAAcjX,sBAAdiX,IACAC,IAGJhc,IAEF,W,wCAEgBua,GAKhB,IAJA,IAAIlU,EAAJ,KACI4V,EAAJ,GACIjc,EAAJ,EACIkc,EAAW7V,0BAAf,OACOrG,EAAIrF,WAAX,IAA8C,CAC5C,IAAI4H,EAAO8D,0BAAX,GACK9D,EAAL,QACEA,QAAa8D,OAAb9D,OAEE8D,6BAAJ,UACE4V,GAAmB5V,oBAAnB4V,GAEAA,GAAmB5V,mBAAnB4V,GAEFjc,IAEF,W,0CAEkBma,GAKlB,IAJA,IACI3P,EAAQjL,KAAK4c,YAAYhC,GAA7B,MACIiC,EAAJ,GACIpc,EAAJ,EACOA,EAAIwK,SAAe,GAAO,CAC/B,IAAIjI,EAAOiI,EAAX,GACIA,KAAJ,UACE4R,GAPJ,KAOiB/V,kBAAb+V,GAEAA,GATJ,KASiB/V,iBAAb+V,GAEFpc,IAEF,W,0CAGA,IAAIqG,EAAJ,KACMgW,EAAe9c,KAAK+c,gBAAgBvY,KAA1C,4BACMwY,EAAehd,KAAK+c,gBAAgBvY,KAA1C,4BACMyY,EAAejd,KAAK+c,gBAAgBvY,KAA1C,uBACM0Y,EAAkBld,KAAK+c,gBAAgBvY,KAA7C,wCAGM2Y,EAAYnd,KAAK+c,gBAAgBvY,KAAvC,oCAGI4Y,GAAJ,EAEAD,KAAa,CACXjP,MAAO,WACL,IAAMmP,EAAkBvW,uBAAxB,8BAGA,GACEuW,yDAGAjkB,wDACAgkB,KACAtW,kBAEAuW,sDACAjkB,qDACAgkB,SAKNN,KAAgB,CACd5O,MAAO,WACLpH,mBACAA,mBAIJkW,KAAgB,CACd9O,MAAO,WACLpH,mBACAA,mBAIJmW,KAAgB,CACd/O,MAAO,WACLpH,gBACAA,wBAA2BA,EAA3BA,iBACAA,mBAGJoW,KAAmB,CACjBhP,MAAO,WACLpH,gBACA,IAAMwW,EAAcxW,kBAApB,OACAA,2BAA8BwW,EAA9BxW,YACAA,oBAAuBwW,EAAvBxW,YACAA,wBAA2BA,EAA3BA,iBACAA,qB,4CAMJ,IAAMgW,EAAe9c,KAAK+c,gBAAgBvY,KAA1C,4BACMwY,EAAehd,KAAK+c,gBAAgBvY,KAA1C,4BACMyY,EAAejd,KAAK+c,gBAAgBvY,KAA1C,uBACM0Y,EAAkBld,KAAK+c,gBAAgBvY,KAA7C,wCAIAsY,QACAE,QACAC,QACAC,U,wCAIA,IAAIpW,EAAJ,KACa9G,KAAKic,sBAAsBsB,IAAxC,4BACAC,SAAgB,CACdtP,MAAO,WACL,IAAMuP,EAAWrkB,UAAjB,OACA0N,iBAAoB2W,EAApB3W,WAAyC2W,EAAzC3W,a,qCAKS4T,EAAOC,GACpB,IAAI7T,EAAJ,KACI4W,EAAc1d,KAAK2d,cAAcjD,EAArC,GAEA5T,YAAe,MAAQ4T,EAAQ,QAA/B5T,GAEA9G,KAAA,wBACAA,KAAA,oBACAA,KAAA,gBAA+B,WAC7B8G,0BAA6BA,EAA7BA,sB,mCAIS4W,EAAa3hB,GACxB,IAAI+K,EAAJ,KACA9G,KAAA,uBACAA,KAAA,gBAAuBA,KAAK4d,aAAL,6BAAvB,OAGA5d,KAAA,oBACA,IAAI6d,EAAoB7d,KAAK+c,gBAAgBvY,KAA7C,0BACAxE,KAAA,qBACAA,KAAA,sBAA2C,WACzCjE,e,yCAIe8hB,EAAmB9hB,GACpC,IAAM+hB,EAAcD,SAApB,iBACA,GACE9hB,aAEF8hB,OACEC,EADFD,iBAEE,iB,oCAIUnD,EAAOC,GACnB,IAAI3X,EAAOhD,KAAK+d,QAAQrD,EAAxB,GACA,OAAO1D,IAAqBhX,KAArBgX,4BAAP,K,yCAGiBgH,GACjB,IAAIlX,EAAJ,KACI9D,EAAOhD,KAAK+d,QACd/d,KADS,sBAETA,KAAKie,kBAFP,GAIA,GAAIjb,IAASA,EAAb,UAIE,OAFAhD,KAAA,qBACAA,KAAA,uBACA,EAEF,KAAU,CACR,IAAMke,EAAiBle,KAAK2d,cAC1B3d,KADqB,sBAErBA,KAAKie,kBAFP,GAIAnX,YACE,MACE9G,KADF,+BAGGA,KAAKie,kBAJVnX,IAMA9G,KAAA,qBACA,IAAIme,EAAqBne,KAAK4d,aAAL,6BAAzB,QAGA9W,kBAAkC,WAChCA,0BACE9G,KAAK4d,aAAapZ,KAAK,wBADzBsC,OAEEkX,YAFFlX,gB,uCAUJ9G,KAAA,wB,uCAIAA,KAAA,yB,0CAIA,IAAI8G,EAAJ,KACA9G,KAAA,wDAGE,WACE8G,0BAA6B1N,IAA7B0N,Y,4CAMJ9G,KAAA,8B,gDAIAA,KAAA,mH,+CAKuBmC,GACvB,IAAIic,EAAape,KAAKqe,uBAAL,sCAAjB,GAGAre,KAAA,0BACAoe,iD,4CAIA,IAAMtX,EAAN,KACA9G,KAAA,cAAqB+V,aAAY,WAC/BjP,yBACCA,EAFH,iB,2CAMAyO,cAAcvV,KAAduV,iB,2CAIA,IAAIzO,EAAJ,KACIwX,EAAiBte,KAArB,qBACIue,EACFD,kDADF,OAIIE,EAAgBxe,KAApB,sBACIye,EAAoBD,SAAxB,kBACIE,EACF5Z,sBAAkC,CAAlCA,GAAwC,CAAC,EAAG,EAAG,EAAG,EADpD,GAEI6Z,EAAWvjB,WAAWA,cAAgBqjB,EAA1C,QACA,GAAIA,SAAJ,EAAkC,CAChC,SAAIF,IAIFI,EAAWD,EAHQtjB,WACjBA,cAAgBsjB,EAAhBtjB,OADF,KAKF,SAAI0J,eAEA6Z,EADF,GAAI3e,KAAK4e,aACPD,EAEAA,GAGJ3e,KAAA,eACA,IAAI6e,EAAezlB,IAAEqlB,EAfW,IAkBhC3I,SAA0BhP,EAA1BgP,aAA6C,CAC3CoG,QAD2C,EAE3CC,MAF2C,IAG3CV,KAAMtB,GAHqC,UAI3C2E,WAAY,WACV,IAAIC,EAAcF,EAAlB,QACAA,WACAA,WAEA,IAAIG,GADJR,EAAgB1X,EAAhB0X,uBACuBA,GAAvB,GACA1X,oBACAgP,aAEEhP,EAFFgP,aAGE,CACEoG,QADF,EAEEC,MAAO,KAET,CACED,QADF,EAEEC,MAAO,U,2CAUjBrG,OAAY9V,KAAZ8V,UADA,KACAA,aAA+C,CAC7CoG,QAD6C,IAI/CpG,QAAa9V,KAAb8V,UAA6B,CAC3BhY,UAD2B,EAE3Bie,SAF2B,M,0CAS7BjG,OAAY9V,KAAZ8V,YADA,KAC4BhP,aAAuB,CACjDoV,QADiD,EAEjDpe,UAFiD,SAGjDie,SAAU,a,oCAMZ3iB,yBACE,CAAEmD,UAFJ,KAEeuK,iBAAwB,KAFvC,KACA1N,2B,8CAMsB6lB,EAAOrV,EAAMsV,GACnC,IAAIpY,EAAJ,KACA,UACE,WACEA,2BACAA,0BACA,MACF,YACEA,4BACAA,2BACA,MACF,WACE,SAAIhC,aACFgC,2BAEAA,uBAEFA,0BACA,MACF,aACE,IAAIoY,GACFpY,2BAEF,SAAIhC,aACFgC,0BAEAA,sBAGN,UAAIA,YACFA,wBAEAA,yB,uCAIarM,GACf,IAKA,MALI0kB,EAAmBnf,KAAKof,mBAAmB3kB,EAA/C,QACIqM,EAAJ,KACIuY,EAAS5kB,OAAb,kBACI6kB,EAAc7kB,OAAlB,uBACI8kB,EAAS9kB,OAAb,uBAEI0kB,OAAJ,IAAsCA,UACpCxhB,EAAWwhB,EAAXxhB,WACAtD,EAAS8kB,eAAT9kB,GACAD,EAAQ+kB,cAAR/kB,KAEAuD,EAAW,CAAEkC,IAAF,EAAU2f,KAAM,GAC3BnlB,IACAD,KAEF0b,UAAkB,CAChB2J,OAAQ,IAEVzf,KAAA,qBAEA8V,aAEEhP,EAFFgP,aAGE,CACEoG,QAAS,GAEX,CACEA,QADF,EAEEwD,MAAO5Y,eAAoB,IAG/BgP,aAEEhP,EAFFgP,aAGE,CACEjW,IAAKlC,EADP,IAEE6hB,KAAM7hB,EAFR,KAGEvD,MAHF,EAIEC,OAJF,EAKEsD,SALF,WAME8d,KAAMtB,GAAOuB,WAEf,CACE/d,SADF,WAEEvD,MAFF,OAGEC,OAAQyM,MAHV,SAIE0Y,KAJF,EAKE3f,IALF,EAME4b,KAAMtB,GAAOuB,YAIjB5F,aAEEhP,EAFFgP,aAGE,CACEnY,SADF,WAEEue,QAFF,EAGEyD,OAHF,IAIElE,KAAMtB,GAAOuB,WAEf,CACEQ,QADF,EAEEyD,MAFF,EAGElE,KAAMtB,GAHR,UAIE2E,WAAY,WACVhY,qB,wCAMUrM,GAChB,IAAI0kB,EAAmBnf,KAAKof,mBAAmB3kB,EAA/C,QACA,IAAK0kB,EAAL,OAEE,OADAnf,KAAA,0BACA,EAEF,IAAI8G,EAAJ,KACIuY,EAAS5kB,OAAb,kBACI6kB,EAAc7kB,OAAlB,uBACI8kB,EAAS9kB,OAAb,kBACIkD,EAAWwhB,EAAf,WACI9kB,EAAS8kB,eAAb,GACI/kB,EAAQ+kB,cAAZ,GACArJ,UAAkB,CAChB2J,OAAQ,IAGVzf,KAAA,oBACA8V,aAEEhP,EAFFgP,aAGE,CACEoG,QAAS,GAEX,CACEA,QAAS,IAGbpG,aAEEhP,EAFFgP,aAGE,CACEnY,SADF,WAEEvD,MAFF,OAGEC,OAAQyM,MAHV,SAIE0Y,KAJF,EAKE3f,IALF,EAME4b,KAAMtB,GAAOuB,WAEf,CACE7b,IAAKlC,EADP,IAEE6hB,KAAM7hB,EAFR,KAGEvD,MAHF,EAIEC,OAJF,EAKEsD,SALF,WAME8d,KAAMtB,GAAOuB,YAIjB5F,aAEEhP,EAFFgP,aAGE,CACEoG,QADF,EAEEyD,MAFF,EAGElE,KAAMtB,GAAOuB,WAEf,CACE/d,SADF,WAEEue,QAFF,EAGEyD,OAHF,IAIElE,KAAMtB,GAJR,UAKE2E,WAAY,WACVhY,wBACArM,gB,4CAMcA,GACpB,IAAIqM,EAAJ,KACI8Y,EAAQnlB,OAAZ,iBACI8kB,EAAS9kB,OAAb,kBAEAqb,UAAkB,CAChB2J,OAAQ,IAEV3J,eAEEhP,eACA,CACE0Y,MADF,IAEE3f,IAFF,EAGEqc,QAHF,EAIEve,SAJF,WAKEtD,OAAQyM,MALV,SAME2U,KAAMtB,GAAOuB,WAEf,CACE8D,KADF,EAEEtD,QAFF,EAGErc,IAHF,EAIE4b,KAAMtB,GAAOuB,YAIjB5F,eAEEhP,eACA,CACEnJ,SADF,WAEEue,QAFF,EAGEsD,KAHF,MAIE/D,KAAMtB,GAAOuB,WAEf,CACEQ,QADF,EAEEsD,KAFF,MAGE/D,KAAMtB,GAAOuB,c,6CAKIjhB,GACrB,IACImlB,EAAQnlB,OAFc,iBAItB8kB,EAAS9kB,OAAb,kBACAqb,WAJA,KAImBhP,aAAuB,CACxC0Y,KADwC,IAExCtD,QAFwC,EAGxCT,KAAMtB,GAAOuB,YAEf5F,WATA,KASoBhP,aAAuB,CACzCoV,QADyC,EAEzCsD,KAFyC,MAGzC/D,KAAMtB,GAHmC,UAIzC2E,WAAY,WACVrkB,gB,2CAKeA,GACnB,IAAIqM,EAAJ,KACI8Y,EAAQnlB,OAAZ,iBACI8kB,EAAS9kB,OAAb,kBAEAqb,UAAkB,CAChB2J,OAAQ,IAEV3J,eAEEhP,eACA,CACE0Y,KADF,IAEE3f,IAFF,EAGEqc,QAHF,EAIEve,SAJF,WAKEtD,OAAQyM,MALV,SAME2U,KAAMtB,GAAOuB,WAEf,CACE8D,KADF,EAEEtD,QAFF,EAGErc,IAHF,EAIE4b,KAAMtB,GAAOuB,YAIjB5F,eAEEhP,eACA,CACEnJ,SADF,WAEEue,QAFF,EAGEsD,KAHF,MAIE/D,KAAMtB,GAAOuB,WAEf,CACEQ,QADF,EAEEsD,KAFF,MAGE/D,KAAMtB,GAAOuB,c,4CAIGjhB,GACpB,IACImlB,EAAQnlB,OAFa,iBAIrB8kB,EAAS9kB,OAAb,kBACAqb,WAJA,KAImBhP,aAAuB,CACxC0Y,MADwC,IAExCtD,QAFwC,EAGxCT,KAAMtB,GAAOuB,YAEf5F,WATA,KASoBhP,aAAuB,CACzCoV,QADyC,EAEzCsD,KAFyC,MAGzC/D,KAAMtB,GAHmC,UAIzC2E,WAAY,WACVrkB,gB,2CAIeA,GAEnB,IAAIqM,EAFoB,KAIpBwY,EAAc7kB,OAJM,uBASxBqb,UAAkB,CAChB2J,OAAQ,IAEVzf,KAAA,qBAEA8V,aAEEhP,EAFFgP,aAGE,CACEoG,QAAS,GAEX,CACEA,QADF,EAEEwD,MAAO5Y,eAAoB,IAG/BgP,aAEEhP,EAFFgP,aAGE,CACEoG,QAAS,GAEX,CACEA,QADF,EAEEwD,MAAO5Y,eAFT,EAGEgY,WAAY,WACVhY,qB,4CAKcrM,GAGpBuF,KAAA,oBACA8V,SAFA,KAEAA,aAAoC,CAClCoG,QADkC,EAElCC,MAFkC,GAGlCV,KAAMtB,GAH4B,UAIlC2E,WAAY,WACVrkB,gB,2CAMJ,IAAIolB,EAAJ,GACA,GAAI7f,KAAK8f,gBAAgB/e,OAAzB,EAAqC,CACnC,IAEA,EADI0d,EADgBze,KAApB,sBACwBwe,OAAxB,kBAEA,IAAK/d,EAAL,EAAYA,EAAIT,KAAK8f,gBAArB,WACmBrB,SACf,sBACEze,KAAK8f,gBAAgBrf,GAArB,WADF,oBAGET,KAAK8f,gBAAgBrf,GAArB,GAJJ,MAOIsf,QAAJ,GACEF,OAAsB7f,KAAK8f,gBAA3BD,SAIJA,EAAmB7f,KAAnB6f,gBAEF,IAAIta,EACFsa,EAAiBzkB,WAAWA,cAAgBykB,EAD9C,SAEA,KACE,OAAIta,EAAJ,UACSvF,KAAKggB,kBAAZ,GAEOhgB,KAAKigB,iBAAZ,K,wCAIY1a,GAChB,OAAOyR,IAAqBhX,KAArBgX,0BAAP,K,uCAEezR,GACf,OAAOyR,IAAqBhX,KAArBgX,yBAAP,K,sCAGA,OAAOhX,KAAK8f,gBACV1kB,WAAWA,cAAgB4E,KAAK8f,gBADlC,W,kCAIUlF,GACV,OAAO5a,KAAKuF,KAAKiB,WAAjB,K,8BAEMoU,EAAYD,GAClB,IAAI3X,EAAOhD,KAAKuF,KAAKiB,WAAWoU,GAAY3P,MAA5C,GACA,WAGE,I,4CAIF,OAAOjL,KAAKkgB,UAAU1b,KAAtB,oB,yCAEiB2b,GACjB,OAAOngB,KAAKqa,eAAe7V,KAAK,kBAAzB,OACa2b,EADb,mCAC+CA,EAD/C,WAAP,Y,mNChwCiBC,G,WACnB,e,4FAAoB,SAClBpgB,KAAA,OAAciT,iBAAd,GACAjT,KAAA,QAAeA,KAAKsE,OAAOzL,GAAGqa,IAA9B,GACAlT,KAAA,YAAmBA,KAAKwI,QAAQ6X,UAAUC,SAA1C,qBACAtgB,KAAA,eAAsBA,KAAKwI,QAAQ+X,cAAnC,mBACAvgB,KAAA,OAAcA,KAAKwI,QAAQ+X,cAA3B,gBACAvgB,KAAA,kBACAA,KAAA,yBAEAA,KAAA,O,sDAIIA,KAAJ,SACEA,KAAA,aAAoBA,KAAKuB,OAAzB,WACAvB,KAAA,oBAA2BA,KAAKuB,OAAhC,oBAGFvB,KAAA,e,6CAIIA,KAAJ,SACEA,KAAA,yBAA8BA,KAA9B,QACAA,KAAA,2BAAgCA,KAAhC,W,4CAKEA,KAAKuB,QAAUvB,KAAKuB,OAAOif,gBAAkBxgB,KAAjD,iBACEA,KAAA,2BAAgCA,KAAhC,QACAA,KAAA,0BAA+BA,KAA/B,OAA4CA,KAA5C,wB,mCAIS,WACXJ,gCAAoC,SAAAU,GAC7B,EAAL,cAIA,UAAIA,EACF,yBAEA,iC,iRC1CR,IAAM7G,GAAWP,OAAjB,SACM4S,GAAU5S,OAAhB,QAEqBunB,G,WA2GnB,iB,4FAA0B,SACxBA,sBAEAzgB,KAAA,MACAA,KAAA,QAAe5G,IAAf,QACA4G,KAAA,QAAe,WACb,CACE0gB,UADF,UAEEC,SAFF,SAGEC,iBAHF,gBAIEC,gBAJF,eAKEC,iBALF,sBAMEC,cANF,iBAOEC,aAPF,WAQEC,cARF,eASEC,cATF,eAUEC,qBAVF,iBAWEC,WAXF,mBAYEC,UAZF,kBAaEC,oBAbF,gBAcEC,iBAdF,qBAeEC,eAfF,mBAgBEC,gBAhBF,oBAiBEC,oBAjBF,kBAkBEC,qBAlBF,mBAmBEC,cAnBF,EAoBEC,gBAAiB,GArBrB,GA0BA7hB,KAAA,qBAA4BA,KAAKjG,QAAQ+nB,cAAgB,IAA7B,OAAiC9hB,KAAKjG,QAAQ2mB,UAAUqB,MAAM,KAAKC,KAA/F,MACAhiB,KAAA,oBAA2BA,KAAKjG,QAAQkoB,aAAe,IAA5B,OAAgCjiB,KAAKjG,QAAQ4mB,SAASoB,MAAM,KAAKC,KAA5F,MAEAhiB,KAAA,MAAaA,KAAKvF,IAAI+J,KAAKxE,KAAKjG,QAAhC,cACAiG,KAAA,QAAeA,KAAKvF,IAAI+J,KAAKxE,KAAKjG,QAAlC,eACAiG,KAAA,OAAcA,KAAKkiB,QAAQ1d,KAAKxE,KAAKjG,QAArC,cACAiG,KAAA,cAAqBA,KAArB,OACAA,KAAA,aAAoBA,KAAKvF,IAAI+J,KAAKxE,KAAKjG,QAAvC,kBACAiG,KAAA,aAAoBA,KAAKvF,IAAI+J,KAAKxE,KAAKjG,QAAvC,kBACAiG,KAAA,SAAgBA,KAAKmiB,MAAM3d,KAAKxE,KAAKjG,QAArC,aACAiG,KAAA,SAAgBA,KAAKvF,IAAI+J,KAAKxE,KAAKjG,QAAnC,iBACAiG,KAAA,QAAeA,KAAKvF,IAAI+J,KAAKxE,KAAKjG,QAAlC,gBACAiG,KAAA,SAAgBA,KAAKvF,IAAI+J,KAAKxE,KAAKjG,QAAnC,iBACAiG,KAAA,aAAoBA,KAAKoiB,SAAS5d,KAAKxE,KAAKjG,QAA5C,qBACAiG,KAAA,cAAqBA,KAAKoiB,SAAS5d,KAAKxE,KAAKjG,QAA7C,sBACAiG,KAAA,QACAA,KAAA,oBACAA,KAAA,qBACAA,KAAA,WACAA,KAAA,gBACAA,KAAA,iBACAA,KAAA,oBAA2B5G,qBAA3B,yBACA4G,KAAA,YAAmBygB,2BAAwCzgB,KAA3D,KACAygB,oBAAiCzgB,KAAjCygB,KAEIzgB,KAAJ,KACEA,KAAA,O,4DAlKG9G,OAAL,qBACEA,0BAA4B,CAC1BmpB,QAAS,M,+CAKiB5nB,GAC9B,IAAM4nB,EAAUnpB,0BAAhB,QAEA,OADAA,oCACIuB,KAAJ,IACEA,6BAAgCA,KAAhCA,IACOA,KAAP,KAEFA,gCACA,K,oCAGmB6nB,GACnB,IAAItf,EAAJ,GAEA,IAAK,IAAL,YACE,IAAWsf,EAAP,KACFA,SAEF,KAAGA,KACDtf,uBAEAA,iCAAsBsf,EAAtBtf,KAIJ,IAAMyI,EAAO,IAAH,OAAOzI,OAAjB,MACA,MAAIyI,EACFK,mCAEAA,mC,kCAKF,IAAML,EAAOhS,GAAb,KACA,GAAIgS,QAAQA,GAAZ,MAA2BA,GACzB,QAAIA,cAA6B,CAC/B,IAAMlG,EAAOkG,kBAAb,KACM6W,EAAN,GAeA,OAdA/c,WAAa,SAAAvC,GACX,IAAM+e,EAAQ/e,QAAd,KACIb,EAAQ4f,YAAZ,GACKtQ,MAAL,KACEtP,EAAQyF,SAARzF,IAEF,SACE,IAAW4f,EAAP,GACFO,QAEAA,KAAaP,EAAbO,OAIN,EAGJ,W,8BAGajW,EAAIkW,GACjB,IAAMD,EAAM7B,EAAZ,YACA6B,OACA7B,qB,8BAGapU,GAEb,OADYoU,EAAZ,YACO6B,IAAP,K,wCAGuB7nB,GAKvB,QAJA,IAAWvB,OAAP,+BACFA,yCAGEA,OAAJ,8BAIA,IAAMopB,EAAM7B,EAAZ,YACM+B,EAAU/nB,OAAhB,uBAEA,IAAK,IAAL,OAAqB,CACnB,GAAI+nB,GAAJ,EAAoB,wBAClB,IACM7kB,EAAWlD,eADjB,GASA,MAPI,sBAAJ,KACEqR,+BAEF1S,KAAE,WACAwC,YAAS+B,EAAT/B,QAEF1C,uCACA,QAVkB,GAUlB,Y,mCAmEJ8G,KAAA,YACAA,KAAA,QAAeA,KAAKyiB,iBAAiBziB,KAArC,QACAA,KAAA,KAAYiT,YAAYjT,KAAxB,SACA,IAAMuiB,EAAM9B,UAAuBzgB,KAAnC,aACAA,KAAA,mBAAqB,IAAOA,KAAK0iB,QAAZ,GAA2C1iB,KAAK0iB,QAAhD,GAA+D1iB,KAApF,OACAA,KAAA,WAAgBA,KAAhB,eACAA,KAAA,sBACAA,KAAA,mBACAA,KAAA,sBAEAA,KAAA,WACIA,KAAJ,UACE5G,+BAGF,KAAImpB,IACFviB,KAAA,kBAAuBA,KAAKjG,QAA5B,kBACAiG,KAAA,0DAAwDA,KAAKjG,QAA7D,qB,+BAKF,QAASb,OAAF,wBAAmCJ,SAA1C,e,kCAIAkH,KAAA,sBAAoBA,KAAKoiB,SAASO,IAAI,WACtC3iB,KAAA,eAAsBA,KAAtB,e,iCAGS,WACH4iB,EAAW5iB,KAAjB,SACAA,KAAA,yBAA8B,YAClB5G,IAAER,EAAZ,eACA6B,0CACAmoB,mBAGFA,qCAA6C,YAC3C,IAAInoB,EAAMrB,IAAER,EAAZ,QACA,IAAI6B,WAAJ,kCAIAmoB,4EACAnoB,4CACA,IAAI8nB,EAAM9nB,OAAV,OACA,4DACAmoB,gBACA,+D,uCAIapF,GACf,IAAIkF,EAAJ,GAYA,OAXAlF,QAAY,cACV,IAAM/iB,EAAMrB,IAAZ,IACcqB,gBAAD,uBAA2C,SAAA7B,GAAC,WAAIA,KAC7DiqB,SAAa,SAAA7f,GACN0f,EAAL,GAGEA,KAAgBA,SAAhBA,GAFAA,aAMN,I,iCAGSlF,GACT,IAAMsF,EAAY9iB,KAAKjG,QAAvB,gBACMgpB,EAAS,CACbvD,KAAMpmB,IADO,IAEbumB,MAAOvmB,IAAE,KAWX,OATAokB,QAAY,cACV,IAAM/iB,EAAMrB,IAAZ,GACIqH,IAAJ,EACEsiB,OAAcA,WAAgBtoB,EAA9BsoB,SAEAA,QAAeA,YAAiBtoB,EAAhCsoB,YAIJ,I,yCAGiBC,GACjB,IAAI3d,EAAM2d,mBAA2BA,OAArC,OACI1gB,EAAS+C,qBAAb,IAoBA,MAlBA,SAAI2d,kBACF1gB,cAGF,SAAI0gB,qBACF1gB,kBAGF,SAAI0gB,iBACF1gB,cAGF,SAAI0gB,sBACF1gB,aAGF+C,O,iCAKSmY,GAAQ,WACjBA,gBAAqBxd,KAAKjG,QAA1ByjB,uBAAyDxd,KAAKjG,QAA9DyjB,eAEAA,UACYxd,KAAKjG,QADjByjB,2BACoDxd,KAAKjG,QADzDyjB,eAGiBA,gBAAqBxd,KAAKjG,QAA3C,YAEAkpB,MAAc,cACZ,IAAMD,EAAU5pB,IAAhB,GACA4pB,aAAoB,qBAApBA,OAGcxF,gBAAqBxd,KAAKjG,QAA1C,WACAmpB,MAAa,cACX,IACMC,EADS/pB,IAAf,GACqBgqB,KAArB,UAEID,OAAJ,YACEA,aAAyBA,OAAzBA,eAKJnjB,KAAA,sBACAA,KAAA,uBAEAA,KAAA,iB,wCAGgBvF,GAChBA,oCAAqC,cAEnC,IADA,MACO5B,eAAkBA,EAAzB,iBACE0G,EAAO1G,YAAP0G,QACIA,mBAAJ,IAGA1G,YAAe0G,wBAAf1G,Y,kCAKM2kB,GACV,MAEA,GAAIxd,KAAJ,cAAwB,CACtB,IAAMqjB,EAAQrjB,KAAKsjB,WAAnB,GACAtjB,KAAA,iBAAwBqjB,EAAxB,KACArjB,KAAA,kBAAyBqjB,EAAzB,MACArjB,KAAA,kBAAuBA,KAAvB,kBACAA,KAAA,mBAAwBA,KAAxB,mBAEAA,KAAA,kBAAuBA,KAAvB,cACAA,KAAA,kBAAuBA,KAAvB,eACAujB,EAAYvjB,KAAKoiB,SAAS5d,KAAK,GAAnB,OAAsBxE,KAAKjG,QAA3B,8BAAwDiG,KAAKjG,QAA7D,cAAZwpB,WAEAA,EAAYvjB,KAAKwjB,QAAQhf,KAAK,GAAlB,OAAqBxE,KAAKjG,QAA1B,8BAAuDiG,KAAKjG,QAA5D,cAAZwpB,MAEFvjB,KAAA,sB,uCAGevF,GAEf,OAAKuF,KAAL,oBAWA,KAVS,IAAI,EAAW,CACpBnH,GADoB,EAEpBge,kBAFoB,yBAGpBF,YAHoB,sBAIpBC,mBAJoB,kBAKpBH,UALoB,aAMpBK,cANoB,GAOpBC,UAAW,Q,4CAMK,WACpB/W,KAAA,oBAA0BR,aAAS,YACjC,cACA,cAAiB,EAAjB,iBAFF,Q,yCAQAQ,KAAA,kBAAuBA,KAAvB,aAA0CA,KAAKyjB,iBAAiB1iB,OAAhE,GACAf,KAAA,6B,wCAGgB0jB,GAA2B,IAAbC,IAAa,yDAC3C,GAGED,yCACAA,4FACA1jB,KAAA,iBAAsB0jB,UAAtB,UAJAA,wC,4CAQkB,WACpB1jB,KAAA,iBAAuBA,KAAKjG,QAA5B,aAAiD,SAAAnB,GAC/CA,mBACA,IAAMkN,EAAO1M,IAAER,EAAf,QACA,GAAKkN,WAAc,UAAnB,mBAGA,IAAMyc,EAAMzc,OAAZ,OAEA,qBAAqB,IAAO,UAAP,GAA2C,UAA3C,GAA+D,EAApF,OACA,aAAgB,EAAhB,eACA,oBAAuB,EAAvB,aAA0C,0BAA1C,GACA,oBAAuB,UAAvB,kBACAA,cAAiB,UAAjBA,kBACA2a,UAAuB,EAAvBA,qB,uCAIa,WACf,OAAOzgB,KAAK4jB,cAAclY,QAAO,qBAAWtS,gBAAe,UAA1B,oB,iCAGY,IAAtC4U,EAAsC,uDAA9BhO,KAAKjG,QAAQ8nB,gBACtBgC,EAAgB7jB,KAAtB,iBAEA6jB,yBAEe7jB,KAAKjG,QAFpB8pB,eAGA7jB,KAAA,YAAiBA,KAAjB,iB,iDAGyB,WACzBA,KAAA,yBAA8B,SAAApH,GAC5BA,mBACA,WAAc,UAAd,iBACA,oBAAuB,EAAvB,aAA0C,0BAA1C,U,gLChaekrB,G,WAKnB,e,4FAAoB,SAGlB9jB,KAAA,OAAc5G,cAAd,GACA4G,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,MAAaA,KAAKsE,OAAlB,MACAtE,KAAA,oBACsC0C,IAApC1C,KAAKvF,IAAIspB,KAAK,wBAAd,IACE/jB,KAAKvF,IAAIspB,KAAK,aAGlB/jB,KAAA,4BACEA,KAAKvF,IAAIspB,KAAK,WAAd,IACE/jB,KAAKvF,IAAIspB,KAAK,UAAUC,QAAQ,iBAGpChkB,KAAA,QAAeA,KAAKvF,IAAI+J,KAAxB,4IAGAxE,KAAA,cAAqBA,KAAKvF,IAAI+J,KAA9B,+DAGAxE,KAAA,WAAkBA,KAAKvF,IAAI+J,KAA3B,YACAxE,KAAA,sJAEAA,KAAA,sBAA6BA,KAAKvF,IAAI+J,KAAtC,yBACAxE,KAAA,wBAA+BA,KAAKikB,sBAAL,iBAA/B,OAIIjN,aAAJ,KACE5d,gDAEG4G,KAAKvF,IAAIib,SAAd,8BACE1V,KAAA,O,sDAOEA,KAAJ,iBACEA,KAAA,kBACAA,KAAA,eACAA,KAAA,6BACAA,KAAA,gBAEAA,KAAA,2CAGEA,KAAJ,0BACEA,KAAA,0CAGFA,KAAA,aACAA,KAjBK,kBAoBL,oBAAWkkB,OACThrB,iBAEFA,6E,mCAoBA,IAAWirB,EAfXnN,YAAkB,WACZ5d,mBAAJ,KACEA,mDAIJ4d,4BAAmC,SAAUpe,GAE3C,SAD0BQ,0BAA1B,aAEEA,4CACAR,iCAKOurB,EAuCRC,yBAxDQ,KAkBTA,8BAAgC,WAC9BpkB,KAAA,qCAEE,WACE,IAAIA,KAAKqkB,YACPjrB,IAAE,OAAQA,IAAVA,gBAA2B,WACzB,IAAIkrB,OACFlrB,+CACEA,4BAMJ,GAFuBA,WAAWA,6CAAlC,EAEsB,CACpB,IAAImrB,EAASnrB,aAAb,GAEAV,YAAW,WAGT,MAAS,CACPG,GAHUO,IAAE,IAAd,OADFV,QAQO4rB,GAEI,IAAIR,EAAK,CAClBjrB,GAAImH,aA3BhB,GAmCAmkB,yBAKJnkB,KAAA,OACE,CACEwkB,MAAO,WACL,IAAIC,EAAgBrrB,IAApB,MACIqrB,WAAJ,YACEA,wEAKAA,8DAGAA,2CAJK,aAODrrB,oCAAJ,eACEiH,YACEokB,iCADFpkB,gBAIEokB,iDACAA,iCAFF,cAIErrB,0CAEAA,6CAKRsrB,KAAM,WACJ,IAAIC,EAAmBvrB,IAAvB,MAEA,IAAIurB,UACFA,6CAEIA,WAAJ,eACEA,0CAIAA,iDACAA,iCAFF,cAIEvrB,0CAEAA,4CAIN6C,OAAQ,WAEN,IAAI0oB,EAAmBvrB,IAAvB,MACA,IAAIurB,SACFA,6CACIA,WAAJ,eACEA,2CAGFA,4CAIN3kB,KA3HS,YA+HXA,KAAA,2BAAiC,WAC/B,IAAI4kB,EAAYxrB,IAAhB,MACEyrB,EACED,qBAA+BA,OAFnC,uBAGEE,EAAsBF,WAHxB,6BAIIE,SAAJ,GACEA,OAAyBF,sBAAzBE,MAIJ9kB,KAAA,sDAEoB,SAAUpH,GAC1BA,8BACE,IAAIgK,YAAY,QAAS,CAAEL,SAAS,KAEtC3J,8BACE,IAAIgK,YAAY,SAAU,CAAEL,SAAS,QAI3CvC,KAAA,UAAc,SAAU+kB,EAAMlsB,GAC5B,IAAI8rB,EAAmBvrB,IAAvB,GACA,KAAIurB,SACFA,0CAEEA,WAAJ,eACEA,6CAIJ,IAAI7d,EAAJ,KAEA9G,KAAA,uBACAA,KAAA,iBAAsB,WAEpB,IAAI8G,EAAJ,OAKA,oBAAWod,OACThrB,iBAGF,IAAI8rB,EAAY9rB,YAAhB,MACA,GACE8rB,qBACAA,aACCA,cAAwBA,KAFzBA,OAGAA,EAJF,QAKE,CACA,IAAIzjB,EAASnI,eAAb,wBACAmI,8BACA,IAAIA,iDACFA,mIAKAA,iDACAA,mCACAA,mC,mDAQNvB,KAAA,iBAAqB,SAAUmC,EAAOtJ,GACpC,IAAIosB,EAAQ7rB,IAAZ,GACI6rB,KAAJ,0BACEA,QACE,+CACAA,OADA,uBADFA,gB,wCAaCjO,aAAL,0BAGEhX,KAAA,oBAAwB,SAAUmC,EAAOtJ,GACnCO,gBAAJ,yBACEA,uCAD2C,0BAK3CA,yBADK,0BAOPA,iEAEQ,SAAU+I,EAAO+iB,GACrB,IAAK9rB,gBAAL,sBAA4C,CAC1C,IAAI+rB,EAAM/rB,gBAAV,OAGAA,mCAGU,WACN,WAAO4G,KAAKolB,YAJhBhsB,SAOAA,uBAEU,SAAW+rB,EAFrB/rB,eAOFA,UAAJ,YACEA,wCADsB,gDAMtBA,wE,qCAWN4G,KAAA,2DAEQ,SAAUmC,EAAOtJ,GACrB,IAAIosB,EAAQ7rB,IAAZ,GACIisB,EAAQJ,kCAFa,QAMzBA,oBANyB,mBAOzB,IAAIK,EAAWL,EAAf,OACAA,WACAI,OACE,6BACAA,EADA,6JADFA,qHAOAjsB,IAAE,0BAAFA,GAhByB,e,+BAyB7B,IAJA,IAAImG,EAAJ,GACIgmB,EAAJ,iEAGS9kB,EAAT,EAAgBA,EAAhB,EAAuBA,IACrBlB,GAAQgmB,SAAgBnqB,WAAWA,cAAgBmqB,EAAnDhmB,SAEF,W,sCAKAS,KAAA,qCAAyC,SAAUmC,EAAOtJ,GACxD,IAAIwT,EAAKjT,YAAT,MACKA,gBAAL,0BACEA,0GAII,qCAJJA,6HAUJ4G,KAAA,sBAA6BA,KAAKvF,IAAI+J,KAAtC,2B,yCAGiBghB,GACjB,IAAIC,EAAYrsB,IAAE4G,KAAlB,yBACE0lB,EAAW1lB,KADb,SAEAylB,6BACAA,8BACAD,YACAxlB,KAAA,yB,6CAIAA,KAAA,sBAA6BA,KAAKvF,IAAL,kCAA7B,sBAGA,IAAIkrB,EAAJ,KAEA3lB,KAAA,4BAAgC,SAAUmC,EAAOtJ,GAC/C,IAAIT,EAAJ,EACI6sB,EAAQ7rB,IAAZ,GACEoI,EAASyjB,OADX,sBAGEW,EAASX,OAHX,SAIEY,EAAWD,EAJb,OAKEE,EAAiBb,OALnB,gCAOAA,WATmD,qBAUnDzjB,KAAU,CACRvF,OAAQ,YACN,IAAI8pB,EAAJ,GACI/lB,KAAKgmB,OAAShmB,KAAKgmB,MAAMjlB,OAA7B,EACEglB,GACE/lB,KAAKimB,aAAa,0BADT,sBAEUjmB,KAAKgmB,MAF1BD,QAGSntB,SAAJ,QACLmtB,EAAWntB,2BAAXmtB,OAEF,GACEH,UACAA,0BACAA,wBACAX,uBACK7sB,EAAL,gBACEA,qBAA2B6sB,EAA3B7sB,WAEFwtB,aAINE,KAAkB,CAChB5X,MAAO,YACLtV,mBAEIR,EAAJ,gBACEoJ,UACAyjB,0BACAW,uBACAA,2BACAA,WAEAX,cAMNzjB,KAAU,CACRgjB,MAAO,WACLhjB,yBAEFkjB,KAAM,WACJljB,mC,wCAON,IAAI0kB,EAAJ,KACAxtB,YAAW,WACTwtB,gBAAkB,WAChB,IAAIzB,EAAgBrrB,IAApB,MACI+sB,EAAJ,uBACEC,wCACE3B,aAAJ,KACMA,WAAJ,YACEA,wEAKAA,8DAGAA,kE,sCASRzkB,KAAA,SAAcA,KAAd,mC,kCAIJ5G,qBAAkB,WAChBA,gDACAA,uDAGAA,+CACAA,0C,mMChfmBitB,G,WACnB,cAgCE,G,4FAhCkB,SAClBrmB,KAAA,OAAc,WACZ,CACEnH,GAAI,mBAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAPA,IAUlBtE,KAAA,mBAA0BA,KAAKvF,IAAI+J,KAVjB,2BAclBxE,KAAA,YAAmBA,KAAKvF,IAAI+J,KAA5B,wBACAxE,KAAA,qDACAA,KAAA,mBAhBkB,EAmBlBA,KAAA,WAAkBA,KAAKvF,IAAI+J,KAA3B,6BACAxE,KAAA,eAAsBA,KAAKvF,IAAI+J,KAA/B,mCACAxE,KAAA,qBArBkB,iCAwBlBA,KAAA,iDACAA,KAAA,UAAiBA,KAAKvF,IAAI+J,KAAKxE,KAA/B,wBACAA,KAAA,gEACAA,KAAA,+DAEAA,KAAA,mBAA0B5G,4BA7BR,EAgCd+C,aAAoB6D,KAAxB,mBAAiD,CAC/C,IAAIsmB,EAAkBtmB,KAAKvF,IAAI+J,KAA/B,kCACAxE,KAAA,wBACAsmB,6CAMAtmB,KAAKumB,qBACJpqB,KADD,OAEAhB,yBAHF,GAKE6E,KAAA,8FAKFA,KAAA,OACAA,KAAA,U,sDAEK,WACLA,KAAA,aACAA,KAAA,mBACAJ,gCAAoC,SAAAU,GAClC,c,mCAGS,WACPwG,EADO,KAGX1N,iGAEc,YACZR,mBACAQ,mDAGFA,4FAEQ,YACN,IAAIR,YACFA,mBACAQ,oDAIJA,0BAAwB,SAAAR,GAEpBQ,oCAA8BR,EAA9BQ,gBADF,GAEEA,2BAAyBR,EAAzBQ,gBAEA,IAAIA,yBAAuBR,EAAvBQ,iBAGF,oDACA,6BAJiD,sCAWvD4G,KAAA,kBAAuB,CACrBkO,MAAO,SAAAtV,GACLA,mBACA,IAAI6B,EAAMrB,IAAER,EAFF,eAKV,IACE6B,+FAIIA,oBAAJ,eACEA,qCACAA,kDAEA,oDACA,6BAFK,kCAKL,UAAI,QACFA,6CAGFA,wCAGF,IAAIA,iBACFvB,qBAAuBuB,OAAvBvB,YAOR8G,KAAA,eAAoB,CAClBwmB,MAAO,YACL,IAAI5tB,YACFA,mBACAkO,yBAKN9G,KAAA,sBAA2B,CACzBkO,MAAO,YACLtV,mBACAkO,sBAEF0f,MAAO,YACL,IAAI5tB,YACFA,EADmB,iBAGnBkO,4C,yCAMD9G,KAAL,qBAEEA,KAAA,eAAsBA,KAAKymB,WAAL,kCAAtB,OAIIzmB,KAAK0mB,eAAe3lB,OAAxB,IACEiW,6C,yCAKAhX,KAAJ,kBACEA,KAAA,kBAEAA,KAAA,iBACAA,KAAA,4B,+CAIF,IACE,aAAI8E,aAAkC,CACpC,IACA,EADI6hB,EAAU3mB,KAAKvF,IAAI+J,KAAvB,wBAEAxE,KAAA,iBAAqB,cACnB,IAAI4mB,GAAJ,EACA,IACExtB,uDAEQ,cAEFA,gBADF,6CAKEA,yFAGKA,gBAAL,eACEA,8BAEFwtB,KACAC,IACAnuB,YAAW,WACTiuB,UAAgB,CACdpqB,UACEnD,oBACAutB,WADAvtB,IAEAutB,EAFAvtB,YAFY,GAMd0C,SAAU,QAPdpD,SAYNU,oEAEQ,cAKFA,gBADF,gCAKOA,gBAAL,eACEA,8BAEFwtB,KACAC,IACAnuB,YAAW,WACTiuB,UAAgB,CACdpqB,UACEnD,oBACAutB,WADAvtB,IAEAutB,EAFAvtB,YAFY,GAMd0C,SAAU,QAPdpD,UAaR,GAEIU,uDADF,mCAKEA,gGAOR,MAAO0tB,O,uCAMT9mB,KAAA,qBACAA,KAAA,kDACAA,KAAA,gBAAqBA,KAArB,wBACAgX,qC,uCAIAhX,KAAA,aAAkBA,KAAlB,wBACAA,KAAA,qBACAgX,qC,yMAIJ5d,qBAAkB,WAEhB,MAAIA,kCACF,IACEA,uCAGA,CACA,IAAI2tB,EAAoB3tB,gDAAxB,cAMA,GADA2tB,GADAA,EAAoBA,cAApBA,KACoBA,aAApBA,IACA,GAAI3tB,IAAE,QAAFA,UAA4C,CAC9C,IAAI4tB,EACF,QAAUD,EADZ,4BAEA,GAAI3tB,gBACFA,wDACAA,8CASR,GAHA,GAAIA,6CACFA,+CAEF,GAAIA,8BAAkC,CACpC,IAAI6tB,EAAmC7tB,+CAAvC,OAKI8tB,EAAiB9tB,6BAArB,OAGI+tB,EAAqB/tB,iCAAzB,OAIEA,+CACA8tB,GACCD,MACCE,GAJJ,GAME/tB,4CA4GJ,aACE,IACEA,6CAIAA,0CACEA,uCADFA,OAGAA,6CAECguB,OACChuB,qCAFG,QAYLA,6CALAA,0CACEA,sCADFA,OAGAA,6CAMJ,aACE,IACEA,gDAIAA,6CACEA,0CADFA,OAGAA,gDAEAA,uDADK,GAKLA,6CACEA,yCADFA,OAGAA,gDAEAA,+CAwNJ,aACE,IACEA,8CAKGguB,OACChuB,uCAFJ,QAYEA,+CALAA,4CACEA,wCADFA,OAGAA,+CAKFA,8CAIJ,aACE,IACEA,kDAIAA,+CACEA,4CADFA,OAGAA,kDAEAA,yDADK,GAKLA,+CACEA,2CADFA,OAGAA,kDAEAA,iDAIJ,gBACE,GAAIoiB,gBAAJ,EAA4B,OADD,EAE3B,IACE,OAAOA,cAAP,GACA,MAAO5iB,GACP,IAAImE,EAAO3D,oBACDoiB,EADCpiB,SADD,OAKNiuB,EALM,4BAONC,EAAMluB,IACR2D,iBACIA,cAAkB,UAAY6M,EADlC7M,MAEIA,YAAoB,SAAW6M,EAV3B,MAaV0d,cAAiB9L,OAAjB8L,SACA,IACIC,EAAM,YACR,OAAO,WAEL,IAAK,IAAL,OAAsB,CACpB,IAAIlM,EAAImM,EAAR,GACA,IAAK,IAAL,OAAiBF,SAAYjM,KAAZiM,WALb,CADG9L,OAAb,WAYA,OAFAA,iBACA9iB,WAAW6uB,EAzBD,IA0BV,GAIJ,GAlcA,GAAInuB,mCACF,GAAIA,4BACFN,iDAEF,GAAIM,iCACFN,sDAEF,GAAIM,+BACFN,oDAEF,GAAIM,gCACFA,gCAEFA,2CACK,GAAIA,oCACT,GAAIA,4BACFN,iDAEF,GAAIM,iCACFN,sDAEF,GAAIM,+BACFN,oDAEF,GAAIM,2BACFA,2BAEFA,2CACK,GAAIA,2CACT6tB,EAAmC7tB,IAAnC6tB,sCACAA,cACAC,EAAiB9tB,IAAjB8tB,oBACAA,cACAC,EAAqB/tB,IAArB+tB,wBACAA,aAEID,OAAwBC,GAA5B,IACE,GAAI/tB,4BACFN,iDAGF,GAAIM,iCACFN,sDAGF,GAAIM,+BACFN,oDAGFM,4CAIJA,4CAAyC,WACvC,GAAIA,uCACFA,sBACA,GAAIA,4BACFN,iDAEF,GAAIM,iCACFN,sDAEF,GAAIM,+BACFN,oDAEFM,8CAIJA,wCAAqC,WACnCA,8BAA4BA,yBAA5BA,OACAA,mCAAiCA,6BAAjCA,UAGFA,qCAAkC,WAChCA,8BAA4BA,+BAA5BA,OACAA,mCAAiCA,mCAAjCA,UAEFA,gCAA6B,WAC3BA,8BAA4BA,0BAA5BA,OACAA,mCAAiCA,8BAAjCA,UAGFA,gCAA6B,WAC3BA,8BAA4BA,yBAA5BA,OACAA,mCAAiCA,6BAAjCA,OACA,GAAIA,4BACFN,iDAEF,GAAIM,iCACFN,sDAEF,GAAIM,+BACFN,uDAIJM,yCAAsC,WACpCA,kEAGFA,6CAA0C,WACxCA,oEAqDF,QAAIA,2BACFA,uDAAoD,YAKlD,GAJA,GAAI2pB,mBACF3pB,sBACAA,8BAGA2pB,+BADF,GAEEA,iBACA,CACA,IAAIqE,EAAJ,+CACAhuB,+CACAA,yCACAA,mCAAiC2pB,EAAjC3pB,OACAA,6BAA2B2pB,EAA3B3pB,gBACAA,8BAA4B2pB,EAA5B3pB,uBACA,IACEA,6CAIAA,4DAIFA,wCAAqC,WAEhCA,+CADH,cAKEA,+DAKJA,yCAAsC,WACpC,IACEA,4CAKGA,+CADH,cAKEA,4DAIFA,kEAKJA,2CAAwC,WAEnCA,kDADH,cAKEA,kEAKJA,4CAAyC,WACvC,IACEA,+CAKGA,kDADH,cAKEA,+DAIFA,qEAMJA,sCAAmC,WACjCA,yBAEFA,qCAAkC,WAChCquB,IACAC,IAEEN,OACEhuB,qCADFguB,SAKAhuB,sDANF,IAUEA,4CACAA,+CACAA,2CAEE,CACE+P,MAAO/P,qCADT,OAIEuuB,SAAUvuB,wCAJZ,OAOEwuB,eAAgBxuB,+BAPlB,OAUEyuB,gBAAiBzuB,gCAVnB,OAaE0uB,gBAAgB,IAElB,YACE,GAAI/E,eACF3pB,sBACK,GAAI2pB,gBACT3pB,0CACEA,6CADFA,OAGAA,8CAEAA,0CACEA,iCADFA,OAGAA,oDAOVA,gEAEE,WACEquB,OAIJruB,mEAEE,WACEsuB,OAIJtuB,oCAAiC,WAE7BA,qCACAA,6CAFF,QAMEA,kCACEA,kCADFA,kBAGA2uB,EAAW3uB,kCAAD,SAAV2uB,UAEA3uB,kCACEA,kCADFA,kBAGA2uB,EAAW3uB,kCAAD,SAAV2uB,gBAIJ,IAAIA,EAAa,cACf,GAAIvM,gBAAJ,EAA4B,OADK,EAEjC,IACE,OAAOA,cAAP,GACA,MAAO5iB,GACP,IAAImE,EAAO3D,oBACDoiB,EADCpiB,SADD,OAKNiuB,EALM,4BAONC,EAAMluB,IACR2D,iBACIA,cAAkB,UAAY6M,EADlC7M,MAEIA,YAAoB,SAAW6M,EAV3B,MAaV0d,cAAiB9L,OAAjB8L,SACA,IACIC,EAAM,YACR,OAAO,WAEL,IAAK,IAAL,OAAsB,CACpB,IAAIlM,EAAImM,EAAR,GACA,IAAK,IAAL,OAAiBF,SAAYjM,KAAZiM,WALb,CADG9L,OAAb,WAYA,OAFAA,iBACA9iB,WAAW6uB,EAzBD,IA0BV,QA0FV,GAAInuB,kCAAsC,CACxC,IAAIguB,EAAJ,+CACAhuB,yCACAA,qCAAmCA,sBAAnCA,QACA,IACEA,+CAIAA,8DAKFA,uCAAoC,WAClC4uB,IACAC,IACA,IAAIC,GAAJ,EACA,IACE9uB,gDAIA8uB,EAAad,OACXhuB,uCADF8uB,SAOAA,GACA9uB,wDAFF,IAMEA,8CACAA,+CAEAA,iDAEE,CACE+uB,cAAe,CACbhf,MAAO/P,+CAITuuB,SAAUvuB,mDAIZ,WACEA,6BAMRA,kEAEE,WACE4uB,OAIJ5uB,qEAEE,WACE6uB,OAIJ7uB,2CAAwC,WAEpCA,4CACAA,+CAFF,QAMEA,yCACEA,yCADFA,kBAGA2uB,EAAW3uB,yCAAD,SAAV2uB,UAEA3uB,yCACEA,yCADFA,kBAGA2uB,EAAW3uB,yCAAD,SAAV2uB,gBAIJ3uB,8CAGFA,gCAA8B,CAC5Buf,MAAO,CACLyP,SAAU,CACRlf,UADQ,GAIVD,MAAO,CACLC,UAAU,MAKhB,IAAImf,EAAcrR,IA5lBS,QAsvB3B,cACE,IAAMsR,EAAN,kBACA,EACElvB,wBAEAA,2BAIJ,gBACE,GAAIoiB,gBAAJ,EAA4B,OADE,EAE9B,IACE,OAAOA,cAAP,GACA,MAAO5iB,GACP,IAAImE,EAAO3D,oBACDoiB,EADCpiB,SADD,OAKNiuB,EALM,4BAONC,EAAMluB,IACR2D,iBACIA,cAAkB,UAAY6M,EADlC7M,MAEIA,YAAoB,SAAW6M,EAV3B,MAaV0d,cAAiB9L,OAAjB8L,SACA,IACIC,EAAM,YACR,OAAO,WAEL,IAAK,IAAL,OAAsB,CACpB,IAAIlM,EAAImM,EAAR,GACA,IAAK,IAAL,OAAiBF,SAAYjM,KAAZiM,WALb,CADG9L,OAAb,WAYA,OAFAA,iBACA9iB,WAAW6uB,EAzBD,IA0BV,GA/LJvQ,YAAkB,WACZ5d,sBAAJ,EACEA,iEAEAA,oEAEFV,YAAW,WACLU,uDAAJ,GACEN,6DAAuDM,gDAAvDN,kBAFJJ,QAOFse,YAAkB,WACZA,aAAJ,IACEqR,EAAcrR,IAAdqR,QACAjvB,4BACAmvB,QAKJnvB,mDAAgD,WAE9C,GACEA,uEAGCA,iCAHDA,cAICA,4BALH,UAwBE,OAdAmvB,MACAnvB,8BAHA,cAIAA,qDACAA,6DACAA,qDACAA,sEAIAA,sCAGAA,iDACAA,kCACA,KAKJA,2BAAwB,WACtBA,oCACAA,4EACAA,6DAGAA,sDACAA,yDAEAmvB,OAIFnvB,mDAAgD,WAC1CA,6BAAJ,GACEA,+CACAmvB,MAGAnvB,4CACAmvB,OAGFnvB,iEACAA,0DACAA,yDAIFA,iDAA8C,WAExCA,mBAAJ,sBACEA,+CACAA,iEACAmvB,MAGAnvB,4CACAA,8DACAmvB,OAEFnvB,sDACAA,8CAKFA,qCAAkC,WAChCA,gCACAA,6DACAA,2DAGFA,2CAA0C,WACpCA,+BAAJ,GACEA,iDAMJA,kCAA+B,WAE3BA,mCACAA,gCAFF,QAMEA,gCACEA,gCADFA,kBAGAovB,EAAcpvB,mCAAD,SAAbovB,UAEApvB,gCACEA,gCADFA,kBAGAovB,EAAcpvB,mCAAD,SAAbovB,gBAIJpvB,sCAAmC,WAE/BA,uCACAA,gCAFF,QAMEA,oCACEA,oCADFA,kBAGAovB,EAAcpvB,uCAAD,SAAbovB,UAEApvB,oCACEA,oCADFA,kBAGAovB,EAAcpvB,uCAAD,SAAbovB,gBAiDJ,IAF+BpvB,IAA/B,gDAEIqvB,SACFrvB,8CACAA,iCAAgCA,wCAAhCA,c,ICljCiBsvB,G,WACnB,e,4FAAoB,SAGlB1oB,KAAA,OAAc,WACZ,CACEnH,GAAI,kBAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OATA,IAWlBtE,KAAA,8BACAA,KAAA,YAAmBA,KAAKvF,IAAI+J,KAA5B,mBACAxE,KAAA,iBAAwBA,KAAKvF,IAAI+J,KAAjC,sBACAxE,KAAA,QAAe,WAAW2oB,KAAKxtB,UAA/B,WACI6E,KAAKvF,IAAT,QACEuF,KAAA,O,sDAKCgX,aAAD,0BACCA,aAFH,0BAIE5d,oCAAkCA,IAAE4G,KAAF5G,KAAlCA,UAEF4G,KAAA,aACAA,KAAA,eAAsB,IAAI,GAAe,CAEvCnH,GAAI,oBAENme,IAAoChX,KAApCgX,O,mCAGA,IAAIlQ,EAAJ,KAEAlH,gCAAoC,YAClC,SAAIU,GACFwG,kBAGJlH,iBAAqB,YACnB,IAAIgpB,EAAJ,UAAe9jB,aACX+jB,EAAgB/hB,6BAApB,OACI1L,SAASknB,EAATlnB,kBAAJ,IACMknB,YAAJ,EACExb,eACSwb,eAAqBA,MAAzB,IACLxb,qBAKNlH,iBAAqB,WAEhBoX,aAAD,0BACCA,aAFH,0BAIE5d,oCAAkCA,IAAE0N,EAAF1N,KAAlCA,e,mCAKJ,GAAI4G,KAAJ,QAAkB,CAEhB,IAAI8G,EAAJ,KACIjH,EACFzG,gCADF,GAIAA,yBAAsB,WACpB,IAAI0vB,EAAM1vB,0CAAV,QAGA0N,6EAKE,WACEgiB,qBAMR9R,gBAAwBhX,KAAxBgX,gB,qCAGA,IAAKA,aAAL,+BAA0D,CACxD,GAAIhX,KAAJ,QAAkB,CAEhB,IAAI8G,EAAJ,KACIjH,EACFzG,+CADF,EAIAA,yBAAsB,WACpB,IAAI0vB,EAAM1vB,0CAAV,QAGA0N,6EAKE,WACEgiB,qBAKR9R,aAAqBhX,KAArBgX,iB,0CAIgB3K,EAAI0c,EAAMrJ,EAAOsJ,EAAOjtB,GAC1C3C,WAAU,CAAE,qBAAsB2vB,YAA2BC,IAC7D5vB,WAAU,CAAE,kBAAmB2vB,YAA2BC,IAC1D5vB,WAAU,CAAE,gBAAiB2vB,YAA2BC,IACxD5vB,WAAU,CAAE6vB,WAAYF,YAA2BC,IACnDjtB,S,6MC7HiBmtB,G,WACnB,e,4FAAoB,SAClBlpB,KAAA,OAAc,WACZ,CACEnH,GAAI,iBAFR,GAOAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IAEAtE,KAAA,QAAeA,KAAf,IAEAA,KAAA,sBAA6BA,KAAKmpB,QAAQC,OAA1C,qBAEA,GAAIppB,KAAKqpB,sBAAsBtoB,QAC7Bf,KAAA,aAAoBA,KAAKvF,IAAI+J,KAA7B,uBACAxE,KAAA,YAAmBA,KAAKvF,IAAI+J,KAFc,sBAI1CxE,KAAA,YAAmBA,KAAKvF,IAAI2uB,OAA5B,kBACAppB,KAAA,iBAAwBA,KAAKspB,YAAY9kB,KAAzC,SACAxE,KAAA,aAAoBA,KAAKvF,IAAI+J,KAA7B,wBAEAxE,KAAA,iBAAwBA,KAAKqpB,sBAAsB7kB,KAAnD,SAEExE,KAAKvF,IAAT,QACEuF,KAAA,O,sDAKFA,KAAA,e,mCAIA,IAAI8G,EAAJ,KACIyiB,EAAkBvpB,KAAtB,iBAEA,GAAIA,KAAKqpB,sBAAsBtoB,QAC7Bf,KAAA,eAAoB,CAClBkO,MAAO,YACL,KAAIqb,SACF3wB,mBACAkO,gBAEAA,2BAIN9G,KAAA,mBAAuB,YACrB,IAAIpH,YAEFkO,eACAlO,wBAGJoH,KAAA,WAAgB,CACdkO,MAAO,YACLtV,uBAGJoH,KAAA,gBAAqB,CACnBkO,MAAO,WACLpH,kBAGJ9G,KAAA,oBAAyB,CACvB0kB,KAAM,WACJ5d,kBAGJlH,mBAAuB,YACrB,UAAIK,GACF6G,kBAIJ9G,KAAA,eAAoB,CAClBwpB,OAAQ,YAGN,OAFA5wB,mBACAkO,yBACA,MAIJ9G,KAAA,yBAA8B,CAC5BwpB,OAAQ,YAGN,OAFA5wB,mBACAkO,yBACA,O,mCAON,IAAIA,EAAJ,KACA9G,KAAA,iBAFW,wBAKXA,KAAA,yBACA7G,QAAS,CACP+U,MAAO,WACLpH,oB,mCAMJ9G,KAAA,oBADW,0B,4CAOXlH,mCACAA,kBAAoB,kBAAoBkH,KAAKypB,iBAA7C3wB,W,6MCjHiB4wB,G,WAKnB,e,4FAAoB,SAGlB1pB,KAAA,OAAc,WACZ,CACEnH,GAAI,iBAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,oCACAA,KAAA,gBAAuBA,KAAKvF,IAAI+J,KAXd,4CAelBxE,KAAA,YAAmBA,KAAKvF,IAAI+J,KAA5B,mBACAxE,KAAA,iBAhBkB,+BAmBlBA,KAAA,WAAkBA,KAAKvF,IAAI+J,KAA3B,6BACAxE,KAAA,eAAsBA,KAAKvF,IAAI+J,KAA/B,kCACAxE,KAAA,eACIA,KAAKvF,IAAT,QACEuF,KAAA,O,sDAIFA,KAAA,eAAsB,IAAI,GAAe,CAEvCnH,GAFuC,kBAGvC8wB,qBAAqB,IAEvB3pB,KAAA,aACAgX,IAAoChX,KAApCgX,KACAA,kC,mCAGA,IAAIlQ,EAAJ,KACA9G,KAAA,WAAe,YACb,IAAIpH,YACFA,mBACAkO,wBAGJ9G,KAAA,mBAAwB,CACtBkO,MAAO,WACLpH,yBAGJ9G,KAAA,uBAA2B,YACzB,IAAIpH,YACFkO,sBACAlO,wBAGJgH,gCAAoC,YAClC,SAAIU,EAEFwG,oBAEAA,kBASJlH,iBAAqB,YACfxE,SAASknB,EAATlnB,cAAJ,SAAmC0J,eAC7Bwd,YAAJ,EACExb,eACSwb,eAAqBA,MAAzB,IACLxb,uB,mCAMN9G,KAAA,gBAAqBA,KAArB,gB,qCAGKA,KAAKsf,YAAY5J,SAAtB,gCACE1V,KAAA,aAAkBA,KAAlB,gB,0CAKEA,KAAJ,YACEA,KAAA,mBAEAA,KAAA,kBACAA,KAAA,mC,wCAIFgX,MACAhX,KAAA,aAAkBA,KAAlB,kBACAA,KAAA,iB,wCAGAgX,MACAhX,KAAA,gBAAqBA,KAArB,kBACAA,KAAA,iB,sDAGA,IACEA,KAAA,kDACAA,KAAA,6DACA,IACA,EADI2mB,EAAU3mB,KAAKvF,IAAI+J,KAAvB,wBAEAxE,KAAA,iBAAqB,cACnB,IAAI4mB,GAAJ,EACA,IACExtB,uDAEQ,cAEFA,gBADF,6CAMOA,gBAAL,eACEA,8BAEFwtB,KACAC,IACAnuB,YAAW,WACTiuB,UAAgB,CACdpqB,UACEnD,oBACAutB,WADAvtB,IAEAutB,EAFAvtB,YAFY,GAMd0C,SAAU,QAPdpD,SAYNU,oEAEQ,cAKFA,gBADF,gCAKOA,gBAAL,eACEA,8BAEFwtB,KACAC,IACAnuB,YAAW,WACTiuB,UAAgB,CACdpqB,UACEnD,oBACAutB,WADAvtB,IAEAutB,EAFAvtB,YAFY,GAMd0C,SAAU,QAPdpD,UAaR,GAEIU,uDADF,mCAKEA,+FAMN,MAAO0tB,U,6MC7LQ8C,G,WACnB,e,4FAAoB,SAClB5pB,KAAA,OAAc,WACZ,CACEnH,GAAI,eAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,UAAiBA,KAAKvF,IAAI+J,KAA1B,qBACAxE,KAAA,aAAoBA,KAAKvF,IAAI+J,KAA7B,uBACAxE,KAAA,YAAmBA,KAAKvF,IAAIsI,SAA5B,IACA/C,KAAA,kBACAA,KAAA,OAAcA,KAAKvF,IAAI+J,KAAvB,SACAxE,KAAA,eACAA,KAAA,aAAoB5G,qBAApB,OACA,IAAIywB,EAA2B7S,iCAA/B,SAGI8S,EAA4B9S,kCAAhC,SAGAhX,KAAA,qBACAA,KAAA,SACI5G,cAAJ,GACE4G,KAAA,qBACS5G,cAAJ,KACL4G,KAAA,sBAEEA,KAAKvF,IAAT,QACEuF,KAAA,O,sDAIF,IAAI8G,EAAJ,KACA9G,KAFK,aAKLJ,iBAAqB,YAcnB,IAAImD,EAAS+D,EAAb,OACIkQ,aAAsBlQ,MAA1B,WACE/D,EAAS+D,eAAoBkQ,IAApBlQ,SAAT/D,KAEF,UAAI+B,eACEwd,MAAUxb,cAAVwb,GAAuCxb,EAA3C,eACEA,cAEAwb,MAAUxb,cAAVwb,IACCxb,EAFI,gBAILA,kBAKNlH,iBAAqB,WACnBkH,mBACAkQ,gBAGFte,YAAW,WACToO,gBADFpO,MAIIsH,KAAKojB,OAAT,QAEEpjB,KAAA,wBAA6B,WACtB8G,EAAL,cACEA,iBACAA,iCACAA,sC,uCAON9G,KAAA,YAAmBA,KAAKvF,IAAIsI,SAA5B,M,mCAIA,IAAI+D,EAAJ,KACA9G,KAAA,aAAkB,CAChBkO,MAAO,WACLpH,iD,kCAMJ9G,KAAA,6CACAA,KAAA,oB,kCAIKA,KAAKvF,IAAIib,SAAd,2BACE1V,KAAA,0CACAA,KAAA,wB,kOCnHe+pB,G,WACnB,c,4FAAc,SACZ/pB,KAAA,O,sDAGAA,KAAA,e,mCAKAgqB,KAAe,aAAc,CAC3B/P,QAAS,WACP7gB,kEAEFsP,MAAO,WACLtP,kEAEFb,QAAS,W,6MCdM0xB,G,WACnB,cAAoB,Y,4FAAA,SAClBjqB,KAAA,OAAc5G,cAAd,GACA4G,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,cACAA,KAAA,kBACAA,KAAA,wBACAA,KAAA,mBAAgB8E,aAEhB9E,KAAA,iBAAwBA,KAAKvF,IAAI+J,KAC/BxE,KAAKsE,OAAO+H,IADd,qBAIAnT,gCAAgC,SAAA4I,GAC9B1I,gDAA8C,CAAE8iB,QAAS,KAAzD9iB,KACAA,gDAA8C,CAAE8iB,QAAS,KAAzD9iB,QAGFwG,8BAAkC,WAC3B,EAAL,uBACE,iDAAqD,qBAArD,IACA,2BAGF,uBAGFI,KAAA,a,4DAKA,IAAIkqB,EAA6B9wB,IAAjC,gDAGA4G,KAAA,uBAA2B,WAEvBkqB,YACA9wB,oCADA8wB,GADF,UAGE9wB,2CAEAA,iEAMJ,IAAI0N,EAAJ,KAEqB,IAAI,EAAJ,EAAW9G,KAAKmqB,iBAAhB,GAAqC,CAExD3S,aAFwD,EAGxD1X,UAHwD,aAIxD2X,KAJwD,SAIlDzX,KAAKmqB,iBAAiB,GAAGC,QAAQC,aACvC3S,cALwD,OAMxDE,mBANwD,GAOxDE,aAPwD,GAQxDC,gBARwD,EASxDC,eATwD,EAUxDE,UAVwD,EAWxDC,gBAXwD,EAcxDC,WAdwD,sBAexDC,WAfwD,sBAgBxDiS,mBAAoBxjB,kBAhBoC,GAiBxDwR,OAAQxR,cAjBgD,GAkBxDyR,YAAa,CAEXC,IAAK,CACHhB,aADG,EAEHI,mBAFG,EAGHE,aAAc,S,6BAMflf,GAAG,WACRoH,KAAA,cAEK5G,qBAAL,0BACkB,IAAI,EAAW,CAC7BP,GAAID,UADyB,GAE7Bie,kBAF6B,qBAG7BF,YAH6B,kBAI7BC,mBAJ6B,cAK7BH,UAL6B,eAM7BK,cAN6B,IAO7BC,WAAY,MAKhB/W,KAAA,sDAEA,IAAMuqB,EAAU,cAAgBvqB,KAAK4oB,SAAW,IAAhD,KAEA5oB,KAAA,uCAA2C,cACzCwqB,MAAa,KAAOroB,EAAD,GAAnBqoB,WACA,kBAAqBA,EAArB,IAEA9xB,YAAW,kBAAM8xB,qBAA2BA,MAAjC,KAAX9xB,U,oCAIUE,GACZ,IAAM6xB,EAAeC,OAAO9xB,4BAA5B,IAEA,IACE,IAAI6xB,mBACFA,cAEAA,kB,iCAKK7xB,GAAG,WACRyT,EAAJ,sBACIrM,KAAKsE,QAAUtE,KAAKsE,OAAxB,KACE+H,EAAKrM,KAAKsE,OAAO+H,GAAjBA,gBAGF,IAAIwO,EAAcjiB,EAAlB,UAEAQ,IAAER,EAAFQ,cAAiB,cACf,IAAIuxB,EAAQvxB,YAAZ,gBAEIuxB,YAAoBA,KAAxB,QACEA,oBAGF,IAAIC,EAAUxxB,YAAd,wBAEA,GAAIwxB,YAAsB,EAA1B,eAA+C,CAC7C,IAAMC,EAASH,OAAOE,KAAtB,IAEIC,GAAJ,mBAAqBA,EAAP,YACZA,mBAKoBzxB,IAAER,EAAFQ,wCAElBiT,EAFR,iBAGAye,MAAyB,cACvB1xB,qBAA8B+I,cAA9B/I,gB,04BCpJe2xB,G,WAKnB,e,4FAAoB,SAElB/qB,KAAA,OAAc5G,EAAA,OAAS,CACrBP,GADqB,wBAErBmyB,eAAgB,KAFlB,GAIAhrB,KAAA,IAAW5G,EAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,iBAAwBA,KAAKvF,IAAI+J,KAAjC,0CACAxE,KAAA,+BACAA,KAAA,2CACAA,KAAA,uBACAA,KAAA,SAAgBA,KAAKvF,IAAI+J,KAAKxE,KAA9B,aACAA,KAAA,wBAA+BA,KAAKvF,IAAI+J,KAAxC,kDACAxE,KAAA,0DACAA,KAAA,sEACAA,KAAA,gBAAuBA,KAAKvF,IAAI+J,KAAKxE,KAArC,oBACAA,KAAA,cAAqBA,KAAKvF,IAAI+J,KAA9B,0BACAxE,KAAA,WACAA,KAAA,gBACAA,KAAA,aACAA,KAAA,UAAiBA,KAAKvF,IAAI8K,KAA1B,aACAvF,KAAA,OAAcA,KAAKvF,IAAI+J,KAAvB,uCACAxE,KAAA,SAAgBA,KAAKvF,IAAI+J,KAAzB,yCACAxE,KAAA,eAAsBA,KAAKvF,IAAI+J,KAA/B,uBACAxE,KAAA,iBAAwBA,KAAKvF,IAAI+J,KAAjC,6BACAxE,KAAA,aAAoBA,KAAKvF,IAAI+J,KAA7B,+BACAxE,KAAA,uBACAA,KAAA,kBAAyBA,KAAKirB,aAAazmB,KAA3C,gCACAxE,KAAA,kBAAyBA,KAAKirB,aAAazmB,KAA3C,gCACAxE,KAAA,oBAA2BA,KAAKirB,aAAazmB,KAA7C,2BACAxE,KAAA,QAAeA,KAAKirB,aAAazmB,KAAjC,UACAxE,KAAA,mBACAA,KAAA,cACAA,KAAA,cACAA,KAAA,YACAA,KAAA,YACAA,KAAA,aAAoB5G,6BAApB,oBAEF4G,KAAA,mBAEIA,KAAKvF,IAAT,SACCuF,KAAA,eAAsB5G,0BAA2BA,EAA3BA,WAAtB,KACG4G,KAAA,Q,sDAIFA,KAAA,aACA,IAAIkrB,EAAJ,EAMA,GAJIlrB,KAAJ,gBACEA,KAAA,oBAAyBA,KAAzB,gBAGE9G,uBAAyB8G,KAA7B,kBAAqD,CACnD,IAAImrB,EAAUjyB,+BAAd,GACAgyB,EAAWlrB,KAAKvF,IAAI+J,KAAK,eAAiB2mB,EAA/B,UAAXD,gBAGAA,EAAWlrB,KAAKvF,IAAI+J,KAAK,IAAMxE,KAApB,+BAAXkrB,WAGFlrB,KAAA,sBACA5G,iBAAiB4G,KAAjB5G,cAEA4G,KAAA,kB,mCAIA,IAAI8G,EAAJ,KAEA9G,KAAA,uBAA4B,SAAU8B,GAClCgF,cAAmBhF,oBAAnBgF,QACAA,cAAmBhF,oBAAnBgF,WAGJ9G,KAAA,qBAA0B,SAAU8B,GAChCgF,YAAiBhF,oBAAjBgF,QACAA,YAAiBhF,oBAAjBgF,QACAA,qBAGJ5N,mCAAoC4N,oBAApC5N,IAEAA,qCAAsC4N,mBAAtC5N,IAEA8G,KAAA,OAAY,CACVkO,MAAO,YACL,IAAM7B,EAAKjT,aAAX,MACA0N,qBACAA,2BAED9G,KANH,aAOAA,KAAA,UAAe,CACbkO,MAAO,YACLpH,mBAAsB1N,EAAtB0N,UAGJ9G,KAAA,YAAiB,CACfkO,MAAO,YACLpH,qBAAwB1N,EAAxB0N,UAGJ9G,KAAA,iBAAsB,CACpB/D,OAAQ,YACN6K,eAAkB1N,QAAlB0N,aAIJ9G,KAAA,SAAcA,KAAd,sBAAyC,SAAUpH,GACjDkO,YAAe9G,KAAKoqB,QAAL,MAAuBpqB,KAAKoqB,QAAL,QAGxCpqB,KAAA,8BAAmC,WACjC9G,yBAGF8G,KAAA,gCAAsC8G,kBAAtC,IAEA9G,KAAA,kBAAwB8G,mBAAxB,IAEA1N,mBAAkB,WAChB,IAAIgyB,EAAahyB,+CAAjB,IAEI+B,2CAAJ,GAAmDA,uCACjD/B,mCAAmC,CACjC,UAAagyB,S,6CAOnB,SAAGprB,KAAKqrB,iBAAiBjxB,QAAiB,CACxC,IAAMkxB,EAAgBtrB,KAAKvF,IAAI+J,KAAK,IAAMxE,KAA1C,mBACIurB,GAAW,IAAD,IAAOD,WAAP,EAA0CA,UAAxD,EAEAxV,OAAY9V,KAAZ8V,oBAAwC,CACtC,eAAiB,GAAF,EAAkB,U,sCAKrC,GAAI9V,KAAKwrB,UAAYxrB,KAArB,YAAuC,CACnC,IAEMyrB,EAFgBzrB,KAAKvF,IAAI+J,KAAK,IAAMxE,KAA1C,mBAEesrB,YAAf,MACA,IACEtrB,KAAA,mBACAA,KAAA,wBAIN,GAAIA,KAAKwrB,UAAYxrB,KAArB,YAAuC,CACrC,IAEM0rB,EAFgB1rB,KAAKvF,IAAI+J,KAAK,IAAMxE,KAA1C,mBAEmBsrB,YAAnB,MACA,IACEtrB,KAAA,mBACAA,KAAA,2B,0CAIcvF,GAElBA,YAAeA,OAAfA,yC,wCAGA,IAAI8C,GAAJ,EAQA,OAPIyC,KAAJ,gBACEA,KAAA,qBAAyB,WACnB5G,uBAAyBF,+BAA7B,KACEqE,SAIN,I,yCAGAyC,KAAA,8CACAA,KAAA,kD,uCAEe2rB,GACf,IAAI7kB,EAAJ,KACIvK,EAAYyD,KAAK4rB,iBAAiBrvB,YAAcyD,KAAK4rB,iBAAzD,SACA5rB,KAAA,yBAA8B,CAAEzD,UAAWA,GAA3C,eAAwE,WACtEuK,qBACA,GAAIA,gCACF6kB,2C,yCAIaA,GACjB,IAAI7kB,EAAJ,KACIvK,EAAYyD,KAAK4rB,iBAAiBrvB,YAAcyD,KAAK4rB,iBAAzC,SAAhB,GACA5rB,KAAA,yBAA8B,CAAEzD,UAAWA,GAA3C,eAAwE,WACtEuK,qBACIA,gCAAqCA,iCAAsCA,mBAAtCA,cAAzC,IACE6kB,2C,mCAIOtf,EAAIwf,GAEf7rB,KAAA,qBACAA,KAAA,eACAA,KAAA,eAHA,KAIA8G,SAEA9G,KAAA,yB,gCAEQqM,EAAIwf,GACZ,IAAMC,EAAiB9rB,KAAK+rB,gBAA5B,GACAD,mBAAgC9rB,KAAhC8rB,mBAEAA,kEAEA,IAAME,EAAiB5yB,2DAAvB,iBACiB0yB,eAAjB,QAEE1yB,gDAAiD,QAAS0yB,eAAT,OAAjD1yB,MACAV,YAAW,WACTU,4CADFV,MAGOsH,KAAH,eACJ5G,gDAAiD4G,KAAjD5G,cACAA,2CAEFV,YAAW,WACPszB,aADJtzB,KAIMozB,gBAAF,gBAAiD9rB,KAArD,oBACE9G,qBAAuB4yB,gBAAvB5yB,eAGI4yB,gBAAF,gBAAJ,IAAoDD,IAClD3yB,qBAAuB4yB,gBAAvB5yB,eAEF8G,KAAA,a,kCAEUqM,GACV,IAAI4f,EAAiBjsB,KAAKvF,IAAI+J,KAAK,IAAMxE,KAAzC,0BACIksB,EAAgBlsB,KAAKvF,IAAI+J,KAAK,IAAMxE,KAAxC,mBACAisB,cAA2BjsB,KAA3BisB,0BACAC,cAA0BlsB,KAA1BksB,qB,sCAGc7f,GACd,MAAO,CACL8f,QAASnsB,KAAKqrB,iBAAiB7mB,KAAK,YAAc6H,EAD7C,KAELwH,SAAU7T,KAAKosB,wBAAwB5nB,KAAK,YAAc6H,EAAhD,Q,gCAGJggB,EAAOhnB,GACXrF,KAAKgjB,QAAQe,KAAK,cAAtB,IACE/jB,KAAA,wCACAA,KAAA,4BAGFA,KAAA,0BAEA9G,qCAAiCA,eAAjCA,WAAuD0Q,KAAM,SAAU9Q,SAAvEI,OACAA,kCAA8BA,eAA9BA,WAAoD0Q,KAApD1Q,QAAmE8I,IAAKqD,IAAOvM,SAA/EI,OAEA8G,KAAA,sBAEAA,KAAA,sD,mCAGAA,KAAA,oDAEAA,KAAA,wB,mCAGIA,KAAKssB,oBAAsBtsB,KAAKgjB,QAAQe,KAAK,cAAgB/jB,KAAjE,kBACEA,KAAA,uCAA4CA,KAAKgjB,QAAQe,KAAzD,aACA/jB,KAAA,gBAAuBA,KAAKgjB,QAAQe,KAApC,e,oCAIF/jB,KAAA,2CAEA,IAAIusB,EAAOzzB,uBAAX,QACAyzB,kCAEAvsB,KAAA,4C,qCAGA,GAAK9G,eAAL,OAIA,IAAM0Q,EAAO1Q,qBAAb,KACM8I,EAAM9I,qBAAZ,IAEI8G,KAAJ,mBACM4J,aAAJ,SAAwBA,GACtB5J,KAAA,aAGF,UAAI4J,IACE5J,KAAKwsB,kBAAT,GACExsB,KAAA,2BAGFA,KAAA,oDACAA,KAAA,0B,kCAIMpH,GACV,IAAM6zB,EAAazsB,KAAKvF,IAAI+J,KAAK,IAAMxE,KAApB,+BAAnB,SACM0sB,EAAcxzB,iCAApB,IACMyzB,EAAY3sB,KAAKvF,IAAI+J,KAAKxE,KAAK4sB,mBAAqB,eAAiBF,EAAzD,UAAlB,MAEID,IAAJ,GACEzsB,KAAA,wB,6MClUe6sB,G,WACnB,e,4FAAoB,SAClB7sB,KAAA,OAAc,WACZ,CACEvF,IAAK,oBAFT,GAOAuF,KAAA,aAAoBA,KAAKsE,OAAO7J,IAAI+J,KAApC,qBACAxE,KAAA,cAAqBA,KAAKsE,OAAO7J,IAAI+J,KAArC,yBACAxE,KAAA,YAAmBA,KAAKsE,OAAO7J,IAAZ,kCAAnB,eAIAuF,KAAA,O,sDAIAA,KAAA,e,mCAGW,WACXA,KAAA,0BAA+B,WAC7B,mB,kCAKF,IAAIyL,EAAOzL,KAAK8sB,YAAc9sB,KAAnB,YAAX,GACAA,KAAA,mBAAuB,WACrB,IAAI2L,EAAYvS,eAAhB,mBACIwS,EAAJ,GAEID,SAAJ,IACEF,GAAQrS,6BAARqS,IACAE,QAAe,cACbC,OAAiBC,iBAGnBJ,GAAQG,YAARH,QAIJ,IAAIshB,EAAO/sB,KAAKgtB,cAAcjJ,KAA9B,QAEA,IACEgJ,IAASA,kBAAD,KAARA,EACA/sB,KAAA,mC,6MC/CeitB,G,WACnB,e,4FAAoB,SAGlBjtB,KAAA,OAAc5G,cAAd,GACA4G,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACItE,KAAKvF,IAAT,QACEuF,KAAA,O,sDAIFA,KAAA,e,mCAGA5G,2CAAwC,WACtC,GACEK,qCACEuG,KAAKktB,SAASxd,QAAQ,MADxBjW,KAEAA,mBAAqBuG,KAHvB,SAIE,CACA,IAAImtB,EAAS/zB,IAAE4G,KAAf,MACIoU,EACFhb,sCACAA,0BAFF,SAGA,IACEgb,EACEhb,8BAA8BA,4BADhCgb,UASFA,MAEA,IAAIxY,GAJJuxB,GAJAA,EAASA,WAEL/zB,IAAE,SAAW4G,KAAKyL,KAAK2hB,MAArB,GAFND,MAISA,QAATA,UAIeA,SAAf,IAKA,GAJA,IACEvxB,MAGEuxB,EAAJ,OAOE,OANA/zB,yBACE,CACEmD,UAAWX,GAFfxC,MAMA,MAKNA,oBAAiB,WACf,IAAIi0B,EAAS,IAAMrtB,KAAK+sB,KAAKhL,MAAM,KAAnC,GAEA3oB,+CAEuB,WACnBA,oCAHJA,gB,6MCzDek0B,G,WAKnB,e,4FAAoB,SAGlBttB,KAAA,OAAc,WACZ,CACEnH,GAAI,SAFR,GAOAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACItE,KAAKvF,IAAT,QACEuF,KAAA,O,sDAKFA,KAAA,e,mCAIAA,KAAA,wDAA8D,YAG5D8B,mBACA,IAAIyrB,EAAOn0B,kBAAX,eACA,GAAIm0B,WAAJ,mBAAsC,CACpC,IAAIC,EAAmBD,OAAvB,oBACA,IACEC,UAEFD,6BACAA,iCACAA,WAAc,aAAdA,OAIJvtB,KAAA,yDAA+D,YAG7D8B,mBACA,IAAIyrB,EAAOn0B,kBAAX,eACA,IAAKm0B,WAAL,mBAAuC,CACrC,IAAIC,EAAJ,OACID,WAAJ,qBACEC,WAEFD,6BACAA,gDACAA,kCAIiBn0B,IAAE4G,KAAF5G,cAArB,uBAEmBA,oBAAnB,KACEA,IAAE4G,KAAF5G,iCACI,WACEiH,4BACAjH,0DAKLA,0BAA8BA,IAAE4G,KAAF5G,qDAA8DA,IAAE4G,KAAF5G,uBAA/F,8BACEA,IAAE4G,KAAF5G,yC,6MCrEeq0B,G,WACnB,e,4FAAoB,SAClBztB,KAAA,OAAc,WACZ,CACEnH,GAAI,gBAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,aAAoBA,KAAKvF,IAAI+J,KAA7B,8BACAxE,KAAA,eAAsBA,KAAKvF,IAAI+J,KAA/B,8BACAxE,KAAA,qBAA4BA,KAAKvF,IAAI+J,KAArC,yBACAxE,KAAA,wBAA+BA,KAAKvF,IAAI+J,KAAxC,sBACAxE,KAAA,iDACAA,KAAA,qBACAA,KAAA,OAEI7G,aAAJ,KACE6G,KAAA,qC,sDAKFA,KAAA,e,mCAIA,IAAI8G,EAAJ,KACA9G,KAAA,wBAA6B,CAC3BkO,MAAO,WACApH,EAAL,mBACO1N,6BAAL,YACE0N,yBAMR9G,KAAA,gBAAqB,CACnBkO,MAAO,YACLpH,uBACAlO,gCAIJQ,0CAAwC,CACtC8U,MAAO,YACLpH,uBACAlO,gCAIJO,YAAY,WACNA,aAAJ,IACO2N,EAAL,kBAGEA,0CAFAA,0DAKFA,+C,6CAMJ9G,KAAA,iCACAA,KAAA,6C,8CAIAA,KAAA,8CACAA,KAAA,uC,0CAIA,IAAI8G,EAAJ,KACA9G,KAAA,wBACAtH,YAAW,WACToO,0CACAA,iCACAA,eAAkBA,EAAlBA,wBACAA,uBACAxN,+BALFZ,O,2CAUAsH,KAAA,uBACAA,KAAA,gBAAqBA,KAArB,wBACAA,KAAA,+BACAA,KAAA,qCACAA,KAAA,qBACA1G,gC,6MC1FiBo0B,G,WAKnB,e,4FAAoB,SAGlB1tB,KAAA,OAAc,WACZ,CACEnH,GAAI,UAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,UAAiBA,KAAKvF,IAAI+J,KAA1B,iBACAxE,KAAA,YAAmBA,KAAKvF,IAAI+J,KAA5B,uBAEAxE,KAAA,O,sDAIAA,KAAA,e,mCAIA,IAAI8G,EAAJ,KACA9G,KAAA,wBACAA,KAAA,kCAAuC,WACrC,IAAI2tB,EAAyB7mB,WAA7B,YACA6M,2BAEA7M,oCAAwC,WACtC,IAAM8mB,EAAkBx0B,IAAxB,MACIy0B,EAAM/mB,WAAV,uDAGIue,EAAQve,WAAZ,0BAEI8mB,eAAJ,GACEC,OAASxI,OAATwI,SAGF,IAAID,gBACFC,OAASxI,OAATwI,QAGF,IAAID,gBACFC,OAASxI,OAATwI,UAGF,IAAID,gBACFC,OAASxI,OAATwI,YAIJ/mB,qDAAyD,WACvDA,8CACAA,0CACA1N,yEACEA,qDADFA,OAGAA,gFAKF0N,qDAAyD,WACvDA,iDACAA,+CACA1N,kFAKF0N,2EAGE,WACEA,8CACAA,6CAIJA,8EAGE,WACEA,iDACAA,kDAIJA,uDAA2D,WACzD1N,yDACEA,yEADFA,KAOEA,oEACAA,+DAFF,GAGEA,iDAEA0N,qCACAA,mCACAA,mDACAA,iCACAA,uCACAA,0CACAA,kCACAA,oCACAA,yCAIJA,wDAA4D,WAExD1N,6EAEAA,4EAHF,GAMEA,mDAEA0N,qCACAA,oCACAA,mDACAA,iCACAA,gDACAA,4CACAA,qCACAA,kCACAA,oCACAA,2CAIJ1N,+DAA4D,WAC1DA,mFAMF0N,wDAA4D,WAC1D,IAAIgnB,EAAiBhnB,WAArB,aACIinB,EAAW30B,IAAf,MACA,KAAI20B,sBACFD,sBACAC,4BACAA,OAAcA,OAAdA,oBAEAD,0BACAC,wBACAA,OAAcA,OAAdA,sBAIJjnB,6DAGE,WACE,IAAIgnB,EAAiBhnB,WAArB,0BACIinB,EAAW30B,IAAf,MACA,KAAI20B,sBACFD,sBACAC,4BACAA,OAAcA,OAAdA,oBAEAD,0BACAC,wBACAA,OAAcA,OAAdA,yBAMR/tB,KAAA,gCAAqC,WACnC8G,kCAGF9G,KAAA,iCAAsC,WACpC8G,uBACAA,4BAEA,OAAS,CACPjO,GAAIiO,sBAENA,+BAEAA,oDAEW,CAAEknB,SAAU,gBAGzBhuB,KAAA,kCAAuC,YACrC8G,kCAEIA,qBAAJ,YACEA,kCACAzG,YAAYzH,EAAZyH,YAIJjH,qBAAkB,WAChB0N,wBAA2B,YAEzBzG,YAAYzH,EAAZyH,QACAyG,8BAEEA,yBACC1N,IAAER,EAAFQ,iBAFH,wBAIEF,qBAAuB4N,mBAAvB5N,eAKN4N,iDAAqD,WACnDA,gCAGF1N,8BAA4B,YAC1BR,mBACAyH,YAAYzH,EAAZyH,QAGElH,uBADF,IAES2N,yBAAP,WAKFA,qCAKA,IAAO5N,OAAP,iBACA6R,WAAW7R,uBAFb,aAIER,YAAW,WAEPS,uBADF,IAES2N,yBAAP,WAIFA,+BAPFpO,O,2CAaFsH,KAAA,0BAA+B,CAC7B2Y,MAAO,CACL1P,MAAO,CACLC,UADK,EAEL+kB,8BAA8B,GAEhC7F,SAAU,CACRlf,UAAU,GAEZglB,sBAAuB,CACrBhlB,UADqB,EAErBC,OAAO,GAETglB,wBAAyB,CACvBjlB,UADuB,EAEvBC,OAAO,GAETilB,eAAgB,CACdllB,UADc,EAEd0e,gBAAgB,GAElByG,sBAAuB,CACrBnlB,UADqB,IAKzBN,YAAa,WACXxP,qBAAkB,WAChBA,iF,gDASN4G,KAAA,qCAA0C,CACxC2Y,MAAO,CACL1P,MAAO,CACLC,UADK,EAEL+kB,8BAA8B,GAEhC7F,SAAU,CACRlf,UAAU,GAEZglB,sBAAuB,CACrBhlB,UADqB,EAErBC,OAAO,IAGXP,YAAa,WACXxP,qBAAkB,WAChBA,iF,8CASNA,0CAEE,SAAS8H,GACP,QAEE,6FAFF,KAHJ9H,2BAgBAA,iDAEE,SAAS8H,GACP,QAAI,eAAeynB,KAAnB,KAHJvvB,oCAWAA,wDAEE,SAAS8H,GAEP,QAEE,gKAFF,KAJJ9H,yC,6MC5ViBk1B,G,WAKnB,e,4FAAoB,SAClBtuB,KAAA,OAAc,WACZ,CACEnH,GAAI,gBAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,uBAA8BA,KAAKvF,IAAI+J,KARrB,0BASdxE,KAAKvF,IAAT,QACEuF,KAAA,O,sDAIFA,KAAA,e,mCAGA,IAAIkmB,EAAJ,KACAlmB,KAAA,mDAAwD,WAetD,IAAI6b,EAAUziB,kBAAd,YAEA,IADAyiB,EAAUA,EAAVA,OACOA,EAAP,QACEA,2BACAA,yBACAA,EAAUA,EAAVA,OAIFqK,oCAEO,mBAAqBlmB,KAArB,MAFPkmB,eAxBiE,gBA4BjEA,WACQ,mBAAqBlmB,KAArB,MADRkmB,0C,6MCjDeqI,G,WACnB,e,4FAAoB,SAElBvuB,KAAA,OAAc5G,cAAd,GACA4G,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,UAAiBA,KAAKvF,IAAI+J,KAA1B,gBACAxE,KAAA,SAAgBA,KAAKvF,IAAI+J,KAAzB,qBACAxE,KAAA,iBAAwBA,KAAKvF,IAAI+J,KAAjC,mBACAxE,KAAA,eAAsBA,KAAKvF,IAAI+J,KAA/B,kBACAxE,KAAA,eAAsBA,KAAKvF,IAAI+J,KAA/B,kBACAxE,KAAA,YAAmBA,KAAKvF,IAAI+J,KAA5B,0BACAxE,KAAA,cAAqBA,KAAKvF,IAAI+J,KAA9B,4BACAxE,KAAA,iBAAwBA,KAAKvF,IAAI+J,KAAjC,qBAEAxE,KAAA,kBAAyBA,KAAKvF,IAAI+J,KAAlC,4BAEAxE,KAAA,O,sDAGAA,KAAA,aACAA,KAAA,cACAA,KAAA,c,kCAGAA,KAAA,wBAAqD,IAAvBA,KAAKwuB,SAASztB,OAA5C,KACAf,KAAA,0BAAuD,IAAvBA,KAAKwuB,SAASztB,OAA9C,O,oCAEY0tB,GACZ,IAAI9wB,EAAW,IAAM8wB,SAArB,OACAzuB,KAAA,4BAEE,gBAAkByuB,cAAlB,EAFF,UAIAzuB,KAAA,8BAEE,gBAAkByuB,cAAlB,EAFF,Y,oCAMA,IAAI3nB,EAAJ,KACA9G,KAAA,OAAc,IAAI,EAAJ,EAAWA,KAAX,iBAAkC,CAC9CF,UAD8C,aAE9C0X,aAF8C,EAG9CE,cAH8C,EAI9Ca,YAAa,CACXmW,IAAK,CACHhX,cAAe,IAGnBU,WAT8C,sBAU9CC,WAV8C,sBAW9CC,OAAQ,YACNxR,oBAEFwjB,mBAAoB,YAClB,QAAImE,qBACF3nB,oBAGJ6nB,QAAS,cACP,UAAI7pB,eAGC1L,IAAER,EAAFQ,qBAAD,uBACCA,IAAER,EAAFQ,qBADD,uBAECA,IAAER,EAAFQ,8BAHH,YAOEq1B,cAAqBA,EAArBA,aACAA,WACA3nB,sBAIN8nB,MAAO,cACL,UAAI9pB,eAGC1L,IAAER,EAAFQ,qBAAD,uBACCA,IAAER,EAAFQ,qBADD,uBAECA,IAAER,EAAFQ,8BAHH,YAOEq1B,cAAqBA,EAArBA,aACAA,WACA3nB,wBAOR9G,KAAA,+B,mCAIA,IAAI8G,EAAJ,MAEE,mBAAmB6hB,KAAKxtB,UAAxB,YACAA,yCAFF,KAKE/B,IAAE4G,KAAF5G,mCAA0C,WACxC0N,yBAA2B,WACzB,IAAI+nB,EAAez1B,mBAAnB,SAGAA,gCAGJA,IAAE4G,KAAF5G,mCAA0C,WACxC0N,yBAA2B,WACzB1N,2C,0PCxHW01B,G,WACnB,e,4FAAoB,SAClB9uB,KAAA,OAAciT,iBAAd,GACAjT,KAAA,QAAeA,KAAKsE,OAApB,GACAtE,KAAA,cAAqBA,KAAKwI,QAAQ+X,cAAlC,UACAvgB,KAAA,OAAcA,KAAKwI,QAAQ+X,cAA3B,oBACAvgB,KAAA,aAAoBA,KAAKwI,QAAQ+X,cAAjC,kBACAvgB,KAAA,oBAA2BA,KAAK+uB,aAAaxO,cAA7C,2BAGAvgB,KAAA,YAAmBA,KAAKwI,QAAQ+X,cAAhC,qBACAvgB,KAAA,YAAmBA,KAAKwI,QAAQ+X,cAAhC,0BACAvgB,KAAA,oBAA2BA,KAAKwI,QAAQ+X,cAAxC,8BAGAvgB,KAAA,YAAmBA,KAAKwI,QAAQ+X,cAAhC,0BAEAvgB,KAAA,YACEA,KAAKsE,OAAO0qB,aAAehvB,KAAKivB,cAAchJ,aADhD,eAEAjmB,KAAA,iBACAA,KAAA,gBACAA,KAAA,iBACAA,KAAA,YACAA,KAAA,YACAA,KAAA,iBACAA,KAAA,kBAAgBA,KAAKwI,QAAQ4hB,QAAkB,SAC/CpqB,KAAA,kBACAA,KAAA,qBAAkBA,KAAKwI,QAAQ4hB,QAAoB,WACnDpqB,KAAA,aAEAA,KAAA,O,sDAIAA,KAAA,aACAA,KAAA,gBACAA,KAAA,kB,sCAGc,WACdiT,sBAAsBjT,KAAtBiT,gBAA6C,CAC3CC,IAAK,WACH,OAAO,EAAP,kBAIJD,sBAAsBjT,KAAtBiT,mBAAgD,CAC9CC,IAAK,WACH,OAAO,EAAP,UAEFC,IAAK,SAAA+b,GACH,aAEA,EACE,6CAEA,mDAKNjc,sBAAsBjT,KAAtBiT,oBAAiD,CAC/CE,IAAK,SAAArT,GACH,iBAIAE,KAAJ,YACEA,KAAA,W,+BAKFA,KAAA,oBAAyBA,KAAzB,cACAlH,0BAA0BkH,KAA1BlH,cAEAkH,KAAA,yBAAgCA,KAAKwI,QAAQ2mB,YAA7C,O,uCAGev2B,GACf,GAAIA,aAAJ,WACEoH,KAAA,WAAgBpH,EAAhB,YACK,KAAIoH,KAAJ,YAGL,OAFAA,KAAA,WAAgBA,KAAKovB,YAArB,SAKFx2B,mBACAA,sB,yCAGiBoK,GAOjB,IANA,IAAM9B,EAAQ8B,gBAERqsB,EAAYrvB,KAAK+uB,aAAaO,iBAApC,kBAEIC,GAAJ,EAES9uB,EAAT,EAAgBA,EAAIT,KAAKivB,cAAcl1B,QAAvC,OAAuD0G,IACjDT,KAAKivB,cAAcl1B,QAAQ0G,GAAGS,QAAlC,GACElB,KAAA,qCACAqvB,+BACArsB,uCACAusB,MAEAvvB,KAAA,qCACAqvB,mCAIJ,W,iCAGSz2B,GACT,IAAMu0B,EAAN,EAEA,IAAIA,eAAJ,aAIA,IAAMoC,EAAgBvvB,KAAKwvB,mBAA3B,GAEAxvB,KAAA,YAAmB,CAAEwI,QAAF,EAAmBrG,MAAOotB,GAE7CvvB,KAAA,uBACAA,KAAA,gBAEA5G,IAAE4G,KAAF5G,0BAAkC,CAAEq2B,eAAgBzvB,KAAKyvB,iBAEpDzvB,KAAL,UACEA,KAAA,e,6CAKFA,KAAA,eAAsB,CAACA,KAAKivB,cAA5B,S,sCAMA,IAFA,IAAMS,EAAN,GAESjvB,EAAT,EAAgBA,EAAIT,KAAKivB,cAAcU,SAAvC,OAAwDlvB,IAAK,CAC3D,IAAMoL,EAAS7L,KAAKivB,cAAcU,SAAlC,GAEK9jB,EAAL,UAIA6jB,UAKF,GAFA1vB,KAAA,mCAEA,IAAI0vB,SAIF,OAHA1vB,KAAA,wBAA+BA,KAA/B,iBACAA,KAAA,6BAAmCA,KAAnC,aAKFA,KAAA,wBAA+B0vB,KAA/B,KACA1vB,KAAA,6BAAmC0vB,KAAnC,MAEIA,SAAJ,IACE1vB,KAAA,4CAA4C0vB,SAA5C,IAGE1vB,KAAJ,WACEA,KAAA,gBAAuB0vB,sB,+CAKzB,IAAM3sB,EAAS/C,KAAKwI,QAApB,wBAEAxI,KAAA,mCAAmC+C,EAAnC,YACA/C,KAAA,kCAAkC+C,EAAlC,a,8BAGMnK,GACN,OAAQA,EAAR,OACE,QAEEoH,KAAA,oBACApH,mBACAA,oBACA,MAEF,QAEEoH,KAAA,gBACApH,mBACAA,oBACA,MAEF,QACEoH,KAAA,oBACA,MAEF,QACA,OAEEA,KAAA,YACA,MAEF,QACEA,KAAA,cAAmBpH,EAAnB,Q,oCAKQg3B,GAAM,WAClB5vB,KAAA,gBAEA,IAAI6a,EAAJ,EAEI7a,KAAJ,cACE6a,EAAc7a,KAAKovB,YAAYjtB,MAA/B0Y,GAGF,IAAIgV,EAAY7vB,KAAK8vB,mBACnB9vB,KAAK+vB,YADS,SAAhB,GAUA,GALA,IAEEF,EAAY7vB,KAAK8vB,mBAAmB9vB,KAAK+vB,YAA7B,SAAZF,IAGF,EAAe,CACb,IAAMG,EAAa9tB,6BACjBlC,KAAK+vB,YADY7tB,SAAnB,GAIAlC,KAAA,8BAAqC6vB,EAArC,UACA7vB,KAAA,oBAEAA,KAAA,gBAGEA,KAAJ,aACEvH,aAAauH,KAAbvH,aAGFuH,KAAA,YAAmBtH,YAAW,WAC5B,oBADF,O,yCAKiB60B,EAAM0C,GACvB,IAAK,IAAIxvB,EAAT,EAAyBA,EAAI8sB,EAA7B,OAA0C9sB,IAAK,CAC7C,IAAMuC,EAAOuqB,EAAb,GACA,OACEvqB,oCAEWhD,KAAKkwB,aAFhBltB,eAIA,SAIJ,c,sCAIA,IAAKhD,KAAL,YAAuB,CACrB,IAAMmwB,EAAcnwB,KAAK+uB,aAAaxO,cAAtC,MAMA,OAJA,GACEvgB,KAAA,gBAGF,EAGF,IAAMgD,EAAOhD,KAAKovB,YAAlB,QACM9S,EAAWtZ,EAAjB,mBAEA,KAAc,CACZ,IAAM2Y,EAAYzZ,6BAChBc,gBADgBd,SAAlB,GAIA,OAAOlC,KAAKowB,UAAU9T,EAAtB,GAGF,W,0CAIA,IAAKtc,KAAL,YACE,SAGF,IAAMgD,EAAOhD,KAAKovB,YAAlB,QACMiB,EAAertB,EAArB,uBAEA,KAAkB,CAChB,IAAMstB,EAAgBpuB,6BACpBc,gBADoBd,SAAtB,GAIA,OAAOlC,KAAKowB,UAAUC,EAAtB,GAGF,W,gCAGQrtB,EAAMb,GASd,GARInC,KAAJ,aACEA,KAAA,gDAGFgD,2BAEAhD,KAAA,YAAmB,CAAEwI,QAAF,EAAiBrG,MAAOA,GAGzCnC,KAAKuwB,oBAAoBC,aACzBxwB,KAAKuwB,oBAFP,aAGE,CACA,IAAMjF,EAAgBtrB,KAAKovB,YAA3B,QACMqB,EAAanF,YAA0BA,EAA7C,aAKImF,EAHFzwB,KAAKuwB,oBAAoBG,aACzB1wB,KAAKuwB,oBAFP,UAMEvwB,KAAA,8BACEywB,EAAazwB,KAAKuwB,oBADpB,aAESjF,YAA0BtrB,KAAKuwB,oBAAnC,YAELvwB,KAAA,8BAAqCsrB,EAArC,WAIJ,OAAOtrB,KAAP,c,oCAIA,IAAM2wB,EAAW73B,SAAjB,yBAEAkH,KAAA,wBAIA,IAFA,IAAMjG,EAAUiG,KAAKivB,cAArB,SAESxuB,EAAT,EAAgBA,EAAI1G,EAApB,OAAoC0G,IAAK,CACvC,IAAMmwB,EAAK93B,uBAAX,MACA83B,4BACAA,cAAiB72B,KAAjB62B,YAEA3d,cAAc2d,EAAd3d,QAA0BlZ,KAA1BkZ,SAEA2d,gBAAsB72B,KAAtB62B,MAEI72B,KAAJ,WACE62B,4BACAA,uCACA5wB,KAAA,oBAAyBjG,KAAzB,QAGF,IAAME,EAAQ22B,gBAEd,KAAW,CACT,IAAMC,EAAe7wB,KAAK8wB,cAA1B,GACAF,iBAA8BA,aAA9BA,IAGFD,iBAGF3wB,KAAA,yBACAA,KAAA,2BAEAA,KAAA,iBAAwBjG,cAAwBiG,KAAKivB,cAArD,SAEAjvB,KAAA,kB,oCAGY+wB,GACZ,IAAM92B,EAAQnB,uBAAd,OAIA,OAHAmB,iCACAA,QAEA,I,sCAGcsL,GACd,IAAMyrB,EAAkBl4B,SAAxB,yBAEAyM,mBAAqB,SAAAoP,GACnB,IAAM9I,EAAS,IAAIolB,OAAOtc,EAAX,KAAmBA,EAAlC,OAEIA,EAAJ,MACE1B,cAAcpH,EAAdoH,QAA8B0B,EAA9B1B,MAGF+d,oBAGFhxB,KAAA,+BACAA,KAAA,6BAEAA,KAAA,gB,kCAIAA,KAAA,kCACAA,KAAA,iCACAA,KAAA,wCACAA,KAAA,iBAMA,IAJA,IAAMkxB,EAAelxB,KAAK+vB,YAAYT,iBAAtC,0BAIS7uB,EAAT,EAAgBA,EAAIywB,EAApB,OAAyCzwB,IACvCywB,mC,+BAIKt4B,GACP,IAAMmK,EAASnK,SAAf,wBACMu4B,EAAgB/3B,IAAE4G,KAAxB,cACIH,EAAJ,EACIuxB,EAAJ,SAEA,GAAKpxB,KAAL,UAQEoxB,EAAoBpxB,KAApBoxB,cARmB,CACnB,IAAMC,EAAatuB,MAAaouB,EAAhC,cACMG,EAAap4B,oBAAsB6J,MAAaA,EAAnC7J,QAAoDi4B,EAAvE,cAEIG,KAAkBD,EAAtB,IACED,SASAvxB,EAFAG,KAAJ,WACE,QAAIoxB,EACIruB,MAAa7J,OAAb6J,YAAkCouB,EAAxCtxB,cAEMzG,0BAA0B2J,EAAhClD,OAGF,QAAIuxB,GACKD,EAAPtxB,cAEMkD,EAANlD,OAIJ,QAAIuxB,GACFD,sCACAnxB,KAAA,mDAEAmxB,yCACAnxB,KAAA,qDAGFmxB,MAAkB,CAChBtzB,QADgB,QAEhBgC,IAAKA,IAIP,IAAI2f,EAAO5mB,iCAAX,KAEKoH,KAAL,aACEwf,KAGF2R,MAAkB,CAChB/2B,MAAOxB,iCADS,MAEhB4mB,KAAMA,M,8CAKRxf,KAAA,kB,uCAGepH,EAAG2M,GAAM,WACnBA,GAASA,EAAd,UAIAA,mBAAqB,SAAAjK,GACnB,IAAMuQ,EAAS,oDAAf,OAEA,MAIAA,cAEA,IAAM0lB,EAAW,mDAAjB,OAEA,IACEA,uCACAA,4BAEK,EAAL,gBACE,4BAGF,KAAK,yBAA4B1lB,EAA7B,QACF,sBAAyBA,EAAzB,YAKN7L,KAAA,mB,mCAGW,WAEX5G,IAAE4G,KAAF5G,gCAAwC4G,KAAKwxB,SAASxlB,KAAtD5S,OAEAA,IAAE4G,KAAF5G,+BAAuC4G,KAAKyxB,UAAUzlB,KAAtD5S,OAEAA,IAAE4G,KAAF5G,0BAAkC4G,KAAK0xB,iBAAiB1lB,KAAxD5S,OAEAA,IAAE4G,KAAF5G,iCAAwC,qBACtC,kBADsC,MAIxCA,IAAE4G,KAAF5G,uCAEE4G,KAAK2xB,uBAAuB3lB,KAF9B5S,OAKAF,iCAAkC8G,KAAKyxB,UAAUzlB,KAjBtC,OAoBXhM,KAAA,uCAA4C,SAAApH,GAC1C,OAAIA,kCACF,sBAEAA,oBACAA,uBAIJoH,KAAA,wCAA8CA,KAAK4xB,QAAQ5lB,KAA3DhM,OAEAA,KAAA,kCAAwCA,KAAK4xB,QAAQ5lB,KA/B1C,OAkCXhM,KAAA,wCAEEA,KAAK6xB,sBAAsB7lB,KAF7BhM,OAKA5G,KAAE,WACA,gBACAA,IAAE,EAAFA,iC,siDChjBe04B,G,wQACnB,cAAoB,a,4FAAA,UAClB,kBAEA,yBAEA,cACA,mBANkB,E,6DAUlB9xB,KAAA,gBACAA,KAAA,yB,uCAGepH,GACf,GAAIA,aAAJ,WACEoH,KAAA,WAAgBpH,EAAhB,QACAoH,KAAA,2BACK,CACL,IAAKA,KAAL,YACE,OAGF,IAAMopB,EAASppB,KAAKovB,YAAY5mB,QAAhC,cAEAxI,KAAA,WAAgBA,KAAKovB,YAArB,SAEApvB,KAAA,uBAEIopB,qBAAJ,+BACMA,mBAAJ,EACEppB,KAAA,UAAeopB,WAAf,IAEAppB,KAAA,UAAeopB,mCAAf,QAKNxwB,mBACAA,sB,yCAGiBoK,GAKjB,IAJA,IAAM9B,EAAQ8B,gBACR+uB,EAAW/uB,qBAAjB,YACIusB,GAAJ,EAES9uB,EAAT,EAAgBA,EAAIT,KAAKivB,cAAcl1B,QAAvC,OAAuD0G,IACrD,GAAIT,KAAKivB,cAAcl1B,QAAQ0G,GAAGS,QAAlC,EAAmD,CACjDquB,IACA,MAIJ,IAAMF,EAAYrvB,KAAK+uB,aAAaO,iBAAiB,8BAAnC,SAAlB,OAIAyC,EACI/uB,kBADI,iBAEJA,+BAFJ+uB,QAGA/uB,+BAEA,IAAK,IAAIvC,EAAT,EAAgBA,EAAI4uB,EAApB,OAAsC5uB,IACpC,IACE4uB,sCACAA,mCAMJ,OAFArvB,KAAA,qCAEA,I,6CAIA,IAAM2wB,EAAW73B,SAAjB,yBAEAkH,KAAA,wBAEA,IAAK,IAAIS,EAAT,EAAgBA,EAAIT,KAAKivB,cAAcU,SAAvC,OAAwDlvB,IAAK,CAC3D,IAAMoL,EAAS7L,KAAKivB,cAAcU,SAAlC,GAEA,GAAK9jB,EAAL,UAIA,IAAM+kB,EAAK93B,uBAAX,MACA83B,gBAAsB/kB,EAAtB+kB,MACAA,cAAiB/kB,EAAjB+kB,YACAA,qCACAA,uCAEA5wB,KAAA,oBAAyB6L,EAAzB,OAEA8kB,kBAGF3wB,KAAA,iCACAA,KAAA,qC,sCAIA,IAAMgyB,EAAiB,GAAH,2CAApB,MACMhvB,EAAOhD,KAAb,YAEA,IAAKgyB,GAAkBhvB,GAAQA,2CAA/B,6BAA2G,CACzG,IAAMivB,EAAqBjvB,yDAA3B,MAIA,GACEhD,KAAA,kB,0CAMJ,IAAMgyB,EAAiB,GAAH,+CAApB,MACMhvB,EAAOhD,KAAb,YAEA,IAAKgyB,GAAkBhvB,GAAQA,2CAA/B,oBAAkG,CAChG,IAAMkvB,EAAoBlvB,GAAQA,6DAAlC,iBAIA,GACEhD,KAAA,kB,oCAMJ,kDAKA,IAHA,IAAMmyB,EAAmBr5B,SAAzB,yBACM42B,EAAkB1vB,KAAK+vB,YAAYT,iBAAzC,aAES7uB,EAAT,EAAgBA,EAAIivB,EAApB,OAA4CjvB,IAC1C0xB,cAA6BzC,gBAA7ByC,IAGFnyB,KAAA,oBAA2BA,KAAK+uB,aAAaxO,cAA7C,8BAIAvgB,KAAA,iCACAA,KAAA,mCAEAA,KAAA,yB,uCAGepH,EAAG2M,GAClB,2DAEAvF,KAAA,4B,gCA5J6C8uB,I,2KCK5BpW,G,WAKnB,e,4FAAoB,SAGlB1Y,KAAA,OAAc,WACZ,CACEnH,GAAI,gBAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OATA,IAalBtE,KAAA,O,sDAIAA,KAAA,qBACAA,KAAA,e,mCAIA,IAAI8G,EAAJ,KACA9G,KAAA,6BACA8G,uDAA2D,WACzD1N,yDACEA,yEADFA,KAOEA,oEACAA,+DAFF,GAGEA,iDAEA0N,qCACAA,mCACAA,mDACAA,iCACAA,uCACAA,0CACAA,kCACAA,oCACAA,yCAIJA,wDAA4D,WAExD1N,6EAEAA,4EAHF,GAMEA,mDAEA0N,qCACAA,oCACAA,mDACAA,iCACAA,gDACAA,4CACAA,qCACAA,kCACAA,oCACAA,6C,2CAMJ9G,KAAA,0BAA+B,CAC7B2Y,MAAO,CACL1P,MAAO,CACLC,UADK,EAEL+kB,8BAA8B,GAEhC7F,SAAU,CACRlf,UAAU,IAGdN,YAAa,WACXxP,qBAAkB,WAChBA,+EAMN4G,KAAA,yCAA8C,CAC5C2Y,MAAO,CACLyV,eAAgB,CACdllB,UADc,EAEd0e,gBAAgB,GAElByG,sBAAuB,CACrBnlB,UADqB,IAKzBN,YAAa,WACXxP,qBAAkB,WAChBA,+EAMN4G,KAAA,8CAAmD,CACjD2Y,MAAO,CACLuV,sBAAuB,CACrBhlB,UADqB,EAErB+kB,8BAA8B,IAGlCrlB,YAAa,WACXxP,qBAAkB,WAChBA,+EAMN4G,KAAA,uDAA4D,CAC1D2Y,MAAO,CACLwV,wBAAyB,CACvBjlB,UADuB,EAEvB0e,gBAAgB,IAGpBhf,YAAa,WACXxP,qBAAkB,WAChBA,iF,mDASNA,0CAEE,SAAS8H,GACP,QACE,4FAA4FynB,KAD9F,KAHJvvB,2BAeAA,iDAEE,SAAS8H,GACP,QAAI,eAAeynB,KAAnB,KAHJvvB,oCAWAA,wDAEE,SAAS8H,GAEP,SAEE,qKAGA,4FAA4FynB,KAL9F,MAJJvvB,yC,oNClLiBg5B,G,WACnB,e,4FAAoB,SAClBpyB,KAAA,eACAA,KAAA,WACAA,KAAA,UACAA,KAAA,OAAc,WACZ,CACEnH,GAAI,cAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IAEItE,KAAKvF,IAAT,QACEuF,KAAA,O,sDAIFA,KAAA,UAAiB5G,IAAjB,iBACA4G,KAAA,KAAY5G,+EAAZ,6CAGA4G,KAAA,e,mCAKA,IAAInE,EAAKmE,KAAK4P,KAAKmU,KAAnB,QAEA/jB,KAAA,iBAAsB,WACpBA,KAAA,UAAiB5G,IAAjB,iBACA4G,KAAA,MAAa5G,IAAb,8CACI4G,KAAKqyB,UAAUtxB,OAAS,GAA5B,GAAiCf,KAAKgP,MAAMjO,SAC1C7H,2B,6MCjCao5B,G,WACnB,e,4FAAoB,SAClBtyB,KAAA,OAAciT,iBAAd,GACAjT,KAAA,QAAeA,KAAKsE,OAAOzL,GAAGqa,IAA9B,GACAlT,KAAA,cAAqBA,KAAKwI,QAA1B,cACAxI,KAAA,gBAAuBA,KAAKwI,QAAQ+X,cAApC,4BAGAvgB,KAAA,wBAA+B,GAAGgkB,QAAQuO,KACxCvyB,KAAKwgB,cADwB,SAE7BxgB,KAFF,SAIAA,KAAA,aAAoBA,KAAKwI,QAAQ+X,cAAjC,uCAGAvgB,KAAA,cAAqBA,KAAKwI,QAAQ+X,cAAlC,UACAvgB,KAAA,gBAAuBA,KAAK+uB,aAAaxO,cAAzC,qBACAvgB,KAAA,YAAmBA,KAAKwI,QAAQ+X,cAAhC,0BACAvgB,KAAA,qDACAA,KAAA,yDACAA,KAAA,qDACAA,KAAA,cACAA,KAAA,6CACAA,KAAA,cAAqBlH,uBAArB,UACAkH,KAAA,WAEAA,KAAA,aACAA,KAAA,gB,+DAKA5G,EAAE4G,KAAF5G,kDAIA,IAAMo5B,EAAiBC,qBAAqBzyB,KAA5C,YAEA,IACE9G,sBACAu5B,wBAAwBzyB,KAAxByyB,e,4CAKEzyB,KAAJ,aACElH,0BAA0BkH,KAA1BlH,SACAkH,KAAA,2BACEA,KADF,QAEEA,KAAKwgB,cAAcmP,SAAS3vB,KAF9B,2BAMFA,KAAA,yBAA8BA,KAA9B,qBACAA,KAAA,8BAAmCA,KAAnC,qBACAA,KAAA,cACAA,KAAA,WACAA,KAAA,mCACAA,KAAA,8BACAA,KAAA,mB,mDAIKA,KAAL,aACEA,KAAA,0BAA+BA,KAA/B,SACAA,KAAA,sBAA2BA,KAA3B,qBACAA,KAAA,2BAAgCA,KAAhC,qBACAlH,0BAA0BkH,KAA1BlH,SACAkH,KAAA,gCAEAA,KAAA,cACAA,KAAA,qB,0CAKF,IAAM0yB,EAAe1yB,KAAK2yB,gBAAgBpS,cAA1C,2BAIA,IACEvgB,KAAA,wBAA+B0yB,EAA/B,e,wCAOF,IAFA,IAAMznB,EAAQjL,KAAK2yB,gBAAgBrD,iBAAnC,kBAES7uB,EAAT,EAAgBA,EAAIwK,EAApB,OAAkCxK,IAChC,GAAIwK,aAAJ,iBAAuC,CACrC,IAAM2nB,EAAY3nB,aAAlB,iBACAjL,KAAA,wCACAiL,gBAAoBA,uBAApBA,iBAIJjL,KAAA,sB,uCAMA,IAFA,IAAMiL,EAAQjL,KAAK2yB,gBAAgBrD,iBAAnC,kBAES7uB,EAAT,EAAgBA,EAAIwK,EAApB,OAAkCxK,IAChC,GAAIwK,aAAJ,YAAkC,CAChC,IAAM4nB,EAAc5nB,aAApB,YACAjL,KAAA,wCAEAiL,gBAAoBA,uBAApBA,iBAIJjL,KAAA,sB,sCAGcpH,EAAG2M,GACjBktB,qBAAqBzyB,KAArByyB,WAAsCv5B,OAAtCu5B,SACAv5B,gBAAkBqM,iBAAlBrM,K,oDAIA,GAAK8G,KAAL,YAIA,IAAMwyB,EAAiBt5B,OAAvB,QACM6J,EAASjK,2BAA6BkH,KAAK8yB,cAAjD,aAEI55B,sBAAJ,GACE8G,KAAA,WACAA,KAAA,sBAA2BA,KAA3B,4BAEKA,KAAL,UACEA,KAAA,WACAA,KAAA,yBAA8BA,KAA9B,2BACAA,KAAA,8BACAA,KAAA,sBAA2BA,KAA3B,6B,uCAMAA,KAAJ,WACEA,KAAA,kBAEAA,KAAA,mB,qCAIWpH,GACRoH,KAAL,QAIEA,KAAA,yBAA8BA,KAA9B,0BAHAA,KAAA,6BACAA,KAAA,yBAA8BA,KAA9B,8B,mCAMS,WACXJ,gCAAoC,SAAAU,GAClC,UAAIA,EACF,+BAEA,2BAIJpH,iCAEE8G,KAAK+yB,4BAA4B/mB,KAFnC9S,OAKA8G,KAAA,wCAEEA,KAAKgzB,eAAehnB,KAFtBhM,OAKA5G,EAAE4G,KAAF5G,6BAAqC4G,KAAKizB,gBAAgBjnB,KAA1D5S,OAEAA,EAAE4G,KAAF5G,2BAAmC4G,KAAKkzB,eAAelnB,KAAvD5S,Y,8jECjLJ,IAAM+5B,GAAN,gBACMC,GAAmB,GAAH,UAAtB,aACMC,GAAoB,GAAH,UAAvB,cACMC,GAAmB,GAAH,UAAtB,aACMC,GAA2B,GAAH,UAA9B,cACMC,GAAuB,GAAH,UAA1B,iBAKMC,GAAiB,CACrBnwB,UAAW,CACTowB,UADS,GAETC,QAFS,GAGTC,SAHS,GAITC,QAJS,GAKTC,gBALS,GAMTC,YANS,GAOTC,gBAZ6B,GAAH,UAA9B,UAaIC,oBAZiC,GAAH,UAAlC,cAaIC,gBAZ6B,GAAH,UAA9B,YAgBMC,GAAa,OAAbA,GAEM,WA6CNC,GAAwB,SAAC5iB,GAC7B,OAN8B,SAACA,EAAU6iB,GACzC,IAAMC,EAAgBp7B,wBAAtB,GACA,OAAO0I,WAAW0yB,mBAAD,GAAjB,IAIOC,CAAwB/iB,EAA/B,iBAGIgjB,GAAW,SAAC/5B,GAAD,OAASA,0BAAT,OAIXg6B,GAAuC,SAACjjB,EAAUkjB,GAAX,OAFjBC,EAE8DH,GAAD,GAFjDI,EAEsEJ,GAArB,GAFpCzxB,EAE+EqxB,GAAvF,GAFmBxsB,UAAUgtB,EAAD,GAAD,EAA7C,QAACD,EAAYC,EAAa7xB,GAM/C8xB,GAAqB,SAAC5lB,EAAOylB,GACjC,OAAOzlB,EAAA,KAAU,SAAAjM,GAEf,OADAA,WAhC6B,SAACwO,EAAUkjB,GAC1C,IAAMI,EAAkBJ,EAAxB,WACM95B,EAAiB45B,GAAvB,GACMO,EAAkBvjB,aAAxB,EACMwjB,EAAeR,GAArB,GAGA,OACEO,GAHF,GAIEA,KAFF,EAyBkBE,CAAyBjyB,EAAD,IAAxCA,GACA,MAmBJ,SAASkyB,GAASpuB,GAAM,IAChBxD,EAAcwD,EADE,kBAEtBA,MAAWA,UAAXA,GAEAA,gBAAqB,CACnB6sB,QAAS,IAAF,OAAMrwB,EADM,SAEnBswB,SAAU,IAAF,OAAMtwB,EAFK,UAGnBuwB,QAAS,IAAF,OAAMvwB,EAHM,SAInB6xB,eAAgB,IAAF,OAAM7xB,EAJD,iBAKnBywB,YAAa,IAAF,OAAMzwB,EAAN,cAGbwD,WAAgBA,oBAAuBA,gBAAvCA,SACAA,YAAiBA,oBAAuBA,gBAAxCA,UACAA,gBAAqBA,6BAAgCA,gBAArDA,SACAA,oBAAyBA,uBAA0BA,gBAAnDA,aACAA,WAAgB,CACdsuB,WAAY,YAEVh6B,mBAAqB,SAAUC,EAAGG,EAAGD,EAAGD,GAEtC,OADAD,GAAKC,EAALD,GACA,EACSE,QAAP,GAGMA,EAAI,KADZF,GACsBA,EAALA,GAAV,GAAP,GAGFD,iBAAmB,SAAUC,EAAGG,EAAGD,EAAGD,GAEpC,OAAOE,EAAID,IADDF,GAAD,KAAT,IAIFD,kBAAoB,SAAUC,EAAGG,EAAGD,EAAGD,GACrC,IAAIG,GAAMJ,GAAD,GAAT,EACEK,EAAKD,EADP,EAEA,OAAOD,EAAID,GAAK,EAAIG,EAAKD,GAAM,GAAKA,EAApB,EAA8B,GAA9C,IAIF,IAIA,MAQMO,EACFC,EACAC,EAdAP,EACKzC,8BAAgCA,OAAhCA,6BAAsEA,OAAtEA,0BAAyG,SAAU6C,GAAY7C,oBAA4B,IAA5BA,KAmCxI,OAhCA,EAgCgBm8B,EAhChB,EAgCqB,aAhCrB,EAgCA,IAxBMr5B,EAFK8K,YAAP,WAGA7K,EAASJ,EADX,EAEEK,EAFF,EAIAJ,OAAW,IAAQ,EAAR,IAAXA,OACoB,SAAhBM,IAEFF,GAPF,GASE,IAfF,EAeMG,EAAMjB,yBAJoB,GAXhC,EAWgC,EAV9B0L,yBAkBI5K,EAAJ,EACEP,KAEII,GAAJ,mBAAuB,GAErBA,IAINK,KAOR,SAASk5B,GAAYxuB,GAAM,IA+DnByuB,EAgBJ,EACA,EACA,EACA,EACA,EACA,EACA,EAEMC,EAwEFC,EA9JEC,EAAqB5uB,EADJ,UAEnB6uB,EADuB7uB,EADJ,MAEzB,SACM8uB,EAAW,CACf/xB,KAAM,mBAAW1B,EAAX,GACN2B,SAAU,mBAAW3B,EAAX,IAGN0zB,EAAa,SAACC,GAClB,IACgBC,EADDJ,IADc,SAGvBK,EAAiBD,EAAA,QAAqB,mBAAU/yB,EAAV,YACtCizB,EAAN,GACA,KAAIH,IAAW3B,IAAmB4B,EAAcA,SAAdA,GAAlC,UAGID,IAAW3B,IAAuB4B,KAAtC,WAMA,IAHA,IAAMG,EAAUzB,GAAqCsB,KAAD,IAApD,GACMI,EAAaH,KAAnB,MAESv1B,EAAT,EAAgBA,EAAhB,EAA6BA,IAAK,CAChC,IAAM21B,EAAWR,KAAiBO,EAAlC,IACIC,EAAWL,EAAXK,QAAmCA,GAAvC,IACEH,UAIJnvB,iBAAoB,CAClB8C,KADkB,sBAElBysB,QAASJ,MAIPK,EAAyB,SAACnJ,EAAQoJ,GAAW,IA5I5B/tB,EAmJrB,EALMguB,EAD8BD,EADa,SAEzB,QAAqB,SAAAvzB,GAAI,OAAIA,EAAJ,YAC3Cb,EA/I2B,IAAZqG,EA+IrB,GA/IqCA,WAAJ,kBAAb,GAgJpB,GAAK2kB,qBAA0BrmB,oBAA/B,iBAWA,OAPI3E,EAAQq0B,EAAgBA,SAAhBA,GAAZ,QACEV,EAAS3B,IAGPhyB,EAAQq0B,KAAZ,QACEV,EAAS3B,IAEX,GAIArtB,6BAA+B,YAC7B,IAAMgvB,EAASr7B,qBAAuBqM,oBAAvBrM,iBAAiE05B,GAAkBA,GAClG15B,4BAA8B,YAC5Bo7B,WAMAN,EAAJ,EACAG,4BAAoC,YAClC98B,sBAGF88B,2BAAoCl2B,MAAS,YAC3C+1B,GAAiB38B,cAAjB28B,EACIn6B,YAAJ,IAEEy6B,EADaN,IAAmBpB,GAAkBA,IAElDoB,QALJG,KAmBMF,EAAU,SAAC58B,GACfi9B,MAGFH,iCAAyC,YACvC98B,mBACA69B,EAAa79B,aAAb69B,QACAC,EAAgBhB,EAAhBgB,WACAC,KACAC,KACAC,MAAoBrC,GAAS1tB,EAAT0tB,cAGtBkB,gCAAwC,YACtC,IACA,GACEx8B,+BAGFX,EAAUW,OAAA,uBAA6B,WACrC,IAAM6J,EAAS0zB,EAAa79B,aAA5B,QACAk9B,EAAS/yB,IAAaoxB,GAAkBA,IACxCwC,EAAQv7B,YAvBZ,MA0BMs6B,aAAuBgB,EAAvBhB,GAGEt6B,YAAJ,IACEo6B,IACAoB,aAKNlB,+BAAuC,YACrC,KAAW,CACT,IAAMoB,EAAN,MAAiBl+B,iBACXm+B,EAAoBn+B,4BAA4BkO,oBAAtD,iBACA,KACElO,sBACK,GAAIm+B,EAAmB,CAC5B,IAAMR,EAASZ,IACTG,EAASQ,EAAuB19B,EAAD,OAArC,GACA,MAAa,OAEbi9B,WAGF,GACEL,OAOSG,IADV,SAGLI,SAAsB,SAAA/yB,GACJA,EADY,IAE5BvI,0BAA8B,YAC5B,IAAM87B,EAASZ,IACTG,EAASQ,EAAuB19B,EAAD,OAArC,GACA,GAEAi9B,WAMAJ,EAAsBjB,GAAS1tB,EAAnC,WACA5N,iCAAkCsG,MAAS,YACzC,IAAMw3B,EAAkBxC,GAAS1tB,EAAjC,WACMmwB,EAAsBxB,IAA5B,EACAA,IAEA,GACE3uB,iBAAoB,CAClB8C,KADkB,yBAElBysB,QAAS7B,GAASkB,QARxBx8B,KAeJ,SAASg+B,KAmDP,IAAMC,EAAiBj+B,6CAAvB,KASA,OARA8G,KAAA,MAAao3B,aAAYC,aAAgB,CACvCzD,SApDF,cA7UwB,IAAC0D,EAkVvB,OAJA,IACEroB,EAAQ4lB,IA/UayC,EA+UwBt3B,KAAnB,cA/UMkC,MAAA,aAAuB,cAC3D,MAAO,CACLzH,IADK,EAEL0H,MAFK,EAGLo1B,UAAU,OA2U0Dv3B,KAAlEiP,YAGM6mB,EAAR,MACE,0BACE,OAAOA,WAAkBA,iBAAlBA,EAvRU,SAAC7mB,EAAOuoB,GAC/B,OAAOvoB,EAAA,KAAU,SAAAjM,GAEf,OADAA,WAAgBw0B,WAAiBx0B,EAAjCA,OACA,KAoRyDy0B,CAAiBxoB,EAAO6mB,EAAtEA,SAAP,EACF,QACE,WA2CMlC,KAD6B,MAEvC8D,QAxCF,cAKE,OAJA,IACEzoB,EAxRN,SAA0BA,EAAOylB,GAAY,IACrC7wB,EAAmBoL,EADkB,KAK3C,OAJyBA,EADkB,SAG3CnL,aAAoB4wB,aACpB7wB,WAAgB6wB,eAA0BA,aAAwBF,GAAlE3wB,GACA,EAmRY8zB,CApVU,SAACL,EAAQh0B,GAAT,OAAuBpB,MAAA,gBAA0B,cACvE,MAYA,OAXIzH,qBAAuB6I,EAA3B,iBACEs0B,EAASzD,GACA15B,qBAAuB6I,EAA3B,uBACLs0B,EAASzD,IAGXpR,KAAiB,CACftoB,IADe,EAEf88B,UAAU,GAGZ,IAbsB,IAoVOM,CAAgB73B,KAAD,kBAAyBA,KAAKjG,QAA9C,WAAkEiG,KAA1FiP,YAGM6mB,EAAR,MACE,oBAGE,OAFA7mB,gBAAsB,kBAAO6mB,UAAP,KAA2CA,UAA3C,KAAiE7mB,OAAvFA,SACAA,oBAA0B,kBAAO6mB,UAAP,SAA+CA,UAA/C,SAAyE7mB,WAAnGA,SACA,EACF,QACE,WA6BKyoB,KAF8B,MAGvC/5B,SA1BF,WAAqC,IAAnBsR,EAAmB,uDAAX,EAAG6mB,EAAQ,uCACnC,OAAQA,EAAR,MACE,sBACE,OAAOA,EAAP,QACF,QACE,WAqBMn4B,KAH6B,MAIvC/C,eAdF,WAA8C,IAAtBqU,EAAsB,uDAAd,KAAM6mB,EAAQ,uCAC5C,UACE,6BACE,OAAOA,EAAP,QACF,QACE,WASYl7B,KAJuB,MAKvCk9B,WAnBF,WAA0C,IAARhC,EAAQ,uCACxC,UAkBYgC,aACVX,KAEGn3B,KAAP,MAGF,SAAS,KACP,IAAM8G,EAAN,KACQixB,EAAqBjxB,EAFb,MAED4uB,EAAc5uB,EAFb,UAGVmI,EAAQ8oB,EAAd,WACInuB,EAAOqF,aAAX,KAEIrF,WAAJ,UACEA,YAGF,IAAMouB,EAAY,CAChB,SAAU,WACRlxB,iBAAoB,CAClB8C,KADkB,yBAElBysB,QAAS7B,GAASkB,MAItBuC,uBAAwB,WAAM,IACVlC,EAAkB9mB,EADR,SAEtBinB,EAAUzB,GAAqCsB,KAAD,IAApD,GACMC,EAAiBD,EAAA,QAAqB,SAAA/yB,GAAI,OAAIA,EAAJ,YAC5Ck1B,EAAJ,EACMV,EAAN,GAEA,IACEU,EAAoBlC,KAApBkC,OAGF,IAAK,IAAIz3B,EAAT,EAAgBA,EAAhB,EAA6BA,IAAK,CAChC,IAAIkb,EAAYlb,EAAhB,EACIkb,EAAYoa,EAAhB,SACEpa,KAAyBlb,GAG3B+2B,UAGF1wB,iBAAoB,CAClB8C,KADkB,sBAElBysB,QAASmB,KAGbW,oBAAqB,WAAM,IACPpC,EAAkB9mB,EADX,SAEjBymB,EAAc5uB,EAFG,UAGnBkvB,EAAiBD,EAAA,QAAqB,SAAA/yB,GAAI,OAAIA,EAAJ,YAChD,OAAIgzB,SAAJ,CAEA,IAIMoC,EAJsBpC,EAAA,QAAsB,cAChD,OAAOjT,EAASyR,GAASxxB,EAAzB,OADF,GAGwBoxB,GAAsB4B,KAA9C,MACgFA,SAAhF,GACMqC,EAA2BrC,oBAAmCN,EAApE,WACM3yB,GAAU2yB,cAAD,GAAf,EAEAK,WAAsB,YAChB/yB,EAAJ,SACEA,uBAA0B8D,oBAA1B9D,iBAEAA,oBAAuB8D,oBAAvB9D,oBAIJ+0B,WAAe,CACbnuB,KADa,kBAEbysB,QAASgC,EAA2Bt1B,IAGtCg1B,WAAe,CACbnuB,KADa,gBAEbysB,QAAS,CACPxyB,MAAOkyB,EAAcA,SAAdA,GADA,SAEPjyB,UAAWiyB,KAAiBwB,cAIlCe,cAAe,WAEb,IAFmB,IACFC,EAAiBtpB,EADf,QAEnB,MAA6BgE,eAA7B,kBAA2D,kBAAvCjQ,GAAuC,WACrDA,EAAJ,SACEA,oBAAuB8D,oBAAvB9D,iBAEAA,uBAA0B8D,oBAA1B9D,mBAINw1B,gBAAiB,WAAM,IACHC,EAAkBxpB,EADf,SAGrBnI,gCAIJ,IAAOkxB,EAAPpuB,IAA0CouB,EAA1CpuB,K,IAGmB8uB,GACnB,e,4FAAqB,SACnB14B,KAAA,wBAKAk1B,SACCgC,QAAD,KAACA,GAED,IAAMc,EAAYx0B,QAAlB,MACAxD,KAAA,mBACAg4B,IACA1C,U,4NCxhBiBqD,G,WACnB,e,4FAAoB,SAClB34B,KAAA,OAAc,WACZ,CACEnH,GAAI,aAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,O,sDAIAA,KAAA,aACAA,KAAA,0B,oFAMAA,KAAA,oBAAwB,WACtB5G,4D,iOCZew/B,G,WACnB,e,4FAAoB,SAClB54B,KAAA,OAAc5G,cAAd,GAEA4G,KAAA,IAAW5G,IAAE4G,KAAKsE,OAHA,IAalBtE,KAAA,OAAc,IAAI,GAAJ,EAAe,CAC3B64B,eAAgBC,gBADW,WAE3BC,eAAgBD,gBAFW,WAG3BE,OAAQ,CACN3zB,IADM,6CAEN4zB,SAFM,SAGNvtB,OAAQ,YACN,OAAOwtB,EAAP,SAKN9/B,IAAE4G,KAAF5G,eACE,CACE+/B,UADF,EAEExwB,WAFF,EAGEywB,MAHF,EAIEC,MAAO,IAET,CACEh3B,KADF,OAGEi3B,WAAY,YACV,OAAO/C,EAAP,MAEFgD,OAAQv5B,KAAKu2B,SAIjBv2B,KAAA,eAAsBA,KAAKvF,IAAI++B,QAA/B,sBACAx5B,KAAA,O,sDAIA,IAAI8G,EADC,KAKL1N,wCAAsC,YAEpC,IAAI2W,EAAO3W,kBAFqC,kBAQ9CA,wBADF,cAOER,mBACAkO,eAAsBA,EAAtBA,YAMJ1N,sCAAmC,WACjC,IAAI2W,EAAO3W,kBAAX,kBACA0N,mBAKF1N,qBAAkB,YAChB,IAAI2W,EAAO3W,IAAE0N,EAAF1N,aADiB,kBAK1BA,wBADF,aAME,KAAIR,WAEFkO,mBASN9G,KAAA,2BAAgC,WAC1B8G,kDAAJ,EAGEA,gDAGAA,wBAFK,oBAOL,IAAIA,kDAECA,kDADH,gCAKEA,sFAOR9G,KAAA,0BAA+B,WAE7B8G,2BAFwC,oBAIxCA,qDAJwC,WAO1C9G,KAAA,2BAAgC,WAC9B8G,+CAEF9G,KAAA,4BAAiC,WAC/B8G,oD,iCAMOiJ,GACT3W,qCAGAA,0BAEW,CACPgB,MAAO,SAHXhB,kBAMS,WACLA,yC,iCAOK2W,EAAM3V,GACfhB,uDAIW,CACPgB,MAAOA,IAEXhB,kEAMS,WACLA,+C,+tBCxLR,IAAMq6B,GAAN,GAEA,SAASgG,KACP,MAAe,CACb5gC,GAAImH,KADS,IAEb6W,kBAFa,yBAGbF,YAHa,sBAIbC,mBAJa,kBAKbH,UALa,eAMbK,cANa,GAObC,UAAW,M,IAqBf,GAhBE,cAQE,G,4FARmB,SACnB/W,KAAA,wBAKAA,KAAA,IAAW05B,YAAW15B,KAAKjG,QAA3B,KAEKiG,KAAL,IACE,MAAM,IAAI25B,MAAV,iCAGFF,iB,2KCxBiBG,G,WAKnB,e,4FAAoB,SAGlB55B,KAAA,OAAc,WACZ,CACEnH,GAAI,YAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,YAAmBA,KAAKvF,IAAI+J,KAA5B,gBACAxE,KAAA,eAAsBA,KAAKvF,IAAI+J,KAA/B,yCAGAxE,KAAA,SAAgBA,KAAKvF,IAAI+J,KAAzB,mBAEIxE,KAAKvF,IAAT,QACEuF,KAAA,O,sDAIFA,KAAA,e,mCAGA,IAAI8G,EAAJ,KACA9G,KAAA,oCAAyC,CACvCkO,MAAO,WACS9U,kBAAd,WACK8oB,eAAL,WACEpb,oBAEFA,sB,wCAKJ1N,SAAO4G,KAAP5G,UAAsB,cACpBA,mC,qCAMF,IAAIygC,GAAJ,EACAzgC,SAAO4G,KAAP5G,UAAsB,cAChBA,sBAAJ,YACEygC,SAGJ,GACE75B,KAAA,2CACAA,KAAA,sCACAA,KAAA,iDAEAA,KAAA,wCACAA,KAAA,yCACAA,KAAA,kD,6MC7De85B,G,WAKnB,e,4FAAoB,SAClB95B,KAAA,OAAc,WAAS,CACrBnH,GAAI,sBADN,GAGAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,O,sDAGAA,KAAA,aAEAA,KAAA,cACAA,KAAA,6B,0EAMY,WACZtH,YAAW,WACT,IAAMqhC,EAAW,WAAjB,iBACA,IAAIA,0BACFA,gEACAA,8EACAA,iDALJrhC,O,iDAWA,IAAMshC,EAAwBh6B,KAAKvF,IAAL,qCAA9B,0BAIIu/B,SAAJ,GACEA,6D,6MCpCeC,G,WACnB,e,4FAAoB,SAClBj6B,KAAA,OAAc,WACZ,CACEnH,GADF,SAEEqhC,SAFF,eAGEC,UAHF,eAIEC,WAJF,sBAKEC,aALF,sBAMEC,QANF,qBAOEC,SAPF,qBASEt3B,WATF,sBAUEu3B,iBAVF,IAWEC,cAXF,cAYE/gC,WAAYF,IAZd,WAaEoF,aAAcF,YAAkB,iBAdpC,GAkBAsB,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,UAAiBA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAApC,UACAtE,KAAA,WAAkBA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAArC,WACAtE,KAAA,YAAmBA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAAtC,YACAtE,KAAA,cAAqBA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAAxC,cACAtE,KAAA,SAAgBA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAAnC,SACAtE,KAAA,UAAiBA,KAAKvF,IAAI+J,KAAKxE,KAAKsE,OAApC,UACAtE,KAAA,cAEIA,KAAKvF,IAAIsG,OAAb,GAAyBf,KAAKiZ,O,sDAI9BjZ,KAAA,gB,oCAIA5G,QAAM,CACJiM,IAAKrF,KAAKsE,OADN,WAEJ2V,QAASja,KAAK06B,wBAAwB1uB,KAFlC,MAGJtD,MAAO1I,KAAK26B,YAAY3uB,KAAKhM,U,8CAITzC,EAAOq9B,EAAGC,EAAIC,EAAIC,EAAIC,GAC5C,OAAOJ,EAAK56B,KAAKi7B,oBAAoBJ,EAA9BD,OAAiD56B,KAAKi7B,oBAAoBD,EAAjF,K,8CAGsBz1B,GACtB,IAAI21B,EAAoBnwB,eAAexF,EAAvC,UACM41B,EAAN,oDAEA,GAAIn7B,KAAKo7B,UAAT,EAAwC,CACtCp7B,KAAA,WACAA,KAAA,eAAoBA,KAAKi7B,oBAAoB11B,WAAzB,SAApB,IACAvF,KAAA,gBAAqBuF,gCAAkDvF,KAAKq7B,wBAAwBrvB,KAApGhM,QACAA,KAAA,sBAA2BA,KAA3B,WAA4CuF,WAA5C,YACAvF,KAAA,iBAAsBA,KAAKi7B,oBAAoB11B,WAA/C,aACA,IAAI+1B,EAAgB55B,IAAO6D,WAAP7D,aAAkC1B,KAAKsE,OAA3D,YACAtE,KAAA,sBACAA,KAAA,cAAmBA,KAAKi7B,oBAAoB11B,WAAzB,WAAnB,IACAvF,KAAA,eAAoBuF,kCAAoDvF,KAAKq7B,wBAAwBrvB,KAArGhM,QACAA,KAAA,sBAA2BA,KAA3B,UAA2CuF,WAA3C,cAGF7M,WAAWsH,KAAKu7B,YAAYvvB,KAAlB,MAAVtT,O,0CAGkBoZ,GAAuB,IAAlB0pB,EAAkB,uDAAH,EAChC35B,GAAUiQ,cAAhB,IACA,OAAOjQ,EAAA,eAAsB7B,KAAKsE,OAA3B,aAAgD,CAACm3B,sBAAuBD,M,4CAG3D/mB,EAAOykB,GACvBA,gBAAJ,EACEzkB,WAAezU,KAAKsE,OAApBmQ,eAEAA,cAAkBzU,KAAKsE,OAAvBmQ,iB,oCAKF/b,WAAWsH,KAAKu7B,YAAYvvB,KAAlB,MAAVtT,U,6MCpFiBgjC,G,WAKnB,e,4FAAoB,SAClB17B,KAAA,OAAc,WACZ,CACEnH,GAAI,aAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,O,sDAGAA,KAAA,aACKgX,aAAL,2BACEhX,KAAA,yBACAA,KAAA,qB,+CAKFA,KAAA,wBAA4B,WAC1B,IAAI27B,EAAQviC,eAAZ,MACAA,yCAGQ,WACJA,2BAEQ,iBAEe,IAAVuiC,QADT,IAESA,EAAP,GAEAviC,4BAA2BA,IAAEuiC,EAAFviC,IAA3BA,QAEAA,2C,wCAQZ4G,KAAA,wBAA4B,WACxB,IAAI47B,EAAmBxiC,eAAvB,WAEA,MADAwiC,EAAmBA,EAAmBA,EAAH,OAFA,KAIjCxiC,4E,mCASNA,iCAA+B,WAC7BN,kBAAoBM,eAApBN,gB,6MC3De+iC,G,WACnB,e,4FAAoB,SAClB77B,KAAA,OAAc,WACZ,CACEvF,IAAK,UAFT,GAMAuF,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,KACAtE,KAAA,UAAiBA,KAAKvF,IAAI+J,KAA1B,mBACAxE,KAAA,gBAAuBA,KAAKvF,IAAI+J,KAAhC,qBACAxE,KAAA,cAAqBA,KAAK87B,UAAUpmB,SAApC,sBACA1V,KAAA,O,sDAGAA,KAAA,e,mCAGA,IAAI8G,EADO,KAYX,GAPG3K,KAAD,eACA2K,0BACC9G,KAHH,eAKElG,YAAc,CAAEG,MAAO6M,EAAKg1B,YAG1Bh1B,6BAAoC9G,KAAxC,cAEE,GAAK7D,KAAL,UAuBEyD,iBAAqB,WACnB,IAAIm8B,EAAYvhC,YAAasM,EAA7B,iBACAA,sBAAyB,CACvB1M,MAAO2hC,EADgB,MAEvB1hC,OAAQ0hC,EAAU1hC,gBA3BE,CACxB,IAAM0hC,EAAYvhC,YAAasM,EAA/B,iBAEAhN,YAAc,CACZG,MAAO6M,EADK,gBAEZ1M,MAAO2hC,EAFK,MAGZ1hC,OAAQ0hC,EAHI,OAIZ5hC,WAJY,6DAMZG,cAAe,CACbD,OAAQyM,uBADK,mBAEb1M,MAAO0M,4CAIXlH,iBAAqB,WACnB,IAAIo8B,EAAYl1B,WAAhB,wBACIi1B,EAAYvhC,YAAhB,GACAwhC,MAAc,CACZ,4BAAsBD,EAAtB,oBAA2CA,EAA3C,yB,6MCnDSE,G,WACnB,e,4FAAoB,SAClBj8B,KAAA,OAAc,WACZ,CACEvF,IAAK,UAFT,GAMAuF,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,KACAtE,KAAA,O,2EAiBkCvF,GACfA,OAAnB,qBACAyhC,MAAkB,WAChBD,oBAA+B7iC,IAA/B6iC,Y,wCAIqBhX,GACvB,IASA,EACA,EAVIvqB,EAAWuqB,OAAf,aACItqB,EAAYsqB,OAAhB,cAEIrqB,EAAiBqqB,WAArB,QACIpqB,EAAkBoqB,WAAtB,SAEInqB,EAAWH,EAAf,EACqBE,EAArB,EAKA,GACEE,IACAC,EAAaH,EAAbG,IAEAA,IACAD,EAAcH,EAAdG,GAEFkqB,wBAA6BjqB,UAA7BiqB,U,gCAzCAjlB,KAAA,e,mCAGA,IAAI8G,EAAJ,KAEA1N,KAAE,WACA6iC,oBAA+B7iC,IAA/B6iC,UAGFr8B,iBAAqB,WACnBq8B,+BAA0Cn1B,EAA1Cm1B,a,oNCxBeE,G,WAKnB,e,4FAAoB,SAElBn8B,KAAA,OAAc5G,EAAA,OAAS,CACrBP,GADqB,YAErBmyB,eAAgB,KAFlB,GAIAhrB,KAAA,IAAW5G,EAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,iBAAwBA,KAAKvF,IAAI+J,KAAjC,8BACAxE,KAAA,+BACAA,KAAA,2CACAA,KAAA,SAAgBA,KAAKvF,IAAI+J,KAAKxE,KAA9B,aACAA,KAAA,wBAA+BA,KAAKvF,IAAI+J,KAAxC,sCACAxE,KAAA,8CACAA,KAAA,0DACAA,KAAA,gBAAuBA,KAAKvF,IAAI+J,KAAKxE,KAArC,oBACAA,KAAA,cAAqBA,KAAKvF,IAAI+J,KAA9B,0BACAxE,KAAA,WACAA,KAAA,UAAiBA,KAAKvF,IAAI8K,KAA1B,aACAvF,KAAA,OAAcA,KAAKvF,IAAI+J,KAAvB,uCACAxE,KAAA,SAAgBA,KAAKvF,IAAI+J,KAAzB,yCACAxE,KAAA,eAAsBA,KAAKvF,IAAI+J,KAA/B,uBACAxE,KAAA,iBAAwBA,KAAKvF,IAAI+J,KAAjC,6BACFxE,KAAA,mBAEIA,KAAKvF,IAAT,SACCuF,KAAA,eAAsB5G,0BAA2BA,EAA3BA,WAAtB,KACG4G,KAAA,Q,sDAIFA,KAAA,aACAA,KAAA,cACA,IAAIkrB,EAAJ,EACCkR,EAAWp8B,KAAKvF,IAAI+J,KAAK,sBAAsBuf,KAAnD,WAOA,GALO/jB,KAAJ,gBACEA,KAAA,oBAAyBA,KAAzB,gBAGFA,KAAA,mBACC9G,uBAAyB8G,KAA7B,kBAAqD,CAChD,IAAImrB,EAAUjyB,+BAAd,GACAgyB,EAAWlrB,KAAKvF,IAAI+J,KAAK,eAAiB2mB,EAAU,qBAAuBA,EAAhE,UAAXD,gBAGAA,EAAWlrB,KAAKvF,IAAI+J,KAAK,IAAMxE,KAApB,+BAAXkrB,WAEFlrB,KAAA,kB,mCAGA,IAAI8G,EAAJ,KACA9G,KAAA,OAAY,CACVkO,MAAO,YACL,IAAM7B,EAAKjT,aAAX,MACA0N,uBAED9G,KALH,aAMAA,KAAA,UAAe,CACbkO,MAAO,YACLpH,mBAAsB1N,EAAtB0N,UAGJ9G,KAAA,YAAiB,CACfkO,MAAO,YACLpH,qBAAwB1N,EAAxB0N,UAGJ9G,KAAA,iBAAsB,CACpB/D,OAAQ,YACN6K,eAAkB1N,QAAlB0N,aAGJlH,gCAAoC,SAAUU,GAC5C,UAAIA,GACFwG,mBAIJ1N,yBAAwB,WAClBA,mCAAJ,GACEA,sCAIJA,mBAAkB,WAChB,IAAIgyB,EAAahyB,+CAAjB,IAEI+B,2CAAJ,GAAmDA,uCACjD/B,mCAAmC,CACjC,UAAagyB,S,0CAMD3wB,GAElBA,YAAeA,OAAfA,yC,wCAGA,IAAI8C,GAAJ,EAQA,OAPIyC,KAAJ,gBACEA,KAAA,qBAAyB,WACnB5G,uBAAyBF,+BAA7B,KACEqE,SAIN,I,yCAGAyC,KAAA,8CACAA,KAAA,kD,uCAEe2rB,GACf,IAAI7kB,EAAJ,KACIvK,EAAYyD,KAAK4rB,iBAAiBrvB,YAAcyD,KAAK4rB,iBAAzD,SACA5rB,KAAA,yBAA8B,CAAEzD,UAAWA,GAA3C,eAAwE,WACtEuK,qBACA,GAAIA,gCACF6kB,2C,yCAIaA,GACjB,IAAI7kB,EAAJ,KACIvK,EAAYyD,KAAK4rB,iBAAiBrvB,YAAcyD,KAAK4rB,iBAAzC,SAAhB,GACA5rB,KAAA,yBAA8B,CAAEzD,UAAWA,GAA3C,eAAwE,WACtEuK,qBACIA,gCAAqCA,iCAAsCA,mBAAtCA,cAAzC,IACE6kB,2C,mCAIOtf,EAAIwf,GAClB,IAEG7rB,KAAA,qBACAA,KAAA,eACAA,KAAA,eACAA,KAAA,iB,oCAGIA,KAAK4rB,iBAAiByQ,cAAgBr8B,KAAKqrB,iBAA/C,cACErrB,KAAA,wCAEAA,KAAA,6C,gCAIMqM,EAAIwf,GACZ,IAAIC,EAAiB9rB,KAAK+rB,gBAA1B,GAEAD,mBAAgC9rB,KAAhC8rB,mBAEAA,sDACMA,gBAAF,gBAAiD9rB,KAAjD,oBAAJ,IAA+E6rB,IAC7E3yB,qBAAuB4yB,gBAAvB5yB,eAGI4yB,gBAAF,gBAAJ,IAAoDD,IAClD3yB,qBAAuB4yB,gBAAvB5yB,eAEF8G,KAAA,a,kCAEUqM,GACV,IAAI4f,EAAiBjsB,KAAKvF,IAAI+J,KAAK,IAAMxE,KAAzC,0BACIksB,EAAgBlsB,KAAKvF,IAAI+J,KAAK,IAAMxE,KAAxC,mBACAisB,cAA2BjsB,KAA3BisB,0BACAC,cAA0BlsB,KAA1BksB,qB,sCAEc7f,GACd,MAAO,CACL8f,QAASnsB,KAAKqrB,iBAAiB7mB,KAAK,YAAc6H,EAD7C,KAELwH,SAAU7T,KAAKosB,wBAAwB5nB,KAAK,YAAc6H,EAAhD,W,6MCjLKiwB,G,WACnB,e,4FAAoB,SAGlBt8B,KAAA,OAAc,WACZ,CACEnH,GAAI,aAFR,GAMAmH,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,SAAgBA,KAAKvF,IAAI+J,KAAzB,qBACAxE,KAAA,UAAiBA,KAAKvF,IAAI+J,KAA1B,qBACAxE,KAAA,MAAaA,KAAKvF,IAAI+J,KAAtB,kBACAxE,KAAA,WAAkBA,KAAKu8B,MAAM/3B,KAA7B,kBACAxE,KAAA,MAAaA,KAAKvF,IAAI+J,KAAtB,kBACAxE,KAAA,YACAA,KAAA,YAAmBA,KAAKvF,IAAIib,SAA5B,yBACA1V,KAAA,WACAA,KAAA,aAEAA,KAAA,gBAAuBA,KAAKw8B,gBAAgBxwB,KAA5ChM,MAEIA,KAAKvF,IAAT,QACEuF,KAAA,O,sDAIFA,KAAA,aAEAA,KAAA,SAAgB8E,yBAAhB,EACA,IAAIgC,EAAJ,KAEA9G,KAAA,kCAAsC,cAChCwU,EAAM1N,EAAV,UACE1N,sCAIA4G,KAAKy8B,WAAW17B,OAASf,KAA7B,UACEA,KAAA,wC,mCAIS,WACP8G,EAAJ,KAEA9G,KAAA,sBAA2B,SAAA8B,GAAK,OAAI,kBAAJ,MAEhC9B,KAAA,YACAA,KAAA,YAAiB,CACfkO,MAAO,WACApH,EAAL,UAGWA,EAAJ,WACLA,SAFAhC,uBAAmCgC,EAAnChC,UAAoDgC,EAApDhC,UAON9E,KAAA,SAAc,CACZkO,MAAO,WACLpH,YAIJlH,iBAAqB,WACnBkH,WAAgBhC,yBAAhBgC,EAEAA,cACAkQ,aACIlQ,EAAJ,QACEA,aAEAA,eAGFA,wBAGFlH,iBAAqB,YACfkH,WAAgBA,EAApB,WACEA,SAEEwb,MAAUxb,EAAVwb,SAA0Bxb,EAA9B,QACEA,aACSwb,MAAUxb,EAAVwb,QAAyBxb,EAA7B,SACLA,oB,sCAKUhF,GACdA,mBAEI9B,KAAK08B,UAAUhnB,SAAnB,YACE1V,KAAA,kCAEAA,KAAA,+BAGFA,KAAA,qB,yCAIA,IAAI8G,EAAJ,KACI61B,EAAa38B,KAAK08B,UAAUhnB,SAAhC,YAEA1V,KAAA,gBAAoB,cAClB,IAAI48B,EAAYxjC,IAAhB,GACA,KACEwjC,kCACK,CACL,IAAIC,EAAWroB,GAAO1N,EAAtB,SACA81B,8B,kCAMJ58B,KAAA,OADU,M,mCAKVA,KAAA,kCACKA,KAAL,cACEA,KAAA,yBACAgX,0BAEFhX,KAAA,a,iCAKA,GADAA,KAAA,gCACKA,KAAL,YACE,GACE5G,wCADF,UAEE0L,aAEA9E,KAAA,sBAA4B,EAAIA,KAAKvF,IAAV,SAA3B,IACAuc,qBAA8BhX,KAAKvF,IAAnCuc,cACK,CACL,IAAI8lB,EAAe1jC,yCAAnB,GACA4G,KAAA,sBAA4B,EAAIA,KAAKvF,IAAV,SAA3B,GACAuc,qBAA8BhX,KAAKvF,IAAIJ,SAAvC2c,GAGJhX,KAAA,a,6BAIAA,KAAA,uCACAA,KAAA,e,6BAIAA,KAAA,oCACAA,KAAA,e,gCAIA5G,mC,6MCnKiB2jC,G,WACnB,e,4FAAoB,SAClB/8B,KAAA,OAAc5G,cAAd,GACA4G,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,IACAtE,KAAA,O,sDAGAA,KAAA,e,mCAGA,IAAI8G,EAAJ,KACI5N,OAAJ,QACEA,oBAAmB,YACjB8jC,wBAA4B,WAC1Bl2B,8BAGJ3N,YAAY,WACV2N,8B,4CAMJ,IACIm2B,EADQ7jC,qBAAZ,QACA,KACAA,gD,s5BC5BJ,IAAMq6B,GAAiB,CACrByJ,MAAO,CACLvZ,MADK,EAELa,OAAO,GAET2Y,YALqB,EAMrBC,eANqB,EAOrBC,eAPqB,EAQrBC,QARqB,IASrBC,OATqB,IAUrB5O,QAASvvB,KAGLkE,GAAY,wBAAZA,GAEM,qBAsBZ,SAASk6B,KACP,IAAM/X,EAAYxmB,YApBK,eAACw+B,EAAD,0WAMjBA,cAAoB,WAAaA,EAAb,YAApBA,IANiB,sBAOjB1qB,gBAAO0qB,EAAP1qB,wCAPiB,sBAQjBA,gBAAO0qB,EAAP1qB,kCARiB,8CAUZ0qB,EAVY,0OAoBiBC,CAAiB19B,KAAzD,UAEAlH,6BACAkH,KAAA,YAAmB5G,IAAnB,GACA4G,KAAA,kBAAuBA,KAAKjG,QAA5B,OACAiG,KAAA,OAAcA,KAAK29B,YAAY,GAAGpd,cAAc,IAAlC,OAAsCjd,KAGtD,SAASs6B,GAAoBhlC,GAC3BA,mBACAoH,KAAA,0BAEIX,YAAWW,KAAKjG,QAApB,UACEiG,KAAA,gBAAAA,KAAA,GAIJ,SAAS69B,GAAkBjlC,GACzByH,YAAYL,KAAKjG,QAAjBsG,eACA,SAAI0S,OAAO/S,KAAKjG,QAAZgZ,8BACF+qB,gBAIJ,SAASC,KACP/9B,KAAA,0BAIF,SAAS89B,KACP99B,KAAA,0BAGF,SAASg+B,KACPh+B,KAAA,cAGF,SAASi+B,KACPj+B,KAAA,eAGF,SAASk+B,KACPD,gBACIj+B,KAAKojB,OAAT,cACEpjB,KAAA,sBAIJ,SAASm+B,KAAqB,WACxBn+B,KAAKvF,IAAT,kBACEuF,KAAA,6BAAmC49B,QAAnC59B,OAAA,GAGEA,KAAJ,cACEA,KAAA,iCAAsC,YACpC,gBAEIX,YAAW,UAAf,SACE,yBAIJW,KAAA,gCAAqC,YACnC,iBAEIX,YAAW,UAAf,UACE,0BAIJW,KAAA,kCAAuC,YACrC,oBAGEA,KAAKojB,OAAT,kBACEpjB,KAAA,gCAAsC69B,QAAtC79B,Q,IAKeo+B,G,WACnB,cAQE,G,4FARoB,SACpBp+B,KAAA,wBAKAA,KAAA,IAAW05B,YAAW15B,KAAKjG,QAA3B,IAEKiG,KAAL,KAKA,IAAKA,KAAKjG,QAAV,YAIE,OAHAsG,kCACAL,KAAA,kBAAuBsD,SACvBtD,KAAA,iBAIFw9B,gBACAW,qBAZE99B,uC,sDAgBF09B,kB,8BAIAD,kB,6BAIAE,kB,8BAIAC,kB,6BAIAC,qB,+tBCrKJ,IAAM9+B,GAAO,aAEPq0B,GAAiB,CACrB4K,UADqB,GAErBC,WAFqB,GAGrBC,QAHqB,GAIrBC,UAAWp/B,IAOb,SAASq/B,GAAiB97B,GACxB,IAAM+7B,EALR,SAAoB/7B,GAClB,OAAOA,EAAP,QAImBg8B,IAAnB,GACA3+B,KAAA,MAAa0+B,EAAb,QACA1+B,KAAA,MAAa0+B,EAAb,QAGF,SAASE,GAAgBj8B,GACvB,GAAK3C,KAAD,OAAgBA,KAApB,OAIA,IAAI6+B,EAAMl8B,aAAV,QACIm8B,EAAMn8B,aAAV,QAEIo8B,EAAQ/+B,KAAKg/B,MAAjB,EACIC,EAAQj/B,KAAKk/B,MAAjB,EAEI9jC,YAAkBA,SAAtB,GACM2jC,EAAJ,EACE/+B,KAAA,kBAAAA,KAAA,GAEAA,KAAA,mBAAAA,KAAA,GAGEi/B,EAAJ,EACEj/B,KAAA,gBAAAA,KAAA,GAEAA,KAAA,kBAAAA,KAAA,GAKJA,KAAA,WACAA,KAAA,YAGF,SAAS,KACHA,KAAKvF,IAAT,mBACEuF,KAAA,WACAA,KAAA,WAEAA,KAAA,kCAAwCy+B,QAAxCz+B,OAAA,GACAA,KAAA,iCAAuC4+B,QAAvC5+B,OAAA,I,IAgBJ,GAXE,iB,4FAA2B,SACzBA,KAAA,MACAA,KAAA,wBAKAm/B,iB,mlDCrDJ,IAAM77B,GAAY,8BAAZA,GAAY,uBAAZA,GAAY,4BAAZA,GAAY,kCAAZA,GAAY,oCAAZA,GAAY,oCAAZA,GAAY,sCAAZA,GAAY,+BAAZA,GAAY,8BAAZA,GAAY,8BAAZA,GAAY,sCAAZA,GAAY,qDAAZA,GAAY,iCAAZA,GAAY,kCAAZA,GAkBW,iCAGXmwB,GAAiB,CACrB2L,iBADqB,GAErBC,iBAAkB,qBAGdnB,GAAY,SAACvT,GAKjB,OAJAA,UACIA,EAAJ,cACEA,iBAEF,GAGF,SAAS2U,GAAkBt8B,GACzB,IAGA,EAHMlH,EAAN,KAAkBkE,KAAKjG,QAAN,iBACXwlC,EAAev8B,OAAKA,cAALA,WAA4BM,KAG7Ck8B,EAAJ,EAiBAx8B,kBAAuB9J,6BAfvB,mBACE,IAAI8C,IAAqBA,KACzB,IAAMyjC,EAAUC,EAAhB,EACAF,EAAapkC,WAAY,IAAD,EAAxBokC,GAEIC,EAAJ,GAEEF,mCAAyCC,EAAzCD,SACAv8B,kBAAuB9J,6BAA6BkW,OAApDpM,SAEAw8B,IACAljB,kBAIgDlN,KAApDpM,OAGF,SAAS28B,GAAUjN,GAAc,IACvB/H,EAAgB+H,EADO,MAChB1vB,EAAS0vB,EADO,KAG/B/H,WACA,kBAAWA,EAAP,0BACFA,8BAEFA,cACAA,wBAA6BA,UAA7BA,QACAA,MAAYA,UAAZA,IAyBAA,gCAvBA,YACE,GAAIA,EAAJ,MAGE,OAFA+H,qBACA4M,iBAIF,IAAMC,EAAev8B,2BAAuBM,KACxCs8B,EAAgBjV,EAApB,SACI3qB,KAAKjG,QAAT,mBACE6lC,EAAgBjV,YAAkB3qB,KAAKjG,QAAvB4wB,iBAAkDA,EAAlDA,UAAoE3qB,KAAKjG,QAAzF6lC,kBAEF,IAAIJ,EAAapkC,WAAW,IAAMuvB,EAAN,YAA5B,GACI6U,GAAJ,KACEA,MACAD,mCAAyCC,EAAzCD,SACArB,MACA5hB,iBAEAijB,mCAAyCC,EAAzCD,UAIiCM,KAArClV,UAEA+H,eAGF,SAASoN,KACP9/B,KAAA,0BAGF,SAAS+/B,KACP//B,KAAA,yBAGF,SAASsc,KACP0jB,cAAsBhgC,KAAKigC,mBAAqBjgC,KAAKkgC,SAASn/B,OAAxC,IAAyDf,KAAKigC,iBAApFD,GAGF,SAAS5jB,KACP4jB,cAAgD,IAA1BhgC,KAAKigC,iBAAyBjgC,KAAKkgC,SAASn/B,OAA5C,EAAyDf,KAAKigC,iBAApFD,GAGF,SAAS,GAAT,GACOhgC,KAAL,mBACEvH,aAAauH,KAAbvH,mBAGGuH,KAAL,eACEvH,aAAauH,KAAbvH,eAGGuH,KAAL,YACEvH,aAAauH,KAAbvH,YAGF,IAAMi6B,EAAe1yB,KAAKkgC,SAA1B,GACQ/P,EAdiB,iBAgBrBA,EAAJ,YACEj3B,4BAA4Bi3B,EAA5Bj3B,iBAGEw5B,EAAJ,YACE4M,iBAGFnP,wBAAkC7sB,IAClC6sB,qBAA+B7sB,IAC/B6sB,yBAAmC7sB,IACnC6sB,2BAAqC7sB,IACrC6sB,wBAAkC7sB,IAClC,IAAMi8B,EAAepP,gCAAmC7sB,KAmCxD,GAlCAi8B,gBAA2Bj8B,IAC3Bi8B,8BAiBAv/B,KAAA,kBAAyBtH,WAfzB,WACE6mC,mBAA8Bj8B,IAC9BtD,KAAA,wBAakCmgC,KAAD,MAAnC,KACAngC,KAAA,cAAqBtH,WAXrB,WACEy3B,2BAAqC7sB,IACrCtD,KAAA,oBAS8BogC,KAAD,MAA/B,KACApgC,KAAA,WAAkBtH,WAPlB,WACEy3B,wBAAkC7sB,IAClCtD,KAAA,iBAK2BqgC,KAAD,MAA5B,KAEAnC,GAAU/N,EAAV+N,OAEKxL,EAAL,WACEiN,iBAEFjN,qBAAgCpvB,IAChCovB,sBAAiCpvB,IACjCovB,wBAAmCpvB,IACnCtD,KAAA,mBACAA,KAAA,cACAA,KAAA,eAAoBA,KAApB,kBAEIsgC,YAAoBtgC,KAAxB,KAAmC,CACjC,GAAIpG,cAEF,YADAkmC,gBAGFC,iBAIJ,SAASQ,GAAiB3nC,GACxB,IAAM4nC,EAAc5nC,EAApB,cACA,IAAI4nC,qBAA+Bl9B,IAAnC,CACA,IAAMm9B,EAAoBzgC,KAAKkgC,SAASQ,WAAU,SAAAn7B,GAAI,OAAIA,SAAJ,KACtD,GAAIk7B,IAAsBzgC,KAA1B,kBAEA,IAAM2gC,EAAU3gC,KAAKvF,IAArB,wBAUIsI,EAAJ,EACM69B,EAAOlH,YAAW15B,KAAKjG,QAA7B,kBACA,IACEgJ,EAAS69B,EAAT79B,cAEFnH,aAXI9C,oCACAA,yBADAA,WAEAA,cAHF,WAYoB6nC,EAAbhjC,IAAD,EAAR/B,KACAokC,mBAGF,SAASa,KACPf,gBAGF,SAASgB,KACPxkB,gBAGF,SAASykB,GAAQ/9B,EAAMb,GAAO,WACpB1H,EADoB,SAEtBkwB,EAAQlwB,gBAAkBuI,UAAhC,OACM2wB,EAAUl5B,gBAAkBuI,UAAlC,SAEA,GAAIpJ,cAAuB,CACzB,IAAMonC,EAAc/hC,YAApB,0OACA+D,iBACA,IAAMi+B,EAAN,KACAD,4BAAsC,YACpC,IAAMtO,EAAe95B,mCAA4B0K,KAC3Cm9B,EAAoB,sBAAwB,SAAAl7B,GAAI,OAAIA,SAAJ,KAClDk7B,IAAsB,EAA1B,kBACAT,iBAJFgB,GAOAh+B,2GAAqG,YACnGpK,oBAEFoK,8GAAwG,YACtGpK,yBAGFoK,2BAA+Bu9B,QAA/Bv9B,UAGmBA,2BAAuBM,KAC5C49B,0BAA8B/+B,EAA9B++B,KAEA,IAAIC,EAAJ,KACA,GAAIvnC,mBACG,CACL,IAAMwnC,EAAiBzN,2BAA0BrwB,KACjD69B,EAAW,IAAI,GAAJ,OACTtoC,GAAIuoC,GACDA,EAFM,SAGL,CACF7D,OAAQsD,QADN,MAEFvD,QAASwD,iBAKf,MAAO,CACL99B,KADK,EAEL2nB,MAFK,EAGLgJ,QAHK,EAILwN,YAIJ,SAASE,KACP,IAAIC,EAAJ,uBAAmBrmC,cAEdkB,KAAD,YAAJ,GAC0B6D,KAAKvF,IAAI60B,iBAAiB,IAA1B,OAA8BhsB,KACtDi+B,SAAwB,SAAAC,GACtB,IACMxnC,EADgBwnC,2BAA6Bl+B,KACnD,IACA,IACEk+B,mDAMR,SAASC,KAAoB,IACnBhnC,EADmB,SAGrBinC,EAAajnC,8BAAyB6I,KACtCq+B,EAAelnC,2BAAsB6I,KAE3CtD,KAAA,SAAgB,UAAoB+gC,QAApC/gC,OACAA,KAAA,iBAAwBA,KAAKkgC,SAASQ,WAAU,SAAAn7B,GAAI,OAAIA,0BAA6BjC,OACrFtD,KAAA,iBAAwBA,KAAKigC,iBAAmB,EAAI,EAAIjgC,KAAxD,iBACAA,KAAA,YAAmBA,KAAKkgC,SAASlgC,KAAjC,kBAEAA,KAAA,OAAc,IAAI4hC,OAAOD,EAAc,CACrCjqB,cADqC,EAErCC,eAFqC,EAGrCF,MAHqC,EAIrCW,WAAY3d,2BAAsB6I,KAClC+U,WAAY5d,2BAAsB6I,KAClCu+B,cANqC,EAOrCtpB,YAAa,CACXC,IAAK,CACHd,cAAe1X,KAAKkgC,SADjB,OAEHvoB,gBAAgB,MAKtBqoB,cAAsBhgC,KAAtBggC,kBACAqB,gBAgBF,SAASS,KACP,OAAO9hC,KAAKmwB,YAAZ,MAGF,SAAS4R,KAAgB,IAjBGlpC,EAAIkD,EAC9B,EAgBuB,OACvB,OAlB0BlD,EAkBAmH,KAAD,IAlBKjE,EAkBM,cAClC,IAAMimC,EAAgBF,QAAtB,EAAsBA,GAEtB,KAAe,CACb,GAAIloC,cAEF,YADAooC,UAGFA,cAEAA,WA1BGxiC,aAAS,YACd,IAAIyiC,EAAU3B,YAAd,GACI2B,GAAJ,IACEC,IACA,mBAAWnmC,GACTA,EAASnD,EAATmD,MALN,KAgBO,KAAP,MAeF,SAASomC,GAAuBvpC,GAC9B,IAAMopC,EAAgBF,QAAtB,KAAsBA,GAGtB,GAFA,WAAkBhpC,yBAEH,CACb,GAAIc,cAEF,YADAooC,UAGFA,cAEAA,UAIJ,SAASI,KACHpiC,KAAKkgC,SAASn/B,OAAlB,GACAub,gBAGF,SAAS+lB,KACHriC,KAAKkgC,SAASn/B,OAAlB,GACAqb,gBAGF,SAAS,KACHljB,OAAJ,mBACE8F,cACAsjC,iBAAiB,mBAAoBP,QAArB,KAAqBA,IAArCO,GACAA,iBAAiB,OAAQP,QAAT,KAASA,IAAzBO,GACAA,iBAAiB,SAAUP,QAAX,KAAWA,IAA3BO,GACAA,iBAAiB,SAAUP,QAAX,KAAWA,IAA3BO,IAIExpC,SAAJ,kBACEA,6CAA8CqpC,QAA9CrpC,UAGF,OAAgBkH,KAAhB,IAA0B,CACxBq+B,UAAW+D,QADa,MAExB9D,WAAY+D,gB,IAIKE,G,WACnB,e,4FAAqB,SACnBviC,KAAA,wBAEAA,KAAA,IAAW05B,YAAW15B,KAAKjG,QAA3B,IAEKiG,KAAL,UAMA,IAAW9G,OAAP,iBACFA,0BAEFA,iCAGAuoC,gBACAtD,iBAZE99B,uC,sDAgBFic,kB,6BAIAF,kB,8BAIA0jB,kB,6BAIAC,qB,iOCpbiByC,G,WAKnB,e,4FAAoB,SAIlBxiC,KAAA,OAAc,WACZ,CACEvF,IADF,cAEEgoC,eAFF,EAGEC,iBAAkB,GAJtB,GAQA1iC,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,KACAtE,KAAA,UAAiB5G,IAAjB,qBACA4G,KAAA,UAAiBA,KAAKvF,IAAI+J,KAA1B,0BACAxE,KAAA,iCACAA,KAAA,WAAkB,cAAqBA,KAAKsE,OAA5C,SACAtE,KAAA,wBACAA,KAAA,cAAqBA,KAAKsE,OAA1B,cACAtE,KAAA,iBAAwBA,KAAKsE,OAA7B,iBAEAtE,KAAA,O,sDAIAA,KAAA,e,oCAIIA,KAAJ,YACEA,KAAA,iBAAsBA,KAAtB,KACKoN,SAAYpN,KAAb,cAAiCA,KAArC,eACEA,KAAA,aAAkBA,KAAlB,kB,8BAKE,WACNA,KAAA,sBAA2B,WACpB,EAAL,eACEoN,SAAY,EAAZA,WAA6B,EAA7BA,YAA+C,CAC7Cu1B,QAAS,EAAKD,mBAGlB,eAAiB,WACf,kBAAqB,EAArB,uB,mCAOD1rB,aAAD,0BACCA,aAFH,0BAIEhX,KAAA,cAEFA,KAAA,a,6MC/DiB4iC,G,WAEnB,e,4FAAoB,SAElB5iC,KAAA,OAAc,WACZ,CACEvF,IAAK,kBAFT,GAMAuF,KAAA,IAAW5G,IAAE4G,KAAKsE,OAAlB,KACAtE,KAAA,UAAiB5G,IAAjB,qBACA4G,KAAA,QAAeA,KAAKvF,IAAI+J,KAAxB,uBACAxE,KAAA,WAAkB5G,IAAlB,eACA4G,KAAA,O,sDAMAA,KAAA,e,oCAIIA,KAAJ,WACEA,KAAA,iBAAsBA,KAAtB,O,qCAIF,OAAOA,KAAK6iC,WAAZ,S,oCAEY,WAER7iC,KAAJ,gBACEA,KAAA,mDAEFJ,iBAAqB,SAAA0iB,GACfA,QAAJ,IACE,oBAAwB,MAAxB,UAEA,4B,mCAODtL,aADH,2BAGEhX,KAAA,cACAA,KAAA,oB,kCCxDO8iC,GAAQ,CACnBC,KADmB,EAEnBC,OAFmB,EAGnBC,SAHmB,EAInBC,OAAQ,GAGK,IACbJ,MADa,GAEb/e,KAFa,KAGb3kB,KAAM,cCIO,I,6EAAA,CACb,CACEiD,KADF,eAEE8gC,SAAU,kBAAM,0CAChBv5B,KAAMk5B,GAHR,OAIEM,SAAU,wBAEZ,CACE/gC,KADF,WAEE8gC,SAAU,kBAAM,0CAChBv5B,KAAMk5B,GAHR,SAIEM,SAAU,aAEZ,CACE/gC,KADF,eAEE8gC,SAAU,kBAAM,0CAChBv5B,KAAMk5B,GAHR,OAIEM,SAAU,yBAEZ,CACE/gC,KADF,gBAEE8gC,SAAU,kBAAM,0CAChBv5B,KAAMk5B,GAHR,OAIEM,SAAU,cAEZ,CACE/gC,KADF,iBAEE8gC,SAAU,kBAAM,0CAChBv5B,KAAMk5B,GAHR,OAIEM,SAAU,eAEZ,CACE/gC,KADF,UAEE8gC,SAAU,kBAAM,0CAChBv5B,KAAMk5B,GAHR,OAIEM,SAAU,eAEZ,CACE/gC,KADF,aAEE8gC,SAAU,kBAAM,0CAChBv5B,KAAMk5B,GAHR,OAIEM,SAAU,iBAEZ,CACE/gC,KADF,cAEE8gC,SAAU,kBAAM,0CAChBv5B,KAAMk5B,GAHR,KAIEM,SAAU,SAEZ,CACE/gC,KADF,eAEE8gC,SAAU,kBAAM,0CAChBv5B,KAAMk5B,GAHR,OAIEM,SAAU,kBAEZ,CACE/gC,KADF,UAEE8gC,SAAU,kBAAM,0CAChBv5B,KAAMk5B,GAHR,OAIEM,SAAU,UAEZ,CACE/gC,KADF,OAEE8gC,SAAU,kBAAM,0CAChBv5B,KAAMk5B,GAHR,OAIEM,SAAU,WCzERC,GAAN,GAEAA,GAASP,GAATO,MCRe,kBAAW,CACxB3P,UAAWrxB,IDQbghC,GAASP,GAATO,QETe,qBAAmB,IAAIC,EAAvB,SFUfD,GAASP,GAATO,UGVe,gBACb,IAAMp4B,EAAN,GAMA,OALAs4B,WAAc,YACZt4B,OAAW,IAAIq4B,EAAJ,QAAoB,CAC7B7oC,IAAK+oC,QAGT,GHIFH,GAASP,GAATO,QITe,kBACb,yBAAWtnC,EAAgC0nC,GAAP,KAC7B1nC,EAASsG,EAAMihC,EAAtB,I,ICAMR,GAAUW,GAAVX,MAEFY,GAAmB,SAAC,GAAD,gBAEnBC,GAA8B,SAAC,GAAD,qCAE9BC,GAAyB,SAAClQ,GAC9B,IAAM0P,EAAW1P,uBAA0B+P,GAA1B/P,uBAAjB,MACM6P,EAAQzqC,0BAAd,GACM8Q,EAAO8pB,QAAkBoP,GAA/B,KACM/mC,EAAW23B,YAAsB+P,GAAvC,KACA,MAAO,CACLphC,KAAMqxB,EADD,KAELyP,SAAUzP,EAFL,SAGL0P,SAHK,EAILx5B,KAJK,EAKL25B,MALK,EAMLxnC,aAIE8nC,GAA2B,SAAC,GAChC,OAD8C,EAAZN,MAC3BA,OAAP,GAGIO,GAA0B,SAAC,GAA8C,IAA5CzhC,EAA4C,EAA5CA,KAAMkhC,EAAsC,EAAtCA,MAAOxnC,EAA+B,EAA/BA,SAAUonC,EAAqB,EAArBA,SAAUv5B,EAAW,EAAXA,KAClE,OAAO,IAAIm6B,SAAQ,cACjBZ,UAAgB,YACd,IAAMa,ELnBG,mBAAUX,GAAV,GKmBOY,CAAhB,GACAC,EAAQF,EAAQ3hC,EAAMihC,EAASC,EAA/BW,OAFFf,OAGS,YACP9iC,qDACA8jC,YAcFC,GAAJ,K,8rBCsBuB,IDnBrB,aACE,G,4FADY,SACZ,GACE,UAGFpkC,KAAA,0BAhBKqkC,6CAAP,IAiBErkC,KAAA,kBAAyB+jC,QAAA,IAAY/jC,KAAKskC,uBAAuB54B,QAAO,0BACxE04B,UCaJG,wBAAsC,SAAAxhB,GAEpCyhB,2CAMkB,IAApB,GACmB,IAAnB,GADA,IAEIC,GAAJ,IAEA,WACE,0BAAID,MAAgD,CAClD,IAAME,EAAoB5rC,yBAA1B,UACI4rC,WAAJ,eACEA,sBACAA,uBAEAA,sBACAA,yBARN,GAeqB5rC,0BADrB,YAGA6rC,SAAqB,SAAAnB,GACnB,WACE3qC,GAAI2qC,GACDA,EAFL,aAOFpqC,KAAE,WACA,SAGF,IAAIwrC,GAAJ,GACAxrC,SAAOA,IAAPA,qBAA8B,cAC5BwrC,QACE,IAAI,GACF,WAAS,CACPnqC,IAAKrB,IAAER,UAMf,IAAIisC,GAAJ,GACAzrC,SAAOA,IAAPA,mBAA4B,SAAUqH,EAAG7H,GACvCisC,QAAkB,IAAI,GACpB,WACE,CACEpqC,IAAK7B,SAMb,IAAIksC,GAAJ,GACA1rC,SAAOA,IAAPA,gBAAyB,cACvB,IAAKA,YAAL,aAA6B,CAC3B,IAAM2rC,EAAe,IAAI,GACvB,WACE,CACEtqC,IAAK7B,GAEPQ,OALJ,SAQAA,2BACA0rC,eAIJ1rC,SAAOA,IAAPA,mCAA4C,cAC1CqrC,QACE,IAAI,GAAa,CACf5rC,GAAID,QAKV,IAAIosC,GAAJ,GACA5rC,SAAOA,IAAPA,gBAAyB,cACvB4rC,QACE,IAAI,GAAW,CACbnsC,GAAIO,IAAER,SAKZ,IAAIqsC,GAAJ,GACA7rC,SAAOA,IAAPA,oBAA6B,cAC3B6rC,QACE,IAAI,GAAe,CACjBpsC,GAAIO,IAAER,SAKZM,eACA,IAAIgsC,GAAJ,GACA9rC,SAAOA,IAAPA,gBAAyB,cACvB8rC,QACE,IAAI,GAAK,CACPrsC,GADO,EAEPssC,MAAOvsC,yCAKb,IAAIwsC,GAAJ,GACAhsC,SAAOA,IAAPA,uBAAgC,cAC9BgsC,QACE,IAAI,GAAO,CACTvsC,GAAIO,IAAER,SAKG,IAAf,GAEAQ,SAAOA,IAAPA,UAAmB,cACjB,OAAS,CACPP,GAAIO,IAAER,QAIE,IAAZ,GAEc,IAAd,GAFA,IAIIysC,GAAJ,GACAjsC,SAAOA,IAAPA,YAAqB,cACnBisC,QACE,IAAI,EAAO,CACTxsC,GAAID,QAKO,IAAjB,GAEY,IAAZ,KAI0BE,0BAD1B,iBAGAwsC,SAA0B,SAAA9B,GACxB,UACE3qC,GAAI2qC,GACDA,EAFL,aAOFpqC,SAAOA,IAAPA,6BAAsC,cAChCR,qBAAJ,uBACE,OAAwB,CACtBC,GAAID,IAGN,OAAmB,CACjBC,GAAID,OAKgB,IC5OxB,c,4FAA0B,SACxB,IAAIkO,EAAJ,KACA1N,oCAAkC,WAChC0N,sCAEF1N,qCAAmC,WACjC0N,sCAGF9G,KAAA,yBAAgC,cAC9B,EACE5G,6DAGW,CAAEiB,OAAF,QAAmBD,MAAnB,QAAmC8hB,QAAS,KAHvD9iB,QAKAA,6DAGW,CAAEiB,OAAF,OAAkBD,MAAlB,OAAiC8hB,QAAS,KAHrD9iB,SAOJA,4CAA0C,WACxC,IAAImsC,EAAOnsC,qDAAX,GAIAmsC,SAAcA,EAAdA,OAA4BA,EAA5BA,YDkNiB,IzD/OrB,c,4FAA0B,SAGxBnsC,0CAA0C,WAC/B4G,KAAKwlC,KAAd,QACAC,WAAczlC,KAAKwI,QAAnBi9B,eAGFrsC,mCAAkC,CAChCW,QAAS,CACP2rC,QAAS,oBAAqB,IADvB,gBAEPC,QAFO,sBAGPxM,UAHO,EAIPzZ,MAJO,IAKPkmB,qBALO,EAMPC,WANO,EAOPttC,QAPO,IAQPmQ,MARO,KASPpG,OATO,GAUPwjC,OAVO,EAWPC,uBAAuB,GAGzBC,QAAS,WACP,IAAIx9B,EAAUxI,KAAd,QACIjG,EAAUiG,KAAd,QACIimC,EAAalsC,uCAAjB,UAGImsC,EAAJ,KACIC,EAAJ,KACIC,EAAJ,KACIC,GAAJ,EAEIC,EAXc,GAuDlB,oBACE,IAAIhkC,EAAS,CAAEikC,EAAF,EAAQ38B,KAAR,EAAoBu8B,SAAUK,GACvCzsC,EAAJ,QACEuI,YAEF,IACEA,sBAEF,IACEA,6BAEF+jC,KAEA,IAAII,IAbyD,EAgB7DL,OAzDF,cACE,IAAIM,EAAoB37B,eAAxB,GACA,GAAIu7B,EAAJ,GACE,OAAO/e,EAAG+e,EAAV,IAEFltC,SAAO,CACLiM,IAAKtL,UADA,gBAEL4sC,SAAU5sC,gBAFL,OAGLwL,KAAMnM,gBAAqBW,EAHtB,QAILxB,QAASwB,EAJJ,QAKLkgB,QAAS,YACPqsB,OACA/e,MAEF7e,MAAO3O,EAAQ2O,QA6CjBwK,CAAI5Q,GAAQ,YACV,IAAIskC,EAAkB7jB,EAAA,QACZ,cACN,GACGrf,2BAAD,YAAkCA,SAClCA,OAFF,mBA+BEmjC,cA5BA,CAEA,IAAIC,EAAoB1tC,cAAxB,GACA0tC,SAlDV,EAkD6DpjC,EAAnDojC,KAjDJC,EAAUxhC,EAAd,QACIA,EAAJ,QACEwhC,GAAW,IAAMxhC,EAAjBwhC,QAEExhC,SAAcA,EAAlB,OACEwhC,QAEExhC,EAAJ,QACEwhC,GAAW,IAAMxhC,EAAN,MAAXwhC,KAEExhC,EAAJ,MACEwhC,GAAW,IAAMxhC,EAAjBwhC,KAEFA,QACIxhC,EAAJ,oBACEwhC,GAAWxhC,oBAAXwhC,MAEFA,GACExhC,0BAAgCA,EADlCwhC,wBAiCQD,gBAAkCA,EAAlCA,MAEA,IAAIE,EANJ,GASIT,IAAMO,EAAV,OACEE,UAKET,IAAM7iC,EAAV,OACEsjC,UAKAA,aADF,IAEET,UAAU7iC,OAAV6iC,sBAEAS,EAAO,CAACA,EAAD,GAAUA,EAAjBA,KAEFH,EAAOA,SAAPA,GAzEV,MACME,EA4EE,WAnCkB,SAqCf,YACH,MAAO,CACL1hB,MAAO3hB,EADF,cAELxC,MAAOwC,MAGT+iC,GAAJ,IAAgCG,UAE9Bp+B,MAAYo+B,WAAZp+B,OACAA,iBAAyB29B,EACvBS,WADFp+B,SAEAA,wBACA09B,yBAGEU,KAHFV,QAMA3e,QAKN,IAAI0f,EAAsB,gBAAsB,CAC9C1N,OAAQ,cACN,IAAIgN,EAAI58B,EAAR,KAEA,OADAw8B,EAAW39B,KAAX29B,eACOe,EAAwBjB,EAAYM,EAAGJ,EAA9C,IAEFgB,OAAQ,cACNrlC,mBACA,IAAIkB,EAAOokC,OAAX,MACI5+B,KAAJ,QACEA,OAAaxF,EAAbwF,OAoEV,YAEE,GADA3P,eAEE,IAAOK,OAAP,mBADF,IAESJ,SAAP,YACA,CACA,IAAIuuC,EAAQvuC,SAAZ,cACAuuC,wBACAA,eACA,IAAIC,EAAMpuC,OAAV,eACAouC,oBACAA,mBACK,YAAWxuC,cAAP,gBAAqD,CAC9D,IAAIyuC,EAAYzuC,cAAhB,kBACAyuC,uBACAA,eACAA,YAnFMC,CAAgBh/B,EAAhBg/B,MAEAh/B,MAAYxF,EAAZwF,OACAvH,sCACAuH,oBAA4BA,kBAA0B29B,EACpDnjC,EADFwF,UAIFA,+BAAqCxF,OAArCwF,QAEIxF,SAAJ,GACE,mBAAIA,SACFojC,EAAmBpjC,OAAnBojC,IAEF,YAAIpjC,SACFqjC,MAEF3tC,YAAW,WACT8P,8BAGFA,UADK,gBAELA,wBACA09B,gCAIN19B,kBACAA,0BAAgC,YAC9B1G,sBAIFiU,aAAY,WACV,IAAI0xB,EAAkBj/B,KAAtB,eAEEA,OAAe1P,SAAf0P,eACA29B,IAFF,IAIEA,IACA39B,4BAPJuN,QAaJ3c,2CAAyC,CACvC+tC,OAAQ,cAEN,GAAI/tC,eAAJ,kBAAoC,CAClC,IAEIwV,EAAS3N,UADC,gCACd,QACA2N,kBAAyBm4B,EAAzBn4B,KACAA,aAGJlG,MAAO,gBACLtP,kDAGQ,uBAAyBsuC,EAAS,MAH1CtuC,OyDeW,IEjPjB,c,4FAA0B,SACxB,IAGA,EAHIuuC,EAASxsC,oBAAsBA,UADX,aAKpBysC,EAAgBzuC,YAApB,IACI0uC,EAAqB,CACvBC,OADuB,GAEvBC,YAFuB,GAGvBC,YAHuB,GAIvBC,cAAe,IAJQ,KAKvBC,UAAW,IALY,KAMvBC,mBAAoB,YAClB,OAAOzuC,KACLiI,GAAQkmC,EADO,UAVrB,eAeEO,UAZuB,GAavBC,WAAY,WACVR,iBACAA,iBACAA,gBAAmC,IAAnCA,KACAA,YAA+B,IAA/BA,KACAA,iBAyCJ,gBACE,IACES,EAAMA,EAAA,iBAA2B,CAC/B7M,sBAD+B,EAE/B8M,sBAAuBC,IAEzB,MAAO1hB,GACPwhB,EAAMA,UAANA,GAEF,SAGF,gBACE,IAAK,IAAI7nC,EAAT,EAAgBA,EAAIgoC,EAApB,OAAgChoC,IAC9BgoC,KAASC,EAAeD,EAAD,GAAvBA,GAEF,SAGF,cACE,IAAIE,EAAWrmB,mCAAf,MACIwlB,EAASxlB,iCAAb,MACA,IACEwlB,EAAS1uC,yCAAT0uC,OAGF,IASIc,EATAC,EAASvmB,iCAPW,MAUpBwmB,EAAJ,GACIC,EAAJ,GACIC,EAAJ,GACIC,EAAJ,GAMAL,EAAY,CAAED,SAAF,EAAsBE,OAAQA,GAI1C,IAAIK,EAAJ,GACIC,EAAYR,EAAhB,OACIS,EAAJ,GACA9mB,8BACAlpB,SAAO,CACLiM,IAVFgkC,qCAWE9jC,KAAMqjC,IAFRxvC,MAIQ,YAMJ,GALA0vC,EAAOQ,EAAPR,OACAC,EAAOO,EAAPP,OACAC,EAAOM,EAAPN,OACAC,EAAOK,EAAPL,OAEA,IAAIH,SACFM,0EAEAF,SACK,CACLH,EAAOQ,EAAkBR,EAAzBA,GACAC,EAAOO,EAAkBP,EAAzBA,GACAC,EAAOM,EAAkBN,EAAzBA,GAEAC,4CACAA,qEAEAA,UACAA,oEAEAA,WACAA,cACAA,aACA,IAAK,IAAIzoC,EAAT,EAAgBA,EAAIqoC,EAApB,OAAiCroC,IAC/ByoC,UACAA,GAAU,OAASJ,EAAT,GAAVI,QACAA,GAAU,OAASH,EAAT,GAAVG,QACAA,GAAU,OAASF,EAAT,GAAVE,QACAA,GAAU,OAASD,EAAT,GAAVC,QACAA,WAEFA,cACAA,cACAE,EAAY,wBAAZA,EAGF9mB,qCACAA,2CACAA,iCA3CJlpB,OA6CS,WACLiH,8EAMN,cACE,IASA,EACA,EACA,EAXIsoC,EAAWrmB,mCAAf,MACIwlB,EAASxlB,iCAAb,MACIumB,EAASvmB,iCAAb,MACI5R,EAAU4R,kCAAd,MACIknB,EAAelnB,uCAAnB,MACA,IACEwlB,EAAS1uC,uCAAT0uC,OAMF,IAAI2B,EAAmBnnB,sBAAvB,oBACIonB,EAAYpnB,sBAAhB,mBACIqnB,EAASrnB,sBAAb,eAEA,eAAIonB,IACF,QAAIh5B,GACF4R,qDAIAA,6DAKAA,kFAKAumB,EAASvmB,iCAATumB,OAEAvmB,sDAOJ,IAAI+mB,EAAJ,GACIT,EAAJ,GACA,mBAAIc,EAA6B,CAC/BL,EAD+B,uCAG/B,IAAIO,EAAMf,QAAV,KACAD,EAAY,CACVd,OADU,EAEVa,SAFU,EAGVkB,UAAWD,EAHD,GAIVE,QAASF,EAAI,IAEfG,YACK,oBAAIL,GACTL,6CACAT,EAAY,CAAEd,OAAF,EAAkBa,SAAlB,EAAsCE,OAAQA,GAC1DkB,SACK,SAAIL,GACTL,wCACAT,EAAY,CAAEd,OAAF,EAAkBa,SAAlB,EAAsCE,OAAQA,GAC1DkB,SACK,eAAIL,GACTL,gCACAT,EAAY,CAAEC,OAAF,EAAkBF,SAAlB,EAAsCb,OAAQp3B,GAC1Dq5B,OACA,QAAIpB,EACFA,QACK,QAAIA,IAETA,QACAoB,UAEG,cAAIL,GACTL,gCACAT,EAAY,CAAEC,OAAF,EAAkBF,SAAlB,EAAsCb,OAAQp3B,GAC1Dq5B,SACK,kBAAIL,IACTL,2CACAT,EAAY,CACVd,OADU,EAEVe,OAAQhB,wBAEVkC,QACA,QAAIpB,EACFA,QACK,IAELA,UAIJ,IAAIqB,EAASrB,MA7FW,EAiGxBrmB,8BACAlpB,SAAO,CACLiM,IADK,EAELE,KAAMqjC,IAFRxvC,MAIQ,YACJmM,EAAO+jC,EAAP/jC,QACA0kC,EAASX,EAATW,QAEA,IAAIC,EACFC,EAAmB7nB,sBADrB,kBAGA,GAAI/c,cAAJ,IAAyB0kC,SACvB,kBAAIP,GACF7B,oBACEA,gBADFA,WAGAuC,EAAsBF,EAAtBE,KAEA9nB,wGAKAA,iCACAA,6BAEG,CACL,GAAIknB,GAAgBA,EAApB,GAAuC,CACrC,IAAIa,EAsWd,gBACE,IAAIC,EAAeC,EAAcf,GAAjC,GACIgB,EAiDN,YACE,IAAIC,EAAYR,EAAhB,GACIS,EAAOD,WAAX,GACIE,EAAKF,WAAT,GACIG,EAAKH,WAAT,GACID,EAAY,IAAhB,KAEA,OADAA,gBAA4BG,EAA5BH,KACA,EAxDgBK,CAAhB,GAEIP,EAAJ,IACEA,KAEF,IAAIQ,EAAqBC,EAAzB,GACIC,EAAcf,UAAlB,GAEIlnC,EAAJ,EACA,UAAOioC,GAAoB,CAGzB,IADAV,EAAeC,IADfxnC,GACqC,EAArCunC,IACA,EAA8B,CAC5BA,IACA,MAEFQ,EAAqBC,EAArBD,GACAE,EAAcf,UAAde,GAGF,IAAIjoB,EAAJ,GAGA,OAFAA,OAAcxd,QAAdwd,GACAA,SAAgBknB,QAAhBlnB,GACA,EA/X2BkoB,CAAoB,EAAD,EAAtC,GAKA1lC,EAAO8kC,EAAP9kC,KACA0kC,EAASI,EAATJ,OA+CF,GA5CAC,mDACAA,mDAEA,kBAAIR,IACF,IAAI7B,SACFA,WACSA,UAAJ,IACLA,eACAA,YAICA,2BACCA,EAHJ,wBAMEA,YACEA,EADFA,yBAIFA,cACEA,EADFA,sBAEIyB,EAFJzB,KAGAA,cACEA,EADFA,sBAEIyB,EAFJzB,KAGAzuC,4CAEEyuC,cACEA,EADFA,8BAFFzuC,QAQAA,4CAEEyuC,cACEA,EADFA,8BAFFzuC,QAQA8xC,KAEF,QAAIhB,cAAgC,CAEhCiB,EADF,kBAAIzB,EACW,CACX0B,OADW,EAEXC,KAFW,EAGXC,OAHW,EAIXC,KAJW,EAKXC,SALW,GAMXC,SAAU,GAGC,CACXL,OADW,EAEXC,KAFW,EAGXC,OAHW,EAIXC,KAJW,EAKXC,SALW,EAMXC,SAAU,GAGd,IACElmC,EAAA,QAAY,WACV,OAAOvF,KAAP,KADF,SAIAkqC,gDAEF,IAAK,IAAIzpC,EAAT,EAAgBA,EAAIwpC,EAApB,OAAmCxpC,IAAK,CACtC,IAAIkB,EAAO,IAAI+pC,KAAKzB,EAApB,KACAtoC,EAAOA,EAAPA,YACA,KACEA,EAAO,IAAPA,GAEFsoC,OAGFC,uDACAA,sDACAA,mCAA4C,cAI1C,IAAI92B,EAAI7N,EAAI,OAAWomC,YACnBC,EAAWhkC,YAAf,EAIA,OAHIgkC,EAAJ,KACEA,EAAW,IAAXA,GAEK,OAASx4B,EAAI,IAApB,QAGF,IAAK3S,EAAL,EAAYA,EAAIwpC,EAAhB,OAA+BxpC,IAC7BwpC,KAAYvwC,KAAWuwC,EAAD,GAAtBA,GAGJ,WAAIC,cAAgC,CAClC,IAAKzpC,EAAL,EAAYA,EAAIwpC,EAAhB,OAA+BxpC,IAE3BwpC,KADExpC,EAAJ,GACc,IAAZwpC,EAEYxpC,EAAZwpC,WAGJC,mCAA4C,cAI1C,IAAI92B,EACF7N,WAAcomC,EAAdpmC,mBACEomC,EAFJ,OAQA,OAJAv4B,EAAIA,EAAA,uBAA0B,CAC5BqoB,sBAD4B,EAE5B8M,sBAAuB,KAElBn1B,IAAP,GAEFha,4BAA0ByyC,EAAgBtmC,EAA1CnM,IACAA,+CAES,WACL,IAAI2sB,EAAJ,iBACI+lB,EAAU1yC,UAAd,MACA,GAAIF,iBAAJ,iBAAuC,CACrC,IAAI6yC,EAAO,IAAIC,KAAK,CAAT,GAAoB,CAAEpiC,KAAM,aACvC1Q,sCAEAE,sBAEE,+BACE4N,mBAHJ5N,IAKAA,gCAGN,kBAAIswC,GACFtwC,yDAII,CAAE+wC,mBAAF,EAA0C7nB,IAAKA,GAJnDlpB,GAOAA,yDAII,CAAE+wC,mBAAF,EAA0C7nB,IAAKA,GAJnDlpB,KAQAA,mDAII,CAAE+wC,mBAAF,EAA0C7nB,IAAKA,GAJnDlpB,GAOAA,mDAII,CAAE+wC,mBAAF,EAA0C7nB,IAAKA,GAJnDlpB,SASF8wC,mCAA4C,cAU1C,OANQxB,EACNnjC,WAAcomC,EAAdpmC,mBACEomC,EAFkB,OAAtB,GAMOv4B,IAAP,GAIJkP,iCACAA,wBACA,QAAI4nB,cACF+B,EAAgB/B,GAJlB,IAMEA,0BACAA,gBACAA,eAGJ5nB,iCAvOJlpB,OAyOS,WACLiH,8EAMN,gBAEE,IADA,IAAI+nC,EAAJ,uBACS3nC,EAAT,EAAgBA,EAAIwpC,EAApB,OAAmCxpC,IACjC2nC,GACE6B,EAAA,OAEA1kC,EAAA,0BAAgC,CAC9Bk2B,sBAD8B,EAE9B8M,sBAAuB,IAL3BH,OASF,SAgBF,cAEIP,cAA+BA,EADjC,uBAOEuC,EAHEtoC,0BACEA,+BAFJ,kBAIAsoC,GAIJ,cAEIvC,cAA+BA,EADjC,uBAOEuC,EAHEtoC,0BACEA,+BAFJ,mBAIAsoC,GAIJ,gBACEvC,wBACEA,YADFA,WAGAA,oBACEA,sBADFA,GAGAqD,IAGErD,2BACEA,EAHJ,uBAMEsD,OACEtD,YAA6BA,EAD/BsD,sBAEAjB,wBAAiCiB,EAAjCjB,KACAA,cACA9wC,4BACEyyC,EAAgBV,EAAD,KAAkBA,EADnC/xC,UAIA8yC,EAAY9yC,IAAZ8yC,yCAEF9yC,4CAEEyuC,cAA+BA,EAA/BA,8BAFFzuC,QAMAA,4CAEEyuC,cAA+BA,EAA/BA,8BAFFzuC,QAQF,aACE,IAAI+yC,EAAY,IAAIT,KAAK7D,EAAzB,WACIuE,EAAa,CAAEC,QAAS,QAExBC,EACFH,oDAIAA,mCALF,GAMA/yC,yBACEkzC,MAAgBH,yBARA,CAAE9nC,KAAF,UAAmBD,MAAnB,OAAkCmoC,IAAK,aAY3D,cAEIpB,IACCA,OAAD,GAAwBA,EAAxB,UAA+CA,OAFjD,SAIEA,OAAkBA,OAAlBA,EAKAc,EAHEnqC,0BACEA,+BAFJ,oBAQJ,cACMqpC,GAAcA,OAAlB,IACEA,OAAkBA,OAAlBA,EAKAc,EAHEnqC,0BACEA,+BAFJ,oBAQJ,gBACE,QACA,GAAI8lC,IAAJ,EAAgC,CAC9B,IAAI3X,GAAckb,OAAD,GAAwBA,EAAzC,SACIqB,EAAWrB,OAAkBA,EAAjC,SACA5lC,EAAO4lC,eAAP5lC,GACA0kC,EAASkB,iBAATlB,QAEA1kC,EAAO4lC,EAAP5lC,KACA0kC,EAASkB,EAATlB,OAEFC,0BACAA,gBACAA,cA+BF,kBACE,IAAIuC,EAAcC,GAA4B,IAA9C,KAMA,OALA,IAAIC,EACFF,WAAqBA,aAArBA,GAEAA,UAAoBA,YAApBA,GAEF,EAGF,cACE,IAAI7B,EAAKjpC,EAAT,UACIgpC,EAAKhpC,aAAT,EAQA,OANIipC,EAAJ,KACEA,EAAK,IAALA,GAEED,EAAJ,KACEA,EAAK,IAALA,GALShpC,EAAX,cAOO+oC,YAAP,qBA3pBFtxC,KAAE,WACAA,0BAAuB,YACrBA,8CAEyB,GAFzBA,GAGA8yC,EAAY9yC,IAAZ8yC,UAGF9yC,yCAAsC,WACpCwzC,EAAYxzC,IAAZwzC,aAIJxzC,iCAA8B,WAK5B,iBAJgBA,uCAAhB,oBAKEyuC,eAEFqE,EAAY9yC,UAAZ8yC,aAGF9yC,gDAA6C,WAC3CwzC,EAAYxzC,UAAZwzC,aAGFzzC,YAAY,WACV,IACI0zC,EADQ3zC,OAAZ,WACA,IACI2zC,GAAJ,IACEjF,IAwcJ,YAEE,oBADgBtlB,sBAAhB,mBAEE,OAEF,MACE,OAIF2pB,EADE9B,EAAmB7nB,sBADrB,mBA/cEwqB,CAAkB1zC,IAAlB0zC,2BAuoBJ,IAAIvnC,EAAJ,GACI0kC,EAAJ,GAEA8C,wCACAA,kEACAA,mDACAA,+CACAA,8CAEA,IAAI5C,EAAJ,GAEA/wC,yCAEQ,WACJ,IAAI4zC,EAAJ,UACIC,EAAa7zC,eAFF,oBAKXwQ,EAAOqjC,GAAX,OAEI7iB,EAAU,CACZ7kB,KADY,EAEZ2nC,YAFY,EAGZC,MAHY,EAIZC,YAJY,EAKZC,qBALY,EAMZC,iBANY,EAOZC,eAPY,GAQZC,QAAS,IAEPC,EAAQ,CACVC,UAAW,CACTC,cADS,EAETC,cAAe,cAEjBC,WAAY,CACVhwC,SADU,EAEViwC,UAFU,OAGVC,SAAU,IAEZC,MAAO,CACLC,YAAa,IAIbC,EAAQ,CACVR,UAAW,CACTC,cADS,EAETC,cAAe,cAEjBC,WAAY,CACVhwC,SADU,EAEVswC,YAFU,OAGVL,UAHU,OAIVC,SAAU,IAEZC,MAAO,CACLC,YAAa,IAIbG,EAAJ,GACIC,EAAJ,GAGA,iBADgBj1C,eAAhB,qBAEEi1C,OAAa,CACXhiC,GADW,QAEXiiC,WAAY,SAAoBC,EAAOzsC,EAAO/H,GACxC+H,uBAAJ,cAAmCA,OACjC9B,KAAA,UAAiB8B,2BAAjB,QAEAA,qBADK,YAELA,SAEA9B,KAAA,QAAe8B,2BAAf,QACI9B,KAAKwuC,UAAYxuC,KAArB,SACEjG,aAAmB,CACjBwL,KAAM,CACJ4kC,mBADI,EAEJ7nB,IAAKlpB,IAAE,mBAIT4G,KAAKwuC,UAAYxuC,KAArB,SACEjG,aAAmB,CACjBwL,KAAM,CACJ4kC,mBADI,EAEJ7nB,IAAKlpB,IAAE,uBAOnBg1C,EAAgB,CACdK,MAAO,CACLC,WADK,EAELC,WAAYC,KAKlB,IAAI70C,EAAU,CACZ80C,OAAQ,CAAEhxC,SAAS,GACnBixC,OAAQ,CACNC,MAAO,CADD,GAENC,MAAO,CAACd,IAEVe,SAAU,CACRC,eAAe,GAEjB1nB,OAAQ,CAAC,YAAa,aATV,YAUZ7a,SAAU,CACRrP,KAAM,CACJ6xC,QADI,EAEJC,gBAFI,QAGJC,YAAa,IAGjBhB,QAASD,GAGX,QAAIxkC,IACFwgB,oBACArwB,QAAgB,CAAEu1C,KAAM,MACxB7B,qBACAS,mBAJkB,EAMlBA,uBACAT,0BACAS,0BACAT,4CACAA,wBACAS,yCACAA,iCACAA,yBACAA,uCACAA,4BACAT,uCACAA,4BACAA,oBAGFtD,OACE,IAAI,GAAJ,OAAgB,CACdvgC,KADc,EAEdrE,KAAM,CACJ0kC,OADI,EAEJsF,SAAU,CAACnlB,IAEbrwB,QANc,EAOds0C,QAASA,SFzmBJ,IAAjB,EANA,IAQImB,GAAJ,GACAp2C,SAAOA,IAAPA,WAAoB,cAClBo2C,QACE,IAAI,GAAM,CACR32C,GAAID,QAKQ,IAAlB,EAEkB,IAAlB,GAEiB,IAAjB,EAEkB,IAAlB,EAE2B,IAA3B,EAEe,IAAf,GAEsB,IAAtB,EAE+B,IAA/B,EAE0B,IAA1B,EAE2B,IAA3B,EAEY,IAAZ,GAEkB,IAAlB,GAEkB,IAAlB,GAEAQ,SAAOA,IAAPA,0BAAmC,cACjC,OAAwB,CACtBP,GAAIO,IAAER,QAIV,IAAI62C,GAAJ,GACAr2C,SAAOA,IAAPA,cAAuB,cACrB,IAAKA,YAAL,YAA4B,CAC1B,IAAMs2C,EAAc,IAAI,GACtB,WACE,CACE72C,GAAID,GAENQ,OALJ,SAQAA,0BACAq2C,eAIQ,IAAZ,GAEc,IAAd,GAGmB32C,0BADnB,UAEA62C,SAAmB,SAAAnM,GACjB,WACE3qC,GAAI2qC,GACDA,EAFL,aAMyB,IAA3B,EAEgB,IAAhB,GAFA,IAIIoM,GAAJ,GAEAx2C,gCAA6B,cAC3Bw2C,QAAY,IAAI,GACd,WACE,CACEn1C,IAAK7B,SAMb,IAAIi3C,GAAJ,GAEAz2C,4BAAyB,cACvBy2C,QAAkB,IAAI,GACpB,WACE,CACEp1C,IAAK7B,SAMS,IAAtB,EAIA,IAAKQ,qBAAL,yBAEkB,IAAI,EAAW,CAC7BP,GAD6B,yIAG7Bge,kBAH6B,yBAI7BF,YAJ6B,sBAK7BC,mBAL6B,kBAM7BH,UAN6B,eAO7BK,cAP6B,GAQ7BC,UAAW,MAIf,IAAI+4B,GAAM12C,IAAV,kBACI22C,GAAJ,eACAD,SAAS,cACP,IAAMr1C,EAAMrB,IAAZ,GACKqB,OAAL,KACEA,UAAwB,IAAI,GAAJ,EAAwBA,EAAhDA,YAKJrB,mBAAgB,WACd42C,qBAIF52C,KAAE,WACAA,qBAAkB,WAChB,IAAI6rB,EAAQ7rB,IAAZ,MACI62C,EAAWhrB,OAAf,iGAGA,OAAIgrB,SAAuB,CACzB,IAAIC,EAAO,uCAAuCxgC,QAAQ,SAExD,YACE,IAAIygC,EAAI,GAAC/0C,cAAT,EAEA,OADMG,SAAe,EAAC40C,EADtB,GAEOC,SAAP,OAGJh3C,IAAE62C,EAAF72C,iBACA6rB,mCAMN7rB,KAAE,WAKAA,qCAAmC,CACjC2D,MADiC,EAEjC42B,QAAS,WACP,IAAIA,EAAUv6B,eAAd,wBACA,OAAOA,iCAAP,QAIFizB,MAAO,WACL,IAAIA,EAAQjzB,eAAZ,wBACA,OAAOA,oCAAP,UAMJA,0BAAwB,YACtBA,2DAAwD,WAInDA,aAAWR,EAAZ,aACAQ,cAAYR,EAAZQ,gBADA,IAEAA,oBAAkBR,EAAlBQ,gBACCR,4BAJH,iBAQMQ,8CADF,aADF,WADA,YAeRA,qBAAkB,WAGhBA,yBAAsB,YACpB,IAAImd,EAAYnd,IAAhB,mBAEKmd,KAAL,cAGGA,KAAa3d,EAAd,SADF,IAEE2d,MAAc3d,EAAd2d,gBAGAA,gBAKNrd,iBAAmB,YACjB,uBAAWgI,EAA2BA,oBAAtC,GACYA,SAAP,IAGuC,IAA9C,EAEA9H,SAAOA,IAAPA,uBAAgC,cAC9B,OAAW,CACTP,GAAID,OAOkBE,0BAD1B,mBAGAu3C,SAA0B,SAAA7M,GACxB,OAAiB,CACf3qC,GAAI2qC,OAKR,IAAI8M,GAAJ,GACAl3C,SAAOA,IAAPA,iBAA0B,cACxBk3C,QACE,IAAI,GAAY,CACdz3C,GAAIO,IAAER,SAOeE,0BAD3B,mBAGAy3C,SAA2B,SAAA/M,GACzB,WACE3qC,GAAI2qC,GACDA,EAFL,aAOF,IAAIgN,GAAJ,GACAp3C,SAAOA,IAAPA,kBAA2B,cACzBo3C,QACE,IAAI,EAAa,CACf33C,GAAIO,IAAER,SAKZQ,SAAOA,IAAPA,0BAAmC,cACjC,OAAyB,CACvBP,GAAIO,IAAER,QAIVQ,SAAOA,IAAPA,aAAsB,cACpB,OAAY,CACVP,GAAIO,IAAER,S,sWGrhBV,WACI,cACI,OAAO,SAAU4C,GACbwE,KAAA,MAGR,cACI,OAAO,WACH,OAAOA,KAAP,IAGR,kBAmBI,GAlBAA,KAAA,SAAeywC,YAAf,aACAzwC,KAAA,IACAA,KAAA,KACAA,KAAA,KACAA,KAAA,GAAU,CAAC,GAAI,GAAI,GAAI,GAAvB,IACAA,KAAA,KACAA,KAAA,GAAS,EACTzE,EAAIA,GAAJA,GACAyE,KAAA,EAASzE,YAAT,GACAyE,KAAA,EAASzE,sBAAT,EACAyE,KAAA,EAASzE,WAAT,EACAyE,KAAA,EAASzE,UAAT,GACAyE,KAAA,EAASzE,aAAeyE,KAAxB,EACAA,KAAA,EAASzE,kBAAoByE,KAA7B,EACAA,KAAA,GAAS,EACT,MAAUzE,EAAV,cAA4ByE,KAAK0wC,EAAIn1C,EAArC,aACAyE,KAAA,GAAS,EACT,MAAUzE,EAAV,gBAA8ByE,KAAKmwC,EAAI50C,EAAvC,gBACKyE,KAAKyc,EAAV,OAAoB,CAChBlhB,IACA,IAAK,IAAL,EAAY3C,EAAIoH,KAAK2wC,GAArB,GAA4Bp1C,IAAKyE,KAAA,OAAY,CACzCqF,IAAKrF,KAAK4wC,GAAKr1C,EAAV,OAAyByE,KADW,EAEzC3F,OAFyC,EAGzCD,MAAOxB,IAGfoH,KAAA,UACAA,KAAA,EAASA,KAAKzE,EAAd,UACA,IAAIgQ,EAAJ,KACAklC,8BAA8BzwC,KAA9BywC,kBAAsD,WAClD,IAAItvC,EAAIoK,IAAR,UACAA,SAAaA,MAASA,EAAtBA,QAEJklC,8BAA8BzwC,KAA9BywC,UAA8C,WAC1CllC,SAEJ/P,GAAKA,EAALA,QAAiBwE,KAAK6wC,EAAEr1C,GAAG,GAE/B,gBACIA,KAAM,EACNA,aAAei1C,OAAA,oCAA4C,WACvDj1C,KAAM,EACN2F,SAEJA,IAAEA,KAAFA,GAEJ,gBACI,IAAI5F,GAAJ,EACA,GAAI4F,IAAJ,QAAiB5F,EAAI4F,IAAEA,QAAvB,QACK,IAAK,IAAL,EAAS7F,EAAJ,EAAc1C,EAAIuI,IAAvB,GAA+B7F,IAAK,GAAI1C,GAAJ,EAAY,CACjD2C,IACA,MAEJ,OAAK,GAAL,IACAC,YACA2F,IAAEA,OAAFA,MACO,GAEX,cACI,GAAIA,EAAJ,EAAS,IAAK,IAAL,EAAS3F,EAAI2F,IAAI,IAAIsvC,YAAJ,aAA6BtvC,gBAA7B,eAA6DA,gBAAzE,iBAA2G5F,EAA3G,EAAqHD,EAAI6F,IAA9H,GAAsI5F,IAAK,IAAKD,EAAD,GAAQE,WAAWF,EAAvB,OAAiC,CACjL,IAAK,IAAI1C,EAAJ,EAAWk4C,EAAX,IAAoBC,EAApB,EAA2Bh8B,EAA3B,EAAkCyF,OAAI,EAAQA,EAAI5hB,IAAvD,GAA+Dmc,IAAK,CAEhE,GADI0H,EAAIjC,EAAR,YACO,CACH,IAAI21B,EAAI70C,EAAR,MACA,GAAKmhB,GAAL,EACK,KAAIrJ,GAAK+8B,QAAU1zB,EAAX,OAAsBrhB,KAAtB,GAAR,IACDmrC,GAAK4J,QAAU1zB,EAAX,OAAsBrhB,KAAtB,GADH,IAEDqhB,EAAIrhB,SAASgY,EAAThY,GAAkBA,SAASgY,EAA3BhY,GAAoCA,SAASqhB,QAAUrhB,KAAVqhB,GAATrhB,KAAoCA,SAAS+0C,QAAU/0C,KAAV+0C,GAA7C/0C,KAAwEA,SAASmrC,EAAjFnrC,GAA0FA,SAASmrC,EAF1I,GAGD9pB,EAAI,MAAQrhB,WAAWA,UAAXA,GAAyBA,UAAU,EAH9C,SADSqhB,EAAd,EAKAA,MAAUq0B,IAAOC,EAAjBt0B,IAGRs0B,GAAKA,aAAaz1C,EAAlBy1C,OAA6BA,IAA7BA,KAAuCv2B,EAAI,IAAIpO,EAARoO,IAAcA,EAAdA,GAAsB5hB,SAA7Dm4C,KAGR,cACI/wC,KAAA,IACAA,KAAA,EAASmB,EAAT,SACAnB,KAAA,EAASmB,EAAT,IACAnB,KAAA,EAASmB,EAAT,EACAnB,KAAA,EAASmB,EAAT,EACAnB,KAAA,IACAA,KAAA,KACAA,KAAA,IACAA,KAAA,EAAS,IAAI+wC,EAAE/wC,KAAMmB,EAAZ,IAAmBA,EAA5B,KAEJ,cACIA,IAAMA,MAAM,IAAIsvC,YAAJ,aAA6BtvC,EAA7B,EAAkCA,EAA9CA,IAEJ,SAAA4vC,EAAA,OACI5vC,aAAcsvC,YAAdtvC,aACAnB,KAAA,IACAA,KAAA,GAAUzE,GAAV,EACAyE,KAAA,IACAA,KAAA,IACAA,KAAA,EAASmB,EAAT,SACAnB,KAAA,EAASA,KAAKxE,EAAd,EACAwE,KAAA3E,GAAS,EACT2E,KAAA,OAAYA,KAAZ,GAEJ,gBACI,IAAIzE,EAAI4F,uCAAR,GAGA,OAFA5F,KAAOqM,SAASzG,IAAD,EAAf5F,IACAA,KAAOqM,SAASzG,IAAD,EAAf5F,IACA,EAEJ,cACI4F,MAAQA,kBAARA,QACAA,KAAM,EAEV,gBACI,IAAI5F,EAAJ,GAKA,OAJAA,OAAO,wBAA0B4F,EAA1B,GAAP5F,MACAA,OAAO,wBAA0B4F,IAAMA,EAANA,EAA1B,OAAP5F,KACA,aAAoB4F,EAApB,IAA2B,iBAAoBA,IAApB,IAA8B,EAAIA,IAAlC,IAA4CA,OAASA,EAArD,EAA2D5F,OAAO,WAAa4F,IAAMA,IAAnB,uBAAkDA,IAAlD,GAAlE,OAAsI5F,OAAO,UAAY4F,EAAZ,qBAAuCA,EAAvC,EAA7I,OAAkM,iBAAoBA,IAApB,IAA8B,EAAIA,IAAlC,IAA4CA,OAASA,EAArD,EAA2D5F,OAAO,UAAY4F,IAAMA,IAAlB,wBAAkDA,IAAlD,GAAlE,OAAsI5F,OAAO,SAAW4F,EAAX,EAA1W,2BAAwZ5F,OAAO,UAAY4F,EAAZ,qBAAuCA,EAAvC,eAA4DA,EAA5D,EAA/Z,0BACA5F,OAAO,uBAAyBC,EAAzB,cAA6CA,EAA7C,gBAAmE2F,IAAMA,EAANA,EAAnE,sDAAyIA,IAAMA,EAANA,EAAzI,IAAP5F,sDACOA,OAAP,IAEJ,MAAIy1C,EAAJ,MAEAp4C,EAAI0C,EAAJ1C,WACAA,4FACAA,UACAA,SAAW,SAAUuI,EAAG3F,GACpB,OAAO,SAAU2F,GACb,IAAK,IAAL,KAAcA,EAAd,UAA2BnB,KAAA,aAAoBmB,YAApB,GAC3B,aAFG,QAGI,CAHX,KAKJvI,QAAU,WACNoH,KAAA,IAAWA,KAAKixC,GAAI,EAAI51C,EAAxB2E,QAEJpH,OAAS,aACTA,IAAM,WACF,IAAK,IAAL,EAASuI,EAAInB,KAAR,IAAkBxE,EAAI,IAAIi1C,YAA1B,aAAoDl1C,EAApD,EAA8DD,EAAI6F,EAAvE,GAA6E5F,IAAKC,SAASF,EAATE,eAClFwE,KAAA,gBAEJpH,IAAMk4C,EAANl4C,KACAA,IAAMk4C,EAANl4C,KACAA,IAAM,WACF,OAAOoH,KAAKmB,EAAZ,QAEJvI,KAAOmc,EAAPnc,KACAA,IAAMk4C,EAANl4C,KACAA,IAAM,SAAUuI,EAAG3F,GACf,IAAK,IAAID,EAAJ,EAAWD,EAAI6F,EAAf,OAAyBvI,EAA9B,EAAqC,IAArC,GAA+CA,EAAIgP,SAAShP,EAAD,GAAZA,IAA0B2C,IAEzE,MAAO,CACHgE,KADG,EAEH4C,MAHJ5G,EAAIH,WAAJG,KAMJ3C,IAAMmc,EAANnc,KACAA,IAAMk4C,EAANl4C,KACAA,IAAM,SAAUuI,EAAG3F,GACf,IAAK,IAAL,EAASD,EAAJ,EAAcD,EAAI6F,EAAvB,GAA6B5F,IAAKgrC,EAAEvmC,KAAFumC,GAClC/qC,GAAKwE,KAALxE,KAEJ5C,IAAM,SAAUuI,EAAG3F,GACf+qC,EAAEvmC,KAAFumC,GACA/qC,GAAKwE,KAALxE,KAEJ5C,IAAM,SAAUuI,EAAG3F,GACf,IAAID,EAAIkf,EAAEza,KAAV,GACA,QAAQxE,IAAKD,KAAKyE,KAAKwa,IAAKxa,KAAV,KAAoB,IAE1CpH,IAAM,SAAUuI,EAAG3F,GACf,IAAK,IAAL,EAASD,GAAI,EAAID,EAAZ,EAAsB1C,EAAIuI,EAA/B,GAAqC7F,IAAK1C,EAAI6hB,EAAEza,KAANpH,GAAgB2C,EAAIA,GAApB3C,EAC1C,IAAK4C,GAAL,EAAa,OAAOwE,KAAKwa,IAAKxa,KAAV,KAAoB,GAE5CpH,IAAM,WACF,OAAOoH,KAAK+wC,EAAZ,QAEJn4C,SAAWk4C,EAAXl4C,KACAA,SAAWmc,EAAXnc,KACAA,IAAMk4C,EAANl4C,KACAA,KAAOmc,EAAPnc,KACAA,IAAM,SAAUuI,GACZ,IAAI3F,EAAIwE,KAAR,gBACIzE,EAAI,IAAIk1C,YAAJ,OAAuBtvC,iBAAvB,MAA+CA,iBADvD,OAEI7F,EAAI,IAAIm1C,YAAJ,OAAuBtvC,iBAAvB,MAA+CA,iBAFvD,OAaA,OAVI5F,EAAIC,uBAHR,IAIAD,GAAOyE,KAAPzE,EACAA,KAAOyE,KAAPzE,GACAD,EAAIE,uBAAJF,IACAA,GAAO0E,KAAP1E,EACAA,KAAO0E,KAAP1E,EACAC,EAAIC,uBAAJD,GACAC,EAAIA,uBAAJA,GACA2F,YACAA,YACA,GAEJvI,IAAM,WACFoH,KAAA,GAAO,GACPA,KAAA,MAEJpH,IAAM,SAAUuI,GACZ,IAAK,IAAL,EAAS3F,EAAJ,EAAcD,EAAIyE,KAAK+wC,EAA5B,GAAkCv1C,IAAKD,WACvC,IAAKC,EAAL,EAAYD,EAAIyE,KAAKmB,EAArB,GAA2B3F,IAAKD,KAAM,EAAI4F,GAAK5F,SAAfA,GAChCyE,KAAA,MAEJpH,IAAM,WACF,IAAIuI,EAAInB,KAAK+wC,EAAb,QACA/wC,KAAA,WACAA,KAAA,IACAA,KAAA,IACA9G,mBAAkB,WACd,IAAK,IAAL,EAASsC,EAAJ,EAAcD,EAAI4F,EAAvB,GAA6B3F,IAAKD,aADtCrC,IAIJN,IAAM,WACFyC,UAEJzC,EAAIwT,EAAJxT,WACAA,EAAM,SAAUuI,GACZ,MACAA,EAAG,GAAInB,KAAKmB,EAAT,QAAoB3F,GAAK,GAAKwE,KAAKmB,EAAE6iB,QAArC,OACE,CACDxoB,IACA,IAAK,IAAL,EAAYD,EAAIyE,KAAKmB,EAArB,GAA2B3F,IAAK,GAAID,GAAJ,EAAY,CACxCC,GAAI,EACJ,QAEJA,GAAI,EAER,KAAO,OAAO,EAMd,GALAwE,KAAA,EAASA,KAAKmwC,IAAM50C,EAAIyE,KAAKmB,EAAEJ,OAAXxF,EAAuBC,GAAKwE,KAAK1E,EAAE41C,OAAS31C,EAAhB,GAAyB4F,QAA1B,OAA3B5F,EAAyEA,GAAKyE,KAAK1E,EAAE61C,OAAS51C,EAAhB,GAAyB4F,QAA1B,OAA7E5F,EAA2HyE,KAAK1E,EAAI,IAAIm1C,YAAJ,SAApIl1C,GAAkK61C,EAAtLpxC,QAAkMA,KAAK1E,EAAI6F,EAAT,MAAkBiwC,EAApNpxC,OACAmB,KAAM,EACNnB,KAAA,WACAxE,EAAIwE,KAAKmB,EAAT3F,QACIwE,KAAJxE,GAAc2F,YAAcnB,KAA5BxE,GAAsC2F,SAASnB,KAA/CxE,GACIA,GAAKwE,KAAT,EAAiB,IAAKzE,EAAL,EAAYA,EAAZ,EAAmBA,IAAKyE,KAAA,eAGzC,GAFAxE,GAAKwE,KAALxE,GAAe2F,SAAf3F,GACA2F,EAAInB,KAAKzE,EAAT4F,WACK3F,EAAIwE,KAAK+U,EAAV,MAAoB5T,EAAxB,EAA+B,IAAKA,EAAL,EAAY3F,EAAIwE,KAAKmB,EAArB,GAA2BA,IAAK3F,SAASwE,KAATxE,QAC1DwE,KAAKmB,EAAEJ,OAASf,KAAhB,EAAyBowC,EAAEpwC,KAA3B,IAAsCxE,EAAIwE,KAAK+U,EAAEs8B,GAAPrxC,CAAWA,KAAX,EAAmBA,KAAK+U,EAAEu8B,IAA9B91C,QAA2CwE,KAAKoT,EAAEm+B,UAAUvxC,KAA5DxE,IAAqE2F,EAAInB,KAAzExE,GAAiF2F,EAAjF3F,EAA0F2F,KAAO3F,EAAjGA,KAAyG2F,KAAO3F,EAAhHA,MAAyH2F,MAAQA,cAAgB3F,EAAjJA,MAA0JA,EAAIJ,WACzM+F,UAD2C3F,GAC3BA,EAAIJ,SAAS+F,WAAT/F,EADuBI,GACMA,EAAI2F,IADV3F,GACkB2F,KAAO3F,EADzBA,IACgC2F,IAAM3F,EADtCA,OACgD2F,IAAM3F,EADtDA,MAC+D2F,IAAM3F,EADrEA,UACkF2F,IAAM3F,EADxFA,OACkG2F,IAAM3F,EADxGA,SACoH2F,IAAM3F,EAD1HA,mBACgJwE,KAAKoT,EAD3L,QAEL,OAAO,GAEXxa,YAAc,WACV,IAAK,IAAL,EAASuI,EAAI,IAAIsvC,YAAJ,aAA6BzwC,KAA7B,EAAqCA,KAA7C,GAAsDxE,EAAIwE,KAA1D,IAAoEzE,EAApE,EAA8ED,EAAIE,EAAvF,GAA6FD,IAAK4F,SAAS7F,EAAT6F,OAClG,UAEJvI,SAAW,WACPoH,KAAA,WACAA,KAAA,kBACOA,KAAP,GAEJpH,IAAM,WACF,OAAOoH,KAAKmB,EAAZ,QAEJvI,IAAMk4C,EAANl4C,KACAA,YAAck4C,EAAdl4C,KACAA,SAAWk4C,EAAXl4C,MACAA,EAAIm4C,EAAJn4C,WACAA,MAAU,WACNoH,KAAA,EAASlH,uBAAT,OACAkH,KAAA3E,IAAW2E,KAAKxE,EAAEwtB,MAAMwoB,QAAUx+B,EAAEhT,KAAMoT,EAAEpT,KAAMA,KAAvC,IAAiDA,KAAKxE,EAAEi2C,UAAYzxC,KAAK0xC,EAApF,MACA1xC,KAAA,0CAA+CA,KAA/C,GACA,IAAImB,EAAJ,KACAsvC,iCAAiCzwC,KAAjCywC,WAAkD,WAC9C,IAAIj1C,EAAI2F,IAAR,EACAsvC,2CAA6CtvC,EAA7CsvC,GACAj1C,KAAO2F,cAAcA,IAArB3F,gBAEJi1C,iCAAiCzwC,KAAjCywC,eAAsD,WAClDA,0BAA0BtvC,IAA1BsvC,qBAAqDtvC,EAArDsvC,MAEJA,iCAAiCzwC,KAAjCywC,cAEA,WACIA,0BAA0BtvC,IAA1BsvC,oBAAoDtvC,EAApDsvC,OAGR73C,OAAS,WACL,GAAIoH,KAAJ,EAAY,CACR,IAAImB,EAAIiS,EAAEpT,KAAMA,KAAhB,GACAA,KAAA,YAAmBmB,IAAnB,KACAnB,KAAA,aAAoBmB,IAApB,OAGRvI,OAAS,WACLoH,KAAA,IAAWA,KAAKxE,EAAEwtB,MAAMwoB,QAAUx+B,EAAEhT,KAAMoT,EAAEpT,KAAMA,KAAvC,IAAiDA,KAAKxE,EAAEwtB,MAAMnrB,QAAzE,IACAmC,KAAA3E,GAAS,GAEbzC,SAAW,WACPoH,KAAA,WAEJpH,WAAa,WACToH,KAAA,GAAUA,KAAKxE,EAAf,aAAgC40C,QAASpwC,KAAKxE,EAAEm2C,WAAWC,YAAY5xC,KAAvCowC,GAAgDpwC,KAAKxE,EAArF,IAEJ5C,YAAcmc,EAAdnc,KACAM,yBACAoC,sBAAwBA,YAAxBA,EACAA,uBAAyBA,YAAzBA,EACAA,yBAA2BA,YAA3BA,EACAA,4BAA8BA,YAA9BA,EACAA,0BAA4BA,YAA5BA,EACAA,wBAA0BA,YAA1BA,EACAA,8BAAgCA,YAAhCA,EACAA,mBAAqBA,YAArBA,OACAA,uBAAyBA,YAAzBA,EACAA,uBAAyBA,YAAzBA,EACAA,sBAAwBA,YAAxBA,EACAA,6BAA+BA,YAA/BA,EACAA,4BAA8BA,YAA9BA,EACAA,mBAAqBA,YAArBA,EACAA,yBAA2BA,YAA3BA,EACAA,0BAA4BA,YAA5BA,EACAA,0BAA4BA,YAA5BA,EACAA,oBAAsBA,YAAtBA,EACAA,0BAA4BA,YAA5BA,EACAA,wBAA0BA,YAA1BA,GACAA,uBAAyBA,YAAzBA,GACAA,kBAAoBA,YAApBA,MACAA,iBAAmBA,YAAnBA,KACA8Q,sBAAwBA,YAAxBA,UACAA,oBAAsBA,YAAtBA,EACAA,uBAAyBA,YAAzBA,EACA2kC,kBAAoBA,YAApBA,MACAA,iBAAmBA,YAAnBA,KACAA,qBAAuBA,YAAvBA,SA9UJ,GCUA,IAwBIc,EAAJ,EAxBIC,EAAS,CACZ,CAAE,YAAF,QAA0B,YAA1B,qBAA+D,QAAW,CAAC,CAAE,WAAc,SAC3F,CAAE,YAAF,eAAiC,QAAW,CAAC,CAAE,WAAc,SAC7D,CAAE,YAAF,iBAAmC,QAAW,CAAC,CAAE,WAAc,SAC/D,CAAE,YAAF,uBAAyC,QAAW,CAAC,CAAE,WAAc,SACrE,CAAE,YAAF,qBAAuC,YAAvC,cAAqE,QAAW,CAAC,CAAE,WAAc,SACjG,CAAE,YAAF,aAA+B,QAAW,CAAC,CAAE,WAAc,SAC3D,CAAE,YAAF,cAAgC,QAAW,CAAC,CAAE,WAAc,SAC5D,CAAE,YAAF,iBAAmC,QAAW,CAAC,CAAE,WAAc,SAC/D,CAAE,YAAF,eAAiC,QAAW,CAAC,CAAE,WAAc,SAC7D,CAAE,YAAF,cAAgC,QAAW,CAAC,CAAE,WAAc,SAC5D,CAAE,YAAF,0BAA4C,QAAW,CAAC,CAAE,WAAc,SACxE,CAAE,YAAF,UAA4B,QAAW,CAAC,CAAE,WAAc,SACxD,CAAE,YAAF,QAA0B,QAAW,CAAC,CAAE,WAAc,gBACtD,CAAE,YAAF,MAAwB,QAAW,CAAC,CAAE,WAAc,UAOjDC,EAAJ,GAAuBC,EAAvB,GAGS3vB,EAAT,EAAsB4vB,GAAtB,EAEIC,EACO,CACHC,WAAY,WAGR,IAAIC,EAAJ,GACA,IACIA,EAAY,IAAI3B,YAAJ,gBAAsC,CAAEpuC,KAAM,YAC5D,MAAOzJ,GACL,SAKJ,IA/CA0C,EA+CI41C,EAAM93C,eAAV,iBACI+3C,EAAM/3C,eAbU,kBAgBhBW,EAAU,CACVs4C,KADU,EAEVC,OAAQ,IAAI7B,YAAJ,SAFE,GAGV8B,gBAHU,EAIVC,mBAJU,EAKVC,YALU,EAMVC,aANU,EAOVC,UAAWlC,sBAAsBmC,UAIrCf,EAAM,IAAIpB,YAAJ,KA9DNn1C,EA8DM,MA7DPxC,wBAAP,IA6DQ+4C,IAGAA,2BACAA,eA/BoB,YAkCpBpB,yCAA4C,WAAcyB,uBAG1DzB,gDAAmD,WAAcyB,mBAGjEA,EAxCoB,SA2CpB94C,wCAAwC,WAA2C,OAA7B84C,oBAA6B,KACnF94C,sCAAsC,WAAqC,OAAvB84C,cAAuB,KAC3E94C,yCAAyC,WAA0C,OAA5B84C,mBAA4B,KACnF94C,qCAAqC,WAAsC,OAAxB84C,eAAwB,KAC3E94C,4BAA4B,WAA2C,OAA7B84C,mBAA6B,KACvE94C,6BAA6B,WAA4C,OAA9B84C,oBAA8B,KACzE94C,+BAA+B,WAAiD,OAAnC84C,yBAAmC,MAGpFW,YAAa,WAGChB,EAHW,WAMrB,EACIz4C,8BAEAA,gCAIR05C,UAAW,WAGP,IAAIC,EAHe,GAMnB35C,gCAA+B,WAIjBA,iBAJ6B,YAUnC25C,EAAM35C,aAAN25C,iBAORb,aAGJc,OAAQ,YAGJ,IAAI9B,EAAM93C,eAAV,iBACI+3C,EAAM/3C,eAAV,kBAkBI65C,EAAS,IAAIxC,YAAJ,SAtBI,GAyBjBoB,YAzBiB,GA4BjBA,UA5BiB,GA+BjBz4C,sBACA64C,MAGJI,KAAM,SAAAtB,EAAA,GAGF,IAAImC,EAAQrB,EAHM,UAMlB,MAAIP,EACA4B,KAEAA,KAIJrB,cAGJsB,QAAS,YAGL,IAAIhyC,EAAI/H,gBAAR,iBACIoC,EAAIpC,gBAAR,gBACImC,EAAInC,gBALY,aAWpB84C,EAXoB,gBAcpB94C,2BAA0B,WAEtB,IA2BQg6C,EA3BJzvB,GAF8B,EAM9ButB,EAAM93C,aAAV,iBACI+3C,EAAM/3C,aAAV,kBACIi6C,EAAMj6C,aAAV,gBACIk6C,EAAMl6C,aAAV,aAIIm6C,GAHMn6C,aAAV,iBACUA,aAAV,gBACUA,aAAV,aACUA,aAbwB,OAgBlC,KACQg6C,EAAMh6C,iBAAV,MACYuqB,OAIhB,KACQyvB,EAAMh6C,iBAAV,MACYuqB,OAIhB,KACQyvB,EAAMh6C,iBAAV,MACYuqB,OAKhB,GAEIuuB,YAAqB,CAAE7lC,GAAF,EAAW6kC,IAAX,EAAqBC,IAArB,EAA+BkC,IAA/B,EAAyCG,KAAzC,EAAoDC,IAAKL,OAStF,IAAIM,EAAa,GAAH,OAAMj6C,SAAN,sBAA4BP,gBAA5B,SAAd,iBACIy6C,EAAgB,CAC5B,CAAEC,UAAF,OAAqBC,SAArB,KAAqCxuC,IAAK,GAAF,SAAxC,uBAA8EhL,OAA9E,GAA0FD,MAAO,IACjG,CAAEw5C,UAAF,OAAqBC,SAArB,KAAqCxuC,IAAK,GAAF,SAAxC,uBAA8EhL,OAA9E,GAA0FD,MAAO,IACjG,CAAEw5C,UAAF,OAAqBC,SAArB,KAAqCxuC,IAAK,GAAF,SAAxC,uBAA8EhL,OAA9E,GAA0FD,MAAO,KAUzF05C,EAAgB,IAAIC,gBAAgBlC,EAAKE,EANzB,CACZD,OADY,EAEZkC,mBAAoB,IAOxB9B,aAGJ+B,WAAY,SAAAlD,GAGR,IAAIG,EAAM93C,UAAV,iBACI+3C,EAAM/3C,UAJW,kBAOjB65C,EAAS,IAAIxC,YAAJ,SAPQ,GAUrB,KACI,IAAK,IAAIhwC,EAAT,EAAgBA,EAAIuxC,EAApB,OAA0CvxC,IACtCuxC,kBAKRA,SAjBqB,EAoBrB,IAAIkC,EAAU,IAAIC,EAAS,CAAEtC,IAAF,EAAYuC,MAAOnB,IAG9CjB,OAvBqB,GA0BrB,IAAIuB,EAAMn6C,UA1BW,iBA6BjBi7C,EAAMj7C,EAAE,IAAFA,QAAV,cACIk7C,EAAMl7C,EAAE,IAAFA,GAAV,OACIm7C,EAAMn7C,EAAE,IAAFA,QAAV,cACIo7C,EAAMp7C,EAAE,IAAFA,QAAV,aACIk6C,EAAMl6C,EAAE,IAAFA,QAAV,aACIq7C,EAAMr7C,EAAE,IAAFA,QAlCW,aAqCjB0Y,EAAJ,GACAA,GAAO,+BAAiCwhC,EAAxCxhC,8GACA,IAAIyiC,IAAaziC,GAAO,gCAAkCyiC,EAAzCziC,qBACjB,IAAIuiC,IAAaviC,GAAO,sBAAwBuiC,EAA/BviC,UACjB,IAAIwiC,IAAaxiC,GAAO,4BAA8BwiC,EAArCxiC,UACjB,IAAI0iC,IAAa1iC,GAAO,8BAAgC0iC,EAAM,cAAgBC,EAA7D3iC,cAGjBpZ,YAAW,WAGPU,yBAHmB,GAMnBA,8BAA8B,WAAgD,OAAlC84C,qBAAkC,KAG9Ex5C,YAAW,WACPw5C,uBADJx5C,MATJA,KAgBJg8C,iBAAkB,WAGd,IAAIC,EAAKv5C,WAAWhC,mBAApB,MACIw7C,EAAKx5C,WAAWhC,mBAApB,KACIy7C,EAAKz5C,WAAWhC,UAApB,SAIIoiB,GAHKpgB,WAAWhC,UANM,UASlBgC,WAAWhC,wBAAnB,OACIiiB,EAAIjgB,WAAWhC,wBAAnB,KACI4Z,EAAI5X,WAAWhC,eAAnB,SAII07C,GAHI15C,WAAWhC,eAZO,UAejBoiB,EAAT,GACIu5B,EAAK15B,EAhBiB,EAmBtB25B,EAAJ,EACIC,EApBsB,EAuBtBH,EAAJ,KAEIE,IADAA,EAAK55C,YAAL45C,KAKAD,EAAJ,KAEIE,IADAA,EAAK75C,YAAL65C,KAKCH,IAAD,IAAJ,IACIE,EAAMF,IAAD,GAALE,GAIAA,MAAJ,GAAeC,GACXv8C,YAAW,WACPw5C,UAAmB,CAAE12B,EAAF,EAASH,EAAG45B,MADnCv8C,MAMRw8C,SAAU,SAAAnE,EAAA,GAGN,IAGIkB,GAHG,EAMHv5C,YAAW,WACPu5C,OADJv5C,MAOJ,GACIU,uBAIR+7C,UAAW,YAGP,IAAIlC,EAAS,IAAIxC,YAAJ,OAAuB12C,EAAvB,IAAoCA,EAHvB,KAMtBm6C,EAAU,IAAIkB,EAAS,CAAEvD,IAAF,EAAYuC,MAAZ,EAA2B/nC,GAAItS,EAA/B,GAA2Cq5C,IAAKr5C,EAAhD,KAA8Ds5C,IAAKt5C,EAAnE,IAAgF05C,IAAK15C,EAAQ05C,MAGxH1B,WAGJsD,cAAe,WAGX,KACI,IAAK,IAAI50C,EAAT,EAAgBA,EAAIsxC,EAApB,OAAyCtxC,IACrCsxC,kBAKRA,SAVuB,EAavB,IAAM+B,iBAAgC,MAAOl7C,MAGjD08C,QAAS,YAGL,IAAIrC,EAASpB,EAAb,YACIuC,EAAQvC,oCAAZ,GACIQ,EAAOR,EALa,UAQpB0D,EAAQ,IAAI9E,YAAJ,MAAsBr1C,WAAWg5C,IAAUh5C,WAA3C,IAA+DA,WAAWg5C,IAAUh5C,WARxE,KAWxB,KAAIrB,MAAoBw7C,KAAWx7C,EAAXw7C,GACxB,KAAIx7C,MAAoBw7C,KAAWx7C,EAAXw7C,GAGpBnB,EAAQ,IAAI3D,YAAJ,MAAsB8E,IAAUn6C,WAAhC,GAAoDm6C,EAAD,EAAYn6C,WAA3E,QACIo6C,EAAM3D,oCAhBc,GAmBxBA,YAGJ4D,OAAQ,YAGJ,IAAIptC,EAAOjP,oBAAX,YACWA,oBAJQ,iBAOnBA,OAAO,CACHiM,IADG,EAEHshC,SAFG,OAGH1sB,QAAS,YAGL7gB,EAAEmM,EAAFnM,iBAAuB,SAAU+I,GAC7B,IAAIuzC,EAAQt8C,QADwB,GAIhCi7C,EAAMqB,EAAV,MACIrC,EAAMqC,EAAV,QACIpB,EAAMoB,EAAV,YAA+DpB,GAAlCA,EAAMA,mBAANA,MAAwCA,iBAANA,KAC/D,IAAIpD,EAAMwE,EAAV,SACIvE,EAAMuE,EAAV,WACIpC,EAAMpB,UAAmBwD,EAA7B,MACIC,EAAMzD,UAAmBwD,EAA7B,SACIlB,EAAMkB,OAAV,IACIjB,EAAMiB,OAAV,YACInB,EAAMmB,EAAV,MACIE,EAdgC,GAsBpC,GALAx8C,EAAEs8C,EAAFt8C,oBAA2B,SAAUqH,EAAG2vC,GACpCwF,GAAO1D,aAAP0D,OAIA1E,OAAJ,IAAiBC,EAAW,CAGxB,IAAI0E,EAAKxzB,IAGTjpB,sBAAsB,oBAAsBk6C,EAAM,IAAMqC,EAAM,IAAMC,EAAM,aAAeC,EAAK,iBAAmBxB,EAAM,mBAAqBhB,EAAM,iBAAmBkB,EAAM,gBAAkBC,EAAM,oBAAsBtD,EAAM,qBAAuBC,EAAM,gBAAkBmC,EAAM,oBAAsBA,EAAM,mBAAqBqC,EAAM,gBAAkBC,EAAM,gBAAkBnB,EAAM,KAAOH,EAAlYl7C,cAOR84C,aAGJxpC,MAAO,YAGHrI,0CAMZy1C,QAAS,YAGL,IAAIr7B,EAHgB,EAYpB,OAHAA,GAHAA,EAAIA,EANgB,eAShBA,cATgB,KAexBs7B,WAAY,SAAAhF,GAGR,IAAIgC,EAAM35C,UAHW,aAMrBA,gCAA+B,WAG3BA,iCAKJA,cAdqB,UAiBrBA,gCAjBqB,GAoBrBA,iCAAgC,WAG5BA,iCAKJA,+BA5BqB,IA+BrBA,6BAA4B,WAGxBA,iCAKJA,4BAvCqB,IA0CrB84C,cAGJ8D,KAAM,SAAAjF,GAGF,IAAIkF,EAAM78C,UAAV,kBACI88C,EAAM98C,UAAV,kBACUA,cALK,SAWXA,yBACAA,cAJK,QAOLA,wBAPK,GAULA,eAVK,OAaLA,kCAKAA,sBACAA,iBAJG,QAOHA,wBAPG,GAUHA,eAVG,OAaHA,gCAKR+8C,UAAW,SAAApF,GAGG33C,UAAV,gBACIg6C,EAAMh6C,cAAV,UACI25C,EAAM35C,UALU,aAQpBA,iCAAgC,WAG5BA,iCAKJ,EACIA,2BAEAA,wBAIJA,+BAvBoB,GA0BpB84C,aAGJkE,MAAO,SAAArF,GAGH,IAAIgC,EAAM35C,UAAV,aACUA,cAJM,UAOhBA,gCAA+B,WAG3BA,iCAKJA,gCAfgB,IAkBhBA,iCAAgC,WAG5BA,iCAKJA,+BA1BgB,IA6BhBA,6BAA4B,WAGxBA,iCAKJA,cArCgB,UAwChBA,4BAxCgB,GA2ChB84C,eAaZ,SAASkD,EAASr7C,GACdiG,KAAA,aACA,IAAIb,EAAMa,KAAKq2C,KAAOv9C,uBAAtB,OACAqG,YAAgB,kBAAyBpF,EAAzB,QAA6CA,EAA7DoF,IACAA,KAASpF,KAAToF,YACAA,6DACAA,+BAAkCpF,EAAlCoF,IACAA,+BAAkCpF,QAAlCoF,OACAA,gCAAmCpF,QAAnCoF,OACAA,+BAAkCpF,EAAlCoF,OACAA,8BAAiCpF,EAAjCoF,KACAA,UAAc,WAAc+yC,oBAjBhC94C,uBAAuB,WAAc84C,kBAoBrC,IAAMkD,YAAqB,IAAI3E,YAAzB2E,YAAoD,MAAOx8C,GAAKw8C,eAoBtE,SAASjB,EAASp6C,GACdiG,KAAA,aACA,IAAIb,EAAMa,KAAKq2C,KAAOv9C,uBAAtB,OACAqG,gBACAA,0KAGAA,UAAc,WAAc+yC,qBAzBhCkD,kBAA2B,WACZp1C,KAAKs2C,WAAhB,mBACAC,YAAiBv2C,KAAjBu2C,OAGJnB,qBAA8B,WAC1Bp1C,KAAA,4BAAiCA,KAAjC,OAGJo1C,iBAA0B,WACtB,IACIz3C,EADaqC,KAAjB,gBACew2C,qBAAgCx2C,KAA/C,OACIb,EAAMa,KAAV,KACAb,aAAiBxB,IAAjBwB,KACAA,YAAgBxB,IAAhBwB,MAcJ,IAAMg1C,YAAqB,IAAI1D,YAAzB0D,YAAoD,MAAOv7C,GAAKu7C,eAEtEA,kBAA2B,WACZn0C,KAAKs2C,WAAhB,mBACAC,YAAiBv2C,KAAjBu2C,OAGJpC,qBAA8B,WAC1Bn0C,KAAA,4BAAiCA,KAAjC,OAGJm0C,iBAA0B,WACtB,IACIx2C,EADaqC,KAAjB,gBACew2C,qBAAgCx2C,KAA/C,OACIb,EAAMa,KAAV,KACAb,aAAiBxB,IAAjBwB,KACAA,YAAgBxB,IAAhBwB,O,mQCvmBOS,EAAU,I,gLA5GhBkC,EAAO20C,GAUR,OARAz2C,KAAA,iBAAwBA,KAAK02C,kBAFX,GAKlB12C,KAAA,oBAA+BA,KAAK02C,iBAAiB50C,IALnC,GAQlB9B,KAAA,4BAEA,O,2BAcG8B,EAAO20C,GACV,IAAM3vC,EAAN,KAEA,aACEA,WACA2vC,wBAOF,OAJAE,aAEA32C,KAAA,QAEA,O,0BAcE8B,EAAO20C,GAET,IAFmB,EAKnB,OAAKz2C,KAAD,mBAA4B42C,EAAY52C,KAAK02C,iBAAjD,KAIAE,WAAkB,cACZ7jC,YAAeA,OAAfA,IAAmCA,OAAO4jC,EAAP5jC,YAAwBA,OAA/D,IAEA6jC,iBAKF,IAAIA,iBACK52C,KAAK02C,iBAAZ,GAGF,MAfE,O,2BA6BC50C,GAAgB,oCAANzJ,EAAM,iCAANA,EAAM,kBAInB,OAAK2H,KAAD,mBAA4B42C,EAAY52C,KAAK02C,iBAAjD,MAKAE,EAAYA,QAAZA,IAEAA,SAAkB,SAAAD,GAAE,OAAIA,UAAJ,MAEpB,MARE,U,oDCjHL,SAAUz9C,GACX,IAAI29C,EAAY,cAAe39C,EAC3B49C,EAAY59C,EAAOiD,WAGtB,SAASvD,EAAEwa,EAAE/X,EAAE80C,GAAG,SAASx7B,EAAE/b,EAAEwa,GAAG,cAAcxa,IAAIwa,EAAE,SAAS3S,IAAI,MAAM,mBAAmBpF,EAAE07C,cAAc17C,EAAE07C,cAAch4C,UAAU,IAAIi4C,EAAE37C,EAAE47C,gBAAgB1kB,KAAKl3B,EAAE,6BAA6B0D,UAAU,IAAI1D,EAAE07C,cAAcG,MAAM77C,EAAE0D,WAAiF,SAASoC,EAAEvI,EAAEwa,EAAE+8B,EAAEx7B,GAAG,IAAIxT,EAAEiL,EAAEglC,EAAEL,EAAEx1C,EAAE,YAAYD,EAAEmF,EAAE,OAAO8K,EAA/H,WAAa,IAAI3S,EAAEyC,EAAEwD,KAAK,OAAOjG,KAAIA,EAAE6H,EAAEu2C,EAAE,MAAM,SAAUG,MAAK,GAAIv+C,EAA6D6hB,GAAI,GAAG7S,SAASuoC,EAAE,IAAI,KAAKA,MAAKiB,EAAE3wC,EAAE,QAAS4L,GAAGsI,EAAEA,EAAEw7B,GAAG50C,GAAG40C,EAAE,GAAG70C,EAAE87C,YAAYhG,GAAG,OAAOjwC,EAAEV,EAAE,UAAWmJ,KAAK,WAAWzI,EAAEkL,GAAG,IAAI9Q,GAAGgQ,EAAE4rC,KAAK5rC,EAAEjQ,GAAG87C,YAAYj2C,GAAGoK,EAAE6rC,YAAY97C,GAAG6F,EAAEk2C,WAAWl2C,EAAEk2C,WAAW7F,QAAQ54C,EAAEuI,EAAEi2C,YAAY/7C,EAAEi8C,eAAe1+C,IAAI0C,EAAE+Q,GAAG9Q,EAAEgQ,EAAE4rC,OAAO5rC,EAAEyd,MAAMuuB,WAAW,GAAGhsC,EAAEyd,MAAMwuB,SAAS,SAASzG,EAAE/9B,EAAEgW,MAAMwuB,SAASxkC,EAAEgW,MAAMwuB,SAAS,SAASxkC,EAAEokC,YAAY7rC,IAAIa,EAAEgH,EAAE9X,EAAE1C,GAAG2S,EAAE4rC,MAAM5rC,EAAEomC,WAAWC,YAAYrmC,GAAGyH,EAAEgW,MAAMwuB,SAASzG,EAAE/9B,EAAEykC,cAAcn8C,EAAEq2C,WAAWC,YAAYt2C,KAAK8Q,EAAE,SAASA,EAAExT,EAAEyC,EAAE80C,GAAG,IAAIx7B,EAAE,GAAG,qBAAqBvB,EAAE,CAACuB,EAAEyR,iBAAiBmM,KAAKnf,EAAExa,EAAEyC,GAAG,IAAIoF,EAAE2S,EAAE/S,QAAQ,GAAG,OAAOsU,EAAEw7B,IAAIx7B,EAAEA,EAAE+iC,iBAAiBvH,SAAS,GAAG1vC,EAAE,CAA6BA,EAAtBA,EAAEiI,MAAM,QAAQ,OAAW6pB,KAAK9xB,EAAE,6FAA6FkU,GAAGtZ,GAAGzC,EAAE++C,cAAc/+C,EAAE++C,aAAaxH,GAAG,OAAOx7B,EAAE,SAASy8B,EAAEx4C,EAAEwa,GAAG,UAAU,GAAGxa,GAAGorB,QAAQ5Q,GAAG,SAAS29B,EAAEn4C,GAAG,OAAOA,EAAE8W,QAAQ,YAAW,SAAS9W,EAAEwa,GAAG,MAAM,IAAIA,EAAEwkC,iBAAgBloC,QAAQ,OAAO,QAAQ,SAASnU,EAAE3C,EAAEyC,GAAG,IAAIsZ,EAAE/b,EAAEmI,OAAO,GAAG,QAAQqS,GAAG,aAAaA,EAAEykC,IAAI,CAAC,KAAKljC,KAAK,GAAGvB,EAAEykC,IAAIC,SAAS/G,EAAEn4C,EAAE+b,IAAItZ,GAAG,OAAM,EAAG,OAAM,EAAG,GAAG,oBAAoB+X,EAAE,CAAC,IAAI,IAAI3S,EAAE,GAAGkU,KAAKlU,EAAEs3C,KAAK,IAAIhH,EAAEn4C,EAAE+b,IAAI,IAAItZ,EAAE,KAAK,OAAwB8F,EAAE,eAAnBV,EAAEA,EAAEuhB,KAAK,SAA0B,4CAA2C,SAASppB,GAAG,MAAM,aAAawT,EAAExT,EAAE,KAAK,eAAc,OAAOu3C,EAAE,SAAS70C,EAAE1C,GAAG,OAAOA,EAAE8W,QAAQ,oBAAmB,SAAS9W,EAAEwa,EAAE/X,GAAG,OAAO+X,EAAE/X,EAAE28C,iBAAgBtoC,QAAQ,KAAK,IAAI,SAASnE,EAAE3S,EAAEwa,EAAE/X,EAAEof,GAAG,SAAStZ,IAAI4vC,WAAWkH,EAAEjvB,aAAaivB,EAAEC,SAAS,GAAGz9B,GAAG9F,EAAE8F,EAAE,cAAcA,GAAG9F,EAAEtZ,EAAE,aAAa,CAAC,IAAI+Q,EAAE7Q,EAAE3C,EAAEyC,GAAG,IAAIsZ,EAAEvI,EAAE,aAAa,OAAOA,EAAE,IAAI,IAAI2kC,EAAExlC,EAAEiP,EAAE41B,EAAEY,EAAE31B,EAAE,CAAC,YAAY,QAAQ,SAAS48B,EAAEjvB,OAAO3N,EAAEta,QAAQgwC,GAAE,EAAGkH,EAAEC,QAAQz3C,EAAE4a,EAAE88B,SAASF,EAAEjvB,MAAMivB,EAAEC,QAAQlvB,MAAM,IAAIxO,EAAE5hB,EAAEmI,OAAOwK,EAAE,EAAEA,EAAEiP,EAAEjP,IAAI,GAAG6kC,EAAEx3C,EAAE2S,GAAGylC,EAAEiH,EAAEjvB,MAAMonB,GAAGgB,EAAEhB,EAAE,OAAOA,EAAE90C,EAAE80C,IAAI6H,EAAEjvB,MAAMonB,KAAKD,EAAE,CAAC,GAAG11B,GAAG9F,EAAEtZ,EAAE,aAAa,OAAO8F,IAAI,QAAQiS,GAAGg9B,EAAE,IAAI6H,EAAEjvB,MAAMonB,GAAG/0C,EAAE,MAAMzC,IAAI,GAAGq/C,EAAEjvB,MAAMonB,KAAKY,EAAE,OAAO7vC,IAAI,QAAQiS,GAAGg9B,EAAE,OAAOjvC,KAAI,EAAG,SAASqZ,EAAE5hB,EAAEwa,GAAG,OAAO,WAAW,OAAOxa,EAAEs+C,MAAM9jC,EAAErU,YAAkI,SAASiyC,EAAEp4C,EAAEwa,EAAE/X,EAAE80C,EAAE1vC,GAAG,IAAIga,EAAE7hB,EAAEw/C,OAAO,GAAGJ,cAAcp/C,EAAEw0B,MAAM,GAAGjsB,GAAGvI,EAAE,IAAI04C,EAAEtvB,KAAKvH,EAAE,KAAKA,GAAGsH,MAAM,KAAK,OAAOpN,EAAEvB,EAAE,WAAWuB,EAAEvB,EAAE,aAAa7H,EAAEpK,EAAEiS,EAAE+8B,EAAE1vC,GAA3Q,SAAW7H,EAAEwa,EAAE/X,GAAG,IAAI80C,EAAE,IAAI,IAAI1vC,KAAK7H,EAAE,GAAGA,EAAE6H,KAAK2S,EAAE,OAAM,IAAK/X,EAAEzC,EAAE6H,GAAckU,EAAVw7B,EAAE/8B,EAAExa,EAAE6H,IAAQ,YAAY+Z,EAAE21B,EAAE90C,GAAG+X,GAAG+8B,EAAG,OAAM,EAAiMC,CAArCjvC,GAAGvI,EAAE,IAAIy/C,EAAEr2B,KAAKvH,EAAE,KAAKA,GAAGsH,MAAM,KAAS3O,EAAE/X,GAAI,IAAIggB,EAAE,GAAGy1B,EAAE,CAACwH,SAAS,SAASC,QAAQ,CAACC,YAAY,GAAGC,eAAc,EAAGC,eAAc,EAAGC,aAAY,GAAIC,GAAG,GAAGC,GAAG,SAASjgD,EAAEwa,GAAG,IAAI/X,EAAE2E,KAAKtH,YAAW,WAAW0a,EAAE/X,EAAEzC,MAAK,IAAIkgD,QAAQ,SAASlgD,EAAEwa,EAAE/X,GAAGggB,EAAE08B,KAAK,CAAC11C,KAAKzJ,EAAE+9C,GAAGvjC,EAAErZ,QAAQsB,KAAK09C,aAAa,SAASngD,GAAGyiB,EAAE08B,KAAK,CAAC11C,KAAK,KAAKs0C,GAAG/9C,MAAMuD,EAAU,aAAaA,EAAU68C,UAAUlI,EAAE30C,EAAU,IAAIA,EAAU,IAAI00C,EAAE,GAAG79B,EAAE3X,EAAE49C,gBAAgBjC,EAAE,QAAQhkC,EAAEkmC,SAAStB,cAAcuB,EAAErI,EAAEyH,QAAQI,YAAY,4BAA4B52B,MAAM,KAAK,CAAC,GAAG,IAAI+uB,EAAEsI,UAAUD,EAAE,IAAI39C,EAAE,WAAW,IAAI5C,EAAEwa,EAAEimC,YAAYjmC,EAAEkmC,aAAa,OAAO1gD,EAAE,SAASwa,GAAG,IAAI/X,EAAEzC,EAAEwa,GAAG,OAAO/X,GAAGA,EAAEk+C,UAAS,GAAI,SAAS3gD,GAAG,IAAIwa,GAAE,EAAG,OAAOjS,EAAE,UAAUvI,EAAE,2CAA0C,SAASA,GAAGwa,EAAE,aAAahH,EAAExT,EAAE,KAAK,eAAcwa,GAA7O,GAAmP09B,EAAE0I,GAAGh+C,EAAEW,EAAU28C,QAAQ,eAAc,WAAW,GAAG,iBAAiB1lC,GAAGA,EAAEqmC,YAAYrmC,EAAEsmC,eAAer+C,aAAaq+C,cAAc,OAAM,EAAG,IAAI9gD,EAAE,CAAC,IAAIugD,EAAEn3B,KAAK,oBAAoB,SAAS,KAAKA,KAAK,IAAI,OAAOxmB,EAAE5C,MAAK,IAAI4iB,EAAE,kBAAkB81B,EAAER,EAAEyH,QAAQI,YAAYn9B,EAAEuG,MAAM,KAAK,GAAG+uB,EAAE6I,eAAerI,EAAE,IAAI70B,EAAE,CAAC1M,KAAKtP,EAAE,cAActE,EAAUy8C,GAAGb,MAAK,kBAAkBt7B,EAAE1M,QAAO,IAAIkoC,EAAE,CAACjvB,MAAMvM,EAAE1M,KAAKiZ,OAAO7sB,EAAUy8C,GAAGgB,SAAQ,kBAAkB3B,EAAEjvB,SAAQ,IAAIqvB,EAAEvH,EAAEyH,QAAQI,YAAYn9B,EAAEo8B,cAAc71B,MAAM,KAAK,GAAG+uB,EAAE+I,aAAaxB,EAAEvH,EAAEgJ,aAAa9I,EAAE,IAAI+I,EAAE,SAASnhD,GAAG,IAAIyC,EAAEsZ,EAAEwkC,EAAEp4C,OAAON,EAAE2S,EAAE4mC,QAAQ,QAAG,IAASv5C,EAAE,OAAO0vC,EAAE,IAAIv3C,EAAE,OAAM,EAAG,IAAyByC,GAAtBzC,EAAEA,EAAE8W,QAAQ,KAAK,KAASA,QAAQ,KAAK,KAAKsoC,cAAc,WAAWv3C,EAAE,MAAM,IAAI7H,EAAE,IAAI,IAAI6hB,EAAE,EAAEA,EAAE9F,EAAE8F,IAAI,CAAC,IAAItZ,EAAEg4C,EAAE1+B,GAAG,GAAGtZ,EAAE62C,cAAc,IAAI38C,KAAKoF,EAAE,MAAM,KAAKU,EAAEy2C,cAAc,IAAIh/C,EAAE,OAAM,GAAIk4C,EAAEmJ,OAAOF,EAAE,IAAIG,EAAEpJ,EAAEqJ,SAAS,SAASvhD,EAAEwa,EAAE/X,GAAG,OAAO,IAAIzC,EAAEorB,QAAQ,KAAK+1B,EAAEnhD,KAAK,IAAIA,EAAEorB,QAAQ,OAAOprB,EAAE0C,EAAE1C,IAAIwa,EAAE49B,EAAEp4C,EAAEwa,EAAE/X,GAAG21C,EAAEp4C,EAAE,SAASuD,EAAU28C,QAAQ,cAAcoB,EAAE,aAAa,CAACE,QAAQ,CAAC,gBAAgB,WAAW,IAAIxhD,EAAEwa,EAAE/X,EAAE80C,EAAE1vC,EAAIU,EAAE,IAAI,IAAIiL,KAAKiP,EAAE,GAAGA,EAAEg/B,eAAejuC,GAAG,CAAC,GAAGxT,EAAE,IAAGwa,EAAEiI,EAAEjP,IAAK/J,OAAOzJ,EAAEm/C,KAAK3kC,EAAE/Q,KAAKu1C,eAAexkC,EAAErZ,SAASqZ,EAAErZ,QAAQqgD,SAAShnC,EAAErZ,QAAQqgD,QAAQr5C,QAAQ,IAAI1F,EAAE,EAAEA,EAAE+X,EAAErZ,QAAQqgD,QAAQr5C,OAAO1F,IAAIzC,EAAEm/C,KAAK3kC,EAAErZ,QAAQqgD,QAAQ/+C,GAAGu8C,eAAe,IAAIzH,EAAEx7B,EAAEvB,EAAEujC,GAAG,YAAYvjC,EAAEujC,KAAKvjC,EAAEujC,GAAGl2C,EAAE,EAAEA,EAAE7H,EAAEmI,OAAON,IAA0B,KAAfU,EAALvI,EAAE6H,GAAOshB,MAAM,MAAWhhB,OAAO5E,EAAUgF,EAAE,IAAIgvC,GAAGh0C,EAAUgF,EAAE,OAAOhF,EAAUgF,EAAE,KAAKhF,EAAUgF,EAAE,cAAcm5C,WAAWn+C,EAAUgF,EAAE,IAAI,IAAIm5C,QAAQn+C,EAAUgF,EAAE,MAAMhF,EAAUgF,EAAE,IAAIA,EAAE,IAAIgvC,GAAGU,EAAEkH,MAAM5H,EAAE,GAAG,OAAOhvC,EAAE6gB,KAAK,OAA5hB,GAAsiB,SAASppB,GAAG,IAAIwa,EAAEJ,EAAE1P,UAAUjI,EAAEc,EAAUo8C,QAAQC,aAAa,GAAG,GAAGxB,IAAI5jC,EAAEA,EAAEmnC,SAASp+C,EAAUo8C,QAAQG,cAAc,CAAC,IAAIvI,EAAE,IAAIroC,OAAO,UAAUzM,EAAE,gBAAgB+X,EAAEA,EAAE1D,QAAQygC,EAAE,KAAK90C,EAAE,QAAQc,EAAUo8C,QAAQE,gBAAgB7/C,EAAEmI,OAAO,IAAIqS,GAAG,IAAI/X,EAAEzC,EAAEopB,KAAK,IAAI3mB,IAAI27C,EAAEhkC,EAAE1P,UAAUi3C,QAAQnnC,EAAEJ,EAAE1P,UAAU8P,GAA5S,CAAgTy9B,UAAUC,EAAEgI,eAAehI,EAAEiI,aAAa,IAAI,IAAIhkC,EAAE,EAAEA,EAAE5Y,EAAUy8C,GAAG73C,OAAOgU,IAAI5Y,EAAUy8C,GAAG7jC,KAAKnc,EAAEuD,UAAUA,EAAtxK,CAAiyKjD,EAAOA,EAAOJ,UAChzKhB,EAAOC,QAAUmB,EAAOiD,UACpB06C,EAAa39C,EAAOiD,UAAY26C,SACtB59C,EAAOiD,UARpB,CASEjD,S,mRCDkBqV,E,WACnB,e,4FAAoB,SAClBvO,KAAA,OAAc,WACZ,CACEw6C,OAAQphD,IAAE,SAFd,GAMA4G,KAPkB,OAUlB9G,+BAAiC,WAC/B,IAAIwxB,EAAKxxB,WAAT,KACAE,kCAA+B,WAC7B,IAAIoxB,EAASpxB,IAAb,MACIyxB,EAAS,IAAIH,EAAJ,OAAcF,OAAd,MAAiC,CAC5ChD,OAAQ,CACNizB,QAMJ,WACE,KAAIjwB,iBACFK,SAEF,KAAIL,oBACFK,eAVA6vB,cAgBJ,YACMlwB,qBAA8B5xB,SAAW8xB,cAA7C,OACEG,gBAhBF8vB,SAAU,KAYZ/6C,oC,+DAmDJ,IAAI2iB,EAAMzpB,uBAAV,UACAypB,2CACA,IAAIq4B,EAAiB9hD,wCAArB,GACA8hD,iC,uCAGsBJ,GACtBA,0BAA8B,WAC5B,IAAI1zC,EAAO1N,IAAX,MACIgwB,EAAStiB,EAF0B,UAMrCA,mBACCA,SADDA,QAECsiB,WAHH,qBAKE/oB,wCACA+oB,oC,mCAKcoxB,GAClBA,8BAAkC,WAGhC,IAFWphD,IAAX,MAEK0N,SAAL,sBAA0C,CACxC,IAAI+zC,EAAcz/C,WAChBhC,mCADF,UAKAA,oC,+CAK0BohD,GAC9BA,mCAAuC,WACrC,IAAI1zC,EAAO1N,IAAX,MACK0N,WAAL,uBACEpO,YAAW,WACT,IAAImiD,EAAcz/C,WAAW0L,EAA7B,UACAA,sDAFFpO,Y,gCAjFJsH,KAAA,e,mCAMA,IAAI8G,EAHO,KAMXA,yDACI1N,4BAAJ,QACEmV,mBAEFpV,gBAAiB,WACfoV,eAAmBzH,SAAnByH,WAGF3O,iBAAqB,WACnB2O,eAAmBzH,SAAnByH,WAGFpV,wBAAyB,WACvBoV,2BAA+BzH,SAA/ByH,WAGFnV,wEAGE,WACE4G,KAAA,OAAcA,KAAd,OAA4BA,KAA5B,WAIJ5G,qBAAkB,WAChBmV,mBAAuBzH,SAAvByH,gB","file":"js/app.js","sourcesContent":["module.exports = OrstedJquery;","function debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return function() {\r\n    var context = this,\r\n      args = arguments;\r\n    var later = function() {\r\n      timeout = null;\r\n      if (!immediate) {\r\n        func.apply(context, args);\r\n      }\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait || 200);\r\n    if (callNow) {\r\n      func.apply(context, args);\r\n    }\r\n  };\r\n}\r\n\r\nexport default debounce; \r\n","function isElement($obj) {\r\n  try {\r\n    return ($obj.constructor.__proto__.prototype.constructor.name) ? true : false;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default isElement; \r\n","import isElement from \"./isElement\";\r\n\r\nfunction getElement(el) {\r\n  if (typeof el === \"string\") {\r\n    return document.querySelector(el);\r\n  }\r\n\r\n  if (el instanceof NodeList) {\r\n    return el[0];\r\n  }\r\n\r\n  if (isElement(el)) {\r\n    return el;\r\n  }\r\n\r\n  if (el && el.nodeType === Node.ELEMENT_NODE) {\r\n    return el;\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default getElement; \r\n","import $ from \"jquery\";\r\n\r\nfunction isElementInViewport(el) {\r\n  if (typeof $ === \"function\" && el instanceof $) {\r\n    el = el[0];\r\n  }\r\n\r\n  var rect = el.getBoundingClientRect();\r\n\r\n  return (\r\n    rect.bottom >= 0 &&\r\n    rect.right >= 0 &&\r\n    rect.top <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n    rect.left <= (window.innerWidth || document.documentElement.clientWidth)\r\n  );\r\n}\r\n\r\nexport default isElementInViewport; \r\n","/**\r\n * Class: Utils\r\n * Description: Utilities functions\r\n */\r\n'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport Modernizr from 'modernizr';\r\nimport { emitter } from '../emitter/emitter';\r\nimport debounce from \"./debounce\";\r\nimport getElement from \"./getElement\";\r\nimport isElement from \"./isElement\";\r\nimport isElementInViewport from \"./isElementInViewport\";\r\n\r\nexport {\r\n  debounce,\r\n  getElement,\r\n  isElement,\r\n  isElementInViewport,\r\n};\r\n\r\nexport const $win = $(window);\r\nexport const $html = $('html');\r\nexport const $body = $('body');\r\nexport const isIe9 = $html.hasClass('ie9');\r\nexport const $main = $('#main');\r\nexport const isFrontend = location.port == 3000;\r\nexport const isIE11 = () =>\r\n  !!window.MSInputMethodContext && !!document.documentMode;\r\n\r\nexport const DateFormatingOptions = (() =>\r\n  window['DateFormatingOptions'] || {\r\n    dateFormat: 'DD.MM.YYYY HH:mm',\r\n    jobdateFormat: 'DD.MM.YYYY'\r\n  })();\r\n\r\nexport const isExperienceEditing = () => {\r\n  const $body = document.querySelector('body');\r\n  return $body.classList.contains('is-experience-editing');\r\n};\r\n\r\nexport const Sitecore = (() => {\r\n  return window['Sitecore'] || {};\r\n})();\r\n\r\nexport const getExperienceEditor = () => {\r\n  return window['ExperienceEditor'] || {};\r\n};\r\n\r\nexport function imageFallBack(options) {\r\n  var options = $.extend(\r\n    {\r\n      image: \".image__element\",\r\n      hide:true,\r\n      cssClasses:\"teaser-img background-image-center-center\",\r\n      width:\"\",\r\n      height:\"\",\r\n      svgDimensions:{}  \r\n    },\r\n    options\r\n  )\r\n  var imgUrl = options.image.attr(\"src\");\r\n  \r\n  var imgContainer = $(`<div/>`);\r\n\r\n  imgContainer.attr({ \r\n      \"data-svg-width\":options.svgDimensions.width,\r\n      \"data-svg-height\":options.svgDimensions.height\r\n  });\r\n\r\n  imgContainer.css({\r\n    \"background-image\":`url(${imgUrl})`,\r\n    \"background-size\":`${options.width}px ${options.height}px `\r\n  });\r\n    \r\n  imgContainer.addClass(options.cssClasses).insertBefore(options.image);\r\n  if (options.hide) {\r\n    options.image.addClass(\"d-none\");\r\n  }\r\n}\r\nexport function getImageSize($el) {\r\n  var imgWidth = $el.data('svg-width');\r\n  var imgHeight = $el.data('svg-height');\r\n\r\n  var containerWidth = $el.parent().width();\r\n  var containerHeight = $el.parent().height();\r\n\r\n  var imgRatio = imgHeight / imgWidth;\r\n  var containerRatio = containerHeight / containerWidth;\r\n\r\n  var finalWidth;\r\n  var finalHeight;\r\n\r\n  if (containerRatio > imgRatio) {\r\n    finalHeight = containerHeight;\r\n    finalWidth = containerHeight / imgRatio;\r\n  } else {\r\n    finalWidth = containerWidth;\r\n    finalHeight = containerWidth * imgRatio;\r\n  }\r\n  \r\n  return {width:finalWidth, height:finalHeight}\r\n}\r\n\r\nexport function htmlEscape(str) {\r\n  return str\r\n    .replace(/&/g, '&amp;')\r\n    .replace(/\"/g, '&quot;')\r\n    .replace(/'/g, '&#39;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;');\r\n}\r\n\r\nexport function getDevice() {\r\n  const userAgent =\r\n    navigator.userAgent ||\r\n    navigator.vendor ||\r\n    window.opera;\r\n\r\n  if (\r\n    userAgent.match(/iPad/i) ||\r\n    userAgent.match(/iPhone/i) ||\r\n    userAgent.match(/iPod/i)\r\n  ) {\r\n    return \"ios\";\r\n  } else if (userAgent.match(/Android/i)) {\r\n    return \"android\";\r\n  } else if (userAgent.toLowerCase().indexOf(\"edge\") > -1) {\r\n    return \"MS Edge (EdgeHtml)\";\r\n  } else if (userAgent.toLowerCase().indexOf(\"edg\") > -1) {\r\n    return \"MS Edge Chromium\";\r\n  } else if (\r\n    userAgent.toLowerCase().indexOf(\"opr\") > -1 &&\r\n    !!window.opr\r\n  ) {\r\n    return \"opera\";\r\n  } else if (\r\n    userAgent.toLowerCase().indexOf(\"chrome\") > -1 &&\r\n    !!window.chrome\r\n  ) {\r\n    return \"chrome\";\r\n  } else if (userAgent.toLowerCase().indexOf(\"trident\") > -1) {\r\n    return \"Internet Explorer\";\r\n  } else if (userAgent.toLowerCase().indexOf(\"firefox\") > -1) {\r\n    return \"firefox\";\r\n  } else if (userAgent.toLowerCase().indexOf(\"safari\") > -1) {\r\n    return \"safari\";\r\n  } else {\r\n    return \"unknown\";\r\n  }\r\n}\r\n\r\n// SCROLLTO\r\n// easing functions http://goo.gl/5HLl8\r\nMath.easeInOutQuad = function(t, b, c, d) {\r\n  t /= d / 2;\r\n  if (t < 1) {\r\n    return (c / 2) * t * t + b;\r\n  }\r\n  t--;\r\n  return (-c / 2) * (t * (t - 2) - 1) + b;\r\n};\r\n\r\nMath.easeInCubic = function(t, b, c, d) {\r\n  var tc = (t /= d) * t * t;\r\n  return b + c * tc;\r\n};\r\n\r\nMath.inOutQuintic = function(t, b, c, d) {\r\n  var ts = (t /= d) * t,\r\n    tc = ts * t;\r\n  return b + c * (6 * tc * ts + -15 * ts * ts + 10 * tc);\r\n};\r\n\r\n// requestAnimationFrame for Smart Animating http://goo.gl/sx5sts\r\nvar requestAnimFrame = (function() {\r\n  return (\r\n    window.requestAnimationFrame ||\r\n    window.webkitRequestAnimationFrame ||\r\n    window.mozRequestAnimationFrame ||\r\n    function(callback) {\r\n      window.setTimeout(callback, 1000 / 60);\r\n    }\r\n  );\r\n})();\r\n\r\nexport function scrollTo(to, duration, callback) {\r\n  // because it's so fucking difficult to detect the scrolling element, just move them all\r\n  function move(amount) {\r\n    document.documentElement.scrollTop = amount;\r\n    document.body.parentNode.scrollTop = amount;\r\n    document.body.scrollTop = amount;\r\n  }\r\n\r\n  function position() {\r\n    return (\r\n      document.documentElement.scrollTop ||\r\n      document.body.parentNode.scrollTop ||\r\n      document.body.scrollTop\r\n    );\r\n  }\r\n  var start = position(),\r\n    change = to - start,\r\n    currentTime = 0,\r\n    increment = 20;\r\n  duration = typeof duration === 'undefined' ? 300 : duration;\r\n  if (Modernizr.touch) {\r\n    duration = duration / 4;\r\n  }\r\n  var animateScroll = function() {\r\n    // increment the time\r\n    currentTime += increment;\r\n    // find the value with the quadratic in-out easing function\r\n    var val = Math.easeInOutQuad(currentTime, start, change, duration);\r\n    // move the document.body\r\n    move(val);\r\n    // do the animation unless its over\r\n    if (currentTime < duration) {\r\n      requestAnimFrame(animateScroll);\r\n    } else {\r\n      if (callback && typeof callback === 'function') {\r\n        // the animation is done so lets callback\r\n        callback();\r\n      }\r\n    }\r\n  };\r\n  animateScroll();\r\n}\r\n\r\n// export function disableBodyScroll() {\r\n//     if (!$('body').hasClass('body-no-scroll')) {\r\n//         $('body').addClass('body-no-scroll');\r\n//     }\r\n// }\r\n// export function enableBodyScroll() {\r\n//     if ($('body').hasClass('body-no-scroll')) {\r\n//         $('body').removeClass('body-no-scroll');\r\n//     }\r\n// }\r\n\r\nexport function equalheight(container) {\r\n  var currentTallest = 0;\r\n  var currentRowStart = 0;\r\n  var rowDivs = new Array();\r\n  var $el;\r\n  var topPosition = 0;\r\n  var currentDiv = 0;\r\n\r\n  $(container).each(function() {\r\n    $el = $(this);\r\n    $($el).height('auto');\r\n    topPosition = $el.position().top;\r\n\r\n    if (currentRowStart != topPosition) {\r\n      for (currentDiv = 0; currentDiv < rowDivs.length; currentDiv++) {\r\n        rowDivs[currentDiv].height(currentTallest);\r\n      }\r\n      rowDivs.length = 0; // empty the array\r\n      currentRowStart = topPosition;\r\n      currentTallest = $el.height();\r\n      rowDivs.push($el);\r\n    } else {\r\n      rowDivs.push($el);\r\n      currentTallest =\r\n        currentTallest < $el.height() ? $el.height() : currentTallest;\r\n    }\r\n    for (currentDiv = 0; currentDiv < rowDivs.length; currentDiv++) {\r\n      rowDivs[currentDiv].height(currentTallest);\r\n    }\r\n  });\r\n}\r\n\r\n// scroll disable and enable\r\nvar keys = {\r\n  37: 1,\r\n  38: 1,\r\n  39: 1,\r\n  40: 1\r\n};\r\n\r\nfunction preventDefault(e) {\r\n  e = e || window.event;\r\n  if (e.preventDefault) e.preventDefault();\r\n  e.returnValue = false;\r\n}\r\n\r\nfunction preventDefaultForScrollKeys(e) {\r\n  if (keys[e.keyCode]) {\r\n    preventDefault(e);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function disableScroll() {\r\n  if (window.addEventListener)\r\n    // older FF\r\n    window.addEventListener('DOMMouseScroll', preventDefault, false);\r\n  window.onwheel = preventDefault; // modern standard\r\n  window.onmousewheel = document.onmousewheel = preventDefault; // older browsers, IE\r\n  window.ontouchmove = preventDefault; // mobile\r\n  document.onkeydown = preventDefaultForScrollKeys;\r\n}\r\n\r\nexport function enableScroll() {\r\n  if (window.removeEventListener)\r\n    window.removeEventListener('DOMMouseScroll', preventDefault, false);\r\n  window.onmousewheel = document.onmousewheel = null;\r\n  window.onwheel = null;\r\n  window.ontouchmove = null;\r\n  document.onkeydown = null;\r\n}\r\n\r\nexport function scrollTop() {\r\n  return document.body.scrollTop || document.documentElement.scrollTop;\r\n}\r\n\r\nexport function getHash() {\r\n  if (window.location.hash) {\r\n    var hash = window.location.hash.substring(1); //Puts hash in variable, and removes the # character\r\n    return hash;\r\n    // hash found\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\nexport function setHash(hash) {\r\n  if (history.pushState) {\r\n    history.pushState(null, null, '#' + hash);\r\n  } else {\r\n    location.hash = '#' + hash;\r\n  }\r\n}\r\n\r\nexport function disableBodyScroll() {\r\n  var scrollTop = lastScrollTop;\r\n  $win.on('scroll.window', function() {\r\n    $win.scrollTop(scrollTop);\r\n  });\r\n}\r\nexport function enableBodyScroll() {\r\n  $win.off('scroll.window');\r\n}\r\n\r\nexport function shuffleArray(array) {\r\n  var currentIndex = array.length,\r\n    temporaryValue,\r\n    randomIndex;\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n  return array;\r\n}\r\n\r\nexport function TemplateEngine(html, options) {\r\n  var re = /<%([^%>]+)?%>/g,\r\n    reExp = /(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,\r\n    code = 'var r=[];\\n',\r\n    cursor = 0,\r\n    match;\r\n  var add = function(line, js) {\r\n    js\r\n      ? (code += line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n')\r\n      : (code +=\r\n          line != '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '');\r\n    return add;\r\n  };\r\n  while ((match = re.exec(html))) {\r\n    add(html.slice(cursor, match.index))(match[1], true);\r\n    cursor = match.index + match[0].length;\r\n  }\r\n  add(html.substr(cursor, html.length - cursor));\r\n  code += 'return r.join(\"\");';\r\n  return new Function(code.replace(/[\\r\\t\\n]/g, '')).apply(options);\r\n}\r\n\r\nexport function actualSize($el) {\r\n  var previousCss = $el.attr('style');\r\n\r\n  $el.css({\r\n    position: 'absolute', // Optional if #myDiv is already absolute\r\n    visibility: 'hidden',\r\n    display: 'block',\r\n    maxHeight: 'none',\r\n    height: 'auto'\r\n  });\r\n  var returnObj = {\r\n    height: $el.height(),\r\n    width: $el.width()\r\n  };\r\n  $el.attr('style', previousCss ? previousCss : '');\r\n\r\n  return returnObj;\r\n}\r\n\r\nexport function addOneTimeEvent(conditionFunc, doFunc, interval, context) {\r\n  var intervalFunc = window.setInterval(function() {\r\n    if (conditionFunc(context)) {\r\n      window.clearInterval(intervalFunc);\r\n      doFunc(context);\r\n    }\r\n  }, interval);\r\n}\r\n\r\nexport function fixExperienceEditorNavigation(navElementToFix) {\r\n  var loadingIndicator = $('#ribbonPreLoadingIndicator');\r\n  // var that = this;\r\n  if (loadingIndicator.length !== 0) {\r\n    addOneTimeEvent(\r\n      function(/* that */) {\r\n        //are we ready to fix stuff?\r\n        if (loadingIndicator[0].style.display === 'none') {\r\n          var height = $('#scCrossPiece').css('height');\r\n          if (\r\n            getExperienceEditor().getContext().isRibbonRendered &&\r\n            height !== '50px'\r\n          ) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      function(/* that */) {\r\n        //we are ready to fix, now fix\r\n        if (\r\n          window.Sitecore &&\r\n          Sitecore.PageModes &&\r\n          !Sitecore.PageModes.PageEditor\r\n        ) {\r\n          // Preview mode\r\n          $('.headerClassic-spacer').css('padding-top', 0);\r\n          navElementToFix.css('position', 'relative');\r\n          $('.headerSlider-navigation').css('position', 'absolute');\r\n          $('.headerSlider-navigation').css('top', 0);\r\n          $('.headerSlider-navigation').css('width', '100%');\r\n        }\r\n\r\n        // var scCrossPieceHeight = $('#scCrossPiece').css('height');\r\n        // navElementToFix.css(\"top\", scCrossPieceHeight);\r\n        // console.log(\"setting height: \" + scCrossPieceHeight);\r\n      },\r\n      100,\r\n      this\r\n    );\r\n  } else if (window.Sitecore && Sitecore.WebEdit) {\r\n    // when content editor is open\r\n    $('.headerClassic-spacer').css('padding-top', 0);\r\n  }\r\n}\r\n\r\nvar lastScrollTop = 0;\r\n// notify modules that scroll or resize has happened (this way we only have one scroll/resize event listener)\r\n$win\r\n  .on({\r\n    'DOMMouseScroll mousewheel scroll ': debounce(function() {\r\n      var st = $win.scrollTop();\r\n      var scrollDirection = '';\r\n\r\n      // find out if we scroll/touchmove up or down\r\n      if (st > lastScrollTop) {\r\n        scrollDirection = 'down';\r\n      } else if (st < lastScrollTop) {\r\n        scrollDirection = 'up';\r\n      } else {\r\n        scrollDirection = '';\r\n      }\r\n      var delta = lastScrollTop - st;\r\n      lastScrollTop = st;\r\n      if (scrollDirection == 'down') {\r\n        scrollDirection = 'down';\r\n      } else if (scrollDirection == 'up') {\r\n        // Do nothing\r\n      } else {\r\n        scrollDirection = false;\r\n      }\r\n\r\n      emitter.emit('scroll', {\r\n        top: $win.scrollTop(),\r\n        direction: delta\r\n      });\r\n    }, 5),\r\n    resize: debounce(function() {\r\n      this.viewportHeight = $html.outerHeight();\r\n      emitter.emit('resize', {\r\n        height: $html.outerHeight(),\r\n        width: $html.width()\r\n      });\r\n    }, 150)\r\n  })\r\n  .trigger('scroll')\r\n  .trigger('resize');\r\n\r\n$win.keydown(function(e) {\r\n  // e.preventDefault();\r\n  var key = null;\r\n  //enter\r\n  if (e.which === 13) {\r\n    key = 'enter';\r\n  }\r\n  //escape\r\n  if (e.which === 27) {\r\n    // emitter.emit('keyEvent', 'escape');\r\n    key = 'escape';\r\n  }\r\n  //space\r\n  if (e.which === 32) {\r\n    // emitter.emit('keyEvent', 'space');\r\n    key = 'space';\r\n  }\r\n  // uparrow\r\n  if (e.which === 38) {\r\n    // emitter.emit('keyEvent', 'up');\r\n    key = 'up';\r\n  }\r\n  //downarrow\r\n  if (e.which === 40) {\r\n    // emitter.emit('keyEvent', 'down');\r\n    key = 'down';\r\n  }\r\n  // arrowRight\r\n  if (e.which === 39) {\r\n    // emitter.emit('keyEvent', 'right');\r\n    key = 'right';\r\n  }\r\n  // arrowLeft\r\n  if (e.which === 37) {\r\n    // emitter.emit('keyEvent', 'left');\r\n    key = 'left';\r\n  }\r\n  //backspace\r\n  if (e.which === 8) {\r\n    // emitter.emit('keyEvent', 'backspace');\r\n    key = 'backspace';\r\n  }\r\n  if (key) {\r\n    emitter.emit('keyEvent', key);\r\n  }\r\n});\r\n\r\nexport function getGlobalSettings() {\r\n  const defaultSettings = {\r\n    numberLocale: 'en',\r\n    dateFormat: 'DD.MM.YYYY HH:mm'\r\n  };\r\n\r\n  const body = document.querySelector('body');\r\n  const settings = {\r\n    ...defaultSettings,\r\n    ...body.dataset\r\n  };\r\n\r\n  if (typeof arguments[0] === 'string' && settings.hasOwnProperty(arguments[0])) {\r\n    return settings[arguments[0]];\r\n  }\r\n\r\n  return settings;\r\n}\r\n\r\nexport function setupListenerOnViewportHeight() {\r\n  if (window.hasSetupViewportHeight) return;\r\n\r\n  function setDocHeight() {\r\n    document.documentElement.style.setProperty('--vh', `${window.innerHeight/100}px`);\r\n  };\r\n\r\n  window.addEventListener('DOMContentLoaded', setDocHeight);\r\n  window.addEventListener('Load', setDocHeight);\r\n  window.addEventListener('resize', setDocHeight);\r\n  window.addEventListener('orientationchange', setDocHeight);\r\n\r\n  window.hasSetupViewportHeight = true;\r\n}\r\n\r\nexport function createElementFromHTML(htmlString) {\r\n  const div = document.createElement('div');\r\n  div.innerHTML = htmlString.trim();\r\n  return div.firstChild; \r\n}\r\n\r\nexport function noop() {}\r\n\r\nexport function isFunction(func) {\r\n  return typeof func === 'function';\r\n}\r\n\r\nexport function paragraphOverflow($el) {\r\n  $el.each((i, el) => {\r\n    var text;\r\n    while (el.clientHeight < el.scrollHeight) {\r\n      text = el.innerHTML.trim();\r\n      if (text.split(\" \").length <= 1) {\r\n        break;\r\n      }\r\n      el.innerHTML = text.replace(/\\W*\\s(\\S)*$/, \"...\");\r\n    }\r\n  });\r\n}\r\n","// External CSS\r\nrequire('./scss/main.scss');\r\nrequire('./scss/main-print.scss');\r\n\r\n// Modules scss\r\nimport \"./modules/relatedReads/relatedReads.scss\";\r\nimport \"./modules/section/section.scss\";\r\nimport \"./modules/videoCarousel/videoCarousel.scss\";\r\n\r\n// Site Themes Scss\r\nimport \"./scss/sites/blue/blue.scss\";\r\nimport \"./scss/sites/red/red.scss\";\r\nimport \"./scss/sites/radius/radius.scss\";\r\n\r\n// Globals\r\nconst $ = window.$ = require('jquery');\r\n\r\nvar oldParseJSON = $.parseJSON;\r\n$.parseJSON = function (json) {\r\n  if (!json && json !== null) {\r\n    console.warn(\"jQuery.parseJSON requires a valid JSON string\");\r\n    return null;\r\n  }\r\n  return oldParseJSON.apply(this, arguments);\r\n};\r\n\r\n// This function is already deprecated in jquery v3\r\n$.fn.extend({\r\n  size: () => {\r\n    return this.length;\r\n  }\r\n});\r\n\r\n// External JS\r\nrequire('datatables.net')(window, $);\r\nrequire('jquery-validation');\r\nrequire('jquery-validation-unobtrusive');\r\nrequire('video.js');\r\nrequire('bootstrap-sass');\r\nrequire('./modules/base/utils/helpers');\r\nrequire('./js/main');\r\n\r\nrequire('./modules/base/angular/app');\r\n","/* eslint-disable */\r\nimport $ from \"jquery\";\r\n\r\nwindow.encapsulateString = function(text) {\r\n  return '\"' + text.replace(/\"/g, \"'\") + '\"';\r\n};\r\n\r\nwindow.decapsulateString = function(text) {\r\n  if (\r\n    typeof text === 'string' &&\r\n    text.substr(0, 1) === '\"' &&\r\n    text.substr(text.length - 1, 1) === '\"'\r\n  )\r\n    return text.substr(1, text.length - 2);\r\n  else return text;\r\n};\r\n\r\nwindow.getRequestParameter = function(key) {\r\n  var parameters = window.location.search.replace('?', '');\r\n\r\n  var keyValues = parameters.split('&');\r\n\r\n  for (var i = 0; i < keyValues.length; ++i) {\r\n    var keyValue = keyValues[i].split('=');\r\n\r\n    if (keyValue[0] === key) return decodeURIComponent(keyValue[1]);\r\n  }\r\n\r\n  return '';\r\n};\r\n\r\n//Inspired from http://stackoverflow.com/questions/281264/remove-empty-elements-from-an-array-in-javascript\r\nwindow.cleanArray = function(actual, deleteValue) {\r\n  var newArray = new Array();\r\n  for (var i = 0; i < actual.length; ++i) {\r\n    if (actual[i] !== deleteValue) {\r\n      newArray.push(actual[i]);\r\n    }\r\n  }\r\n\r\n  return newArray;\r\n};\r\n\r\nwindow.appendToUrls = function(parameterName, parameterValue) {\r\n  var links = $('a');\r\n\r\n  for (var i = 0, length = links.length; i < length; ++i) {\r\n    var currentHref = $(links[i]).attr('href');\r\n\r\n    if (angular.isUndefined(currentHref) || currentHref.indexOf('/') !== 0)\r\n      continue;\r\n\r\n    //If the link contains other parameters, add it, otherwise begin parameters\r\n    if (currentHref.indexOf('?') > -1)\r\n      $(links[i]).attr(\r\n        'href',\r\n        currentHref + '&' + parameterName + '=' + parameterValue\r\n      );\r\n    else\r\n      $(links[i]).attr(\r\n        'href',\r\n        currentHref + '?' + parameterName + '=' + parameterValue\r\n      );\r\n  }\r\n};\r\n\r\nwindow.shortYear = function(value) {\r\n  if (typeof value !== 'string') return value.toString().slice(-2);\r\n  else return value.slice(-2);\r\n};\r\n\r\n//From http://stackoverflow.com/questions/5639346/what-is-the-shortest-function-for-reading-a-cookie-by-name-in-javascript\r\nwindow.getCookieValue = function getCookieValue(a) {\r\n  var b = document.cookie.match('(^|;)\\\\s*' + a + '\\\\s*=\\\\s*([^;]+)');\r\n  return b ? b.pop() : '';\r\n};\r\n\r\n//From http://stackoverflow.com/questions/3224834/get-difference-between-2-dates-in-javascript\r\nwindow.getDifferenceInDays = function(fromDate, toDate) {\r\n  var timeDiff = Math.abs(toDate.getTime() - fromDate.getTime());\r\n  var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\r\n\r\n  return diffDays;\r\n};\r\n\r\nwindow.getDifferenceInHours = function(fromDate, toDate) {\r\n  var timeDiff = Math.abs(toDate.getTime() - fromDate.getTime());\r\n  var diffHours = Math.ceil(timeDiff / (1000 * 3600));\r\n\r\n  return diffHours;\r\n};\r\n\r\nwindow.disableSpinner = function(button) {\r\n  button.next('.formLoaderContainer').remove();\r\n  button.removeAttr('disabled');\r\n  button.css('padding-left', '');\r\n  button.css('-webkit-transition', '');\r\n  button.css('transition', '');\r\n};\r\n\r\n$(document).ready(function() {\r\n  //From http://stackoverflow.com/questions/9046184/reload-the-site-when-reached-via-browsers-back-button\r\n  //Used to prevent people from going back in the browser history for accessing pages which require authentication\r\n  var $input = $('#refresh-page');\r\n\r\n  $input.val() === 'yes' ? location.reload(true) : $input.val('yes');\r\n\r\n  //Add referer to the contact page\r\n  var $contactAnchor = $('a.refer-link');\r\n\r\n  $contactAnchor.attr(\r\n    'href',\r\n    $contactAnchor.attr('href') + '?referer=' + window.location\r\n  );\r\n});\r\n\r\n//Make date sorting possible in datatables\r\n//Taken from https://github.com/l-lin/angular-datatables/issues/313\r\n$.extend($.fn.dataTableExt.oSort, {\r\n  'date-pre': function(date) {\r\n    return moment(date, 'DD-MM-YYYY');\r\n  },\r\n  'date-asc': function(a, b) {\r\n    return a.isBefore(b) ? -1 : a.isAfter(b) ? 1 : 0;\r\n  },\r\n  'date-desc': function(a, b) {\r\n    return a.isBefore(b) ? 1 : a.isAfter(b) ? -1 : 0;\r\n  },\r\n  'danish-number-pre': function(number) {\r\n    return parseFloat(number.replace('.', '').replace(',', '.'));\r\n  },\r\n  'danish-number-asc': function(a, b) {\r\n    return a < b ? -1 : a > b ? 1 : 0;\r\n  },\r\n  'danish-number-desc': function(a, b) {\r\n    return a < b ? 1 : a > b ? -1 : 0;\r\n  }\r\n});\r\n\r\nwindow.WebForm_FireDefaultButton = function(event, target) {\r\n  if (event.keyCode == 13) {\r\n    var __nonMSDOMBrowser =\r\n      window.navigator.appName.toLowerCase().indexOf('explorer') == -1;\r\n    var src = event.srcElement || event.target;\r\n    if (!src || src.tagName.toLowerCase() != 'textarea') {\r\n      var defaultButton;\r\n      if (__nonMSDOMBrowser) {\r\n        defaultButton = document.getElementById(target);\r\n      } else {\r\n        defaultButton = document.all[target];\r\n      }\r\n      if (defaultButton && typeof defaultButton.click != 'undefined') {\r\n        defaultButton.click();\r\n        event.cancelBubble = true;\r\n        if (event.stopPropagation) event.stopPropagation();\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n};\r\n","if (window.angular !== undefined) {\r\n    Array.prototype.indexOfBy = function(name, value) {\r\n        for (var i = 0; i < this.length; i++) {\r\n            if (angular.equals(this[i][name], value)) {\r\n                return i;\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n    Array.prototype.getElementBy = function(name, value) {\r\n        var index = this.indexOfBy(name, value);\r\n\r\n        if (index > -1) {\r\n            return this[index];\r\n        }\r\n\r\n        return null;\r\n    }\r\n}","/* eslint-disable */\r\n// Polyfill: https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\r\n(function() {\r\n  if (typeof window.CustomEvent === 'function') return false;\r\n\r\n  function CustomEvent(event, params) {\r\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\r\n    var evt = document.createEvent('CustomEvent');\r\n    evt.initCustomEvent(\r\n      event,\r\n      params.bubbles,\r\n      params.cancelable,\r\n      params.detail\r\n    );\r\n    return evt;\r\n  }\r\n\r\n  CustomEvent.prototype = window.Event.prototype;\r\n\r\n  window.CustomEvent = CustomEvent;\r\n})();\r\n","/**\r\n * Class: AnnouncementList\r\n * Description: AnnouncementList script\r\n */\r\nimport $ from 'jquery';\r\nimport moment from 'moment';\r\nimport { DateFormatingOptions, $win } from '../base/utils/utils';\r\n\r\nexport default class Announcement {\r\n  constructor(config) {\r\n    this.sets = {\r\n      pagesize: 20,\r\n      offset: 0,\r\n      item: null,\r\n      apiAddress: '',\r\n      domOrder: '',\r\n      createdRow: function(row, data, index) {\r\n        $(row).addClass('list-items-item');\r\n      },\r\n      columnDefs: [\r\n        {\r\n          targets: [0],\r\n          className: \"list-items-item-column  list-items-item-column-haslink\",\r\n          searchable: true,\r\n          render: function (data, type, row) {\r\n            const dateFormatted = moment(data).format(DateFormatingOptions.dateFormat);\r\n            return `<a class=\"list-items-item-column-link\" href=\"${row[3]}\"></a><span class=\"list-items-item-value list-items-item-value-type-text\">${dateFormatted}</span>`;\r\n          }\r\n        },\r\n        {\r\n          targets: [1],\r\n          className: \"list-items-item-column list-items-item-column-haslink-mobile\",\r\n          render: function (data, type, row) {\r\n            const dateFormatted = moment(row[0]).format(DateFormatingOptions.dateFormat);\r\n            return `<a class=\"list-items-item-column-link\" href=\"${row[3]}\"></a><span class=\"list-items-item-value list-items-item-value-type-text hide-date-md\">${dateFormatted}</span><span class=\"list-items-item-value list-items-item-value-type-text\"><b>${row[1]}</b><br>${row[2]}</span>`;\r\n          }\r\n        }\r\n      ],\r\n      language: {\r\n        paginate: {\r\n          next: '<span aria-hidden=\"true\">›</span><span class=\"sr-only\">Next</span>',\r\n          previous: '<span aria-hidden=\"true\">‹</span><span class=\"sr-only\">Previous</span>',\r\n        },\r\n        emptyTable: \"No data available in table\"\r\n      }\r\n    };\r\n\r\n    this.dataTableElem = null;\r\n\r\n    this.config = $.extend({\r\n        el: '.announcement-module',\r\n        table: '.announcements-main-list',\r\n        filters: '.announcement-filters',\r\n        dropdowns:'.announcement-filters-dropdown',\r\n        monthFilterContainer: '.announcement-filters-month',\r\n        month: '.month',\r\n        year: '.year'\r\n      },config);\r\n    this.$el = $(this.config.el);\r\n    this.$table = $(this.config.table);\r\n    this.$filters = $(this.config.filters);\r\n    this.$month = this.$filters.find(this.config.month);\r\n    this.$year = this.$filters.find(this.config.year);\r\n    this.$monthFilterContainer = this.$filters.find(this.config.monthFilterContainer);\r\n\r\n    if(this.$el.length){\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  init(options) {\r\n    const AnnouncementListOptions = window.AnnouncementListOptions || {};\r\n    $.extend(true, this.sets, AnnouncementListOptions);\r\n    this.initDataTable();\r\n    this.bindEvents();\r\n  }\r\n\r\n  initDataTable() {\r\n    if ($win.width() > 420 && $win.width() < 768) {\r\n      $.fn.dataTable.ext.pager.numbers_length = 6;\r\n    } else if ($win.width() > 330 && $win.width() < 420) {\r\n      $.fn.dataTable.ext.pager.numbers_length = 5;\r\n    } else if ($win.width() <= 330) {\r\n      $.fn.dataTable.ext.pager.numbers_length = 4;\r\n    }\r\n\r\n    this.dataTableElem = this.$table.DataTable({\r\n      ordering: false,\r\n      info: false,\r\n      responsive: true,\r\n      stateSave: true,\r\n      bLengthChange: false,\r\n      processing: true,\r\n      serverSide: true,\r\n      searching: false,\r\n      ajax: {\r\n        url: this.sets.apiAddress,\r\n        data: (d) => {\r\n          d.offset = this.sets.offset;\r\n          d.item = this.sets.item;\r\n          d.month = this.$month.val();\r\n          d.year = this.$year.val();\r\n          d.cacontextlanguage = this.sets.calanguage;\r\n        },\r\n        dataSrc: this.sets.dataSrcFunction\r\n      },\r\n      pageLength: this.sets.pagesize,\r\n      dom: this.sets.domOrder,\r\n      createdRow: this.sets.createdRow,\r\n      columnDefs: this.sets.columnDefs,\r\n      language: this.sets.language\r\n    });\r\n  }\r\n\r\n  bindEvents() {\r\n    this.$month.on('change', () => {\r\n      this.dataTableElem.draw();\r\n    });\r\n\r\n    this.$year.on('change', (e) => {\r\n      if ($(e.target).val() != 0) {\r\n        this.$monthFilterContainer.show();\r\n      } else {\r\n        this.$monthFilterContainer.hide();\r\n      }\r\n\r\n      this.dataTableElem.draw();\r\n    });\r\n  }\r\n}\r\n","import $ from 'jquery';\r\n\r\nexport default class Calendar {\r\n  constructor(options) {\r\n    this.$el = $(options.$el);\r\n    this.addBtnClassName = '.calendar__add-btn';\r\n    this.popOverClassName = '.calendar__popover';\r\n    this.popOverListClassName = '.calendar__popover-list';\r\n    this.activeBtnClassName = '.calendar__add-btn--active';\r\n    this.animationSpeed = 300;\r\n    if (this.$el) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  init() {\r\n    if (this.$el.find(this.popOverClassName)) {\r\n      this.popover();\r\n    }\r\n  }\r\n\r\n  removeCharacterFromString(checked) {\r\n    return checked.split('.').join('');\r\n  }\r\n\r\n  popover() {\r\n    const $btn = this.$el.find(this.addBtnClassName);\r\n    const $popOver = $btn.next(this.popOverClassName);\r\n    $btn.on('click', e => {\r\n      const currentBtn = $(e.currentTarget);\r\n      if (\r\n        !currentBtn.hasClass(\r\n          this.removeCharacterFromString(this.activeBtnClassName)\r\n        )\r\n      ) {\r\n        $popOver.fadeOut(this.animationSpeed);\r\n        $btn.removeClass(\r\n          this.removeCharacterFromString(this.activeBtnClassName)\r\n        );\r\n        currentBtn.closest('.container-fluid').css('zIndex', null);\r\n      }\r\n      currentBtn.next(this.popOverClassName).fadeIn(this.animationSpeed);\r\n      currentBtn.addClass(\r\n        this.removeCharacterFromString(this.activeBtnClassName)\r\n      );\r\n      currentBtn.closest('.container-fluid').css('zIndex', 1);\r\n    });\r\n\r\n    $(document).on('click', e => {\r\n      const popoverTarget = $(e.target);\r\n      if (\r\n        !popoverTarget.is(this.popOverListClassName) &&\r\n        !popoverTarget.is(this.addBtnClassName)\r\n      ) {\r\n        $popOver.fadeOut(this.animationSpeed);\r\n        $popOver.closest('.container-fluid').css('zIndex', null);\r\n      }\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Class: SearchResults\r\n * Description: SearchResults script\r\n */\r\nimport { $win } from '../base/utils/utils';\r\nconst $ = window.$;\r\n\r\nexport default class SearchResults {\r\n  constructor(config) {\r\n    $('.empty_result').hide();\r\n    $('.has_result').hide();\r\n    this.sets = {\r\n      pagesize: 20,\r\n      offset: 0,\r\n      phrase: '',\r\n      ankiroProfile: '',\r\n      apiAddress: '',\r\n      domOrder: '',\r\n      createdRow: function(row) {\r\n        $(row).addClass('list-items-item');\r\n      },\r\n      columnDefs: [\r\n        {\r\n          targets: [0],\r\n          className: 'list-items-item-column  list-items-item-column-haslink',\r\n          render: function(data, type, row) {\r\n            var breadcumblist = row['BreadCrumbList'];\r\n            var breadcumbStr = '';\r\n            if (breadcumblist !== null) {\r\n              breadcumblist.forEach(item => {\r\n                breadcumbStr +=\r\n                  \"<li class='breadcrumb-item--sov'><a href='\" +\r\n                  item.URL +\r\n                  \"' class='breadcrumb-link-sov'>\" +\r\n                  item.DisplayName +\r\n                  '</a></li>';\r\n              });\r\n            } else {\r\n              breadcumbStr =\r\n                \"<li class='breadcrumb-item--sov'><a href='/' class='breadcrumb-link-sov'></a></li>\";\r\n            }\r\n            return (\r\n              \"<div><ul class='breadcrumbs--sov'>\" +\r\n              breadcumbStr +\r\n              '</ul>' +\r\n              \"<span class='list-items-item-value list-items-item-value-type-text word_break'><a class='search-results-link' href='\" +\r\n              row['PageUrl'] +\r\n              \"'>\" +\r\n              (row['PageTitle'] !== ''\r\n                ? \"<b class='word_break searchpage_title'>\" +\r\n                  row['PageTitle'] +\r\n                  '</b><br />'\r\n                : '') +\r\n              \"<p class='list-item-description'>\" +\r\n              row['PageContentHtml'] +\r\n              '</p></a></span></div>'\r\n            );\r\n          }\r\n        }\r\n      ],\r\n      language: {\r\n        paginate: {\r\n          next:\r\n            '<span aria-hidden=\"true\">›</span><span class=\"sr-only\">Next</span>',\r\n          previous:\r\n            '<span aria-hidden=\"true\">‹</span><span class=\"sr-only\">Previous</span>'\r\n        },\r\n        emptyTable: 'No data available in table'\r\n      }\r\n    };\r\n\r\n    this.dataTableElem = null;\r\n\r\n    this.config = $.extend(\r\n      {\r\n        el: '.search-result-module',\r\n        table: '.search-result-list',\r\n        resultsPerPage: '.search-results-per-page',\r\n        categories: '.category-filter',\r\n        searchPhrase: '#search',\r\n        searchPhraseBtn: '.search-result-submit-btn',\r\n        hdnSearchResultText: '#hdnSearchResultText',\r\n        searchResultTextHeading4: '#searchResultText h4'\r\n      },\r\n      config\r\n    );\r\n\r\n    this.$el = $(this.config.el);\r\n    this.$table = this.$el.find(this.config.table);\r\n    this.$resultsPerPage = this.$el.find(this.config.resultsPerPage);\r\n    this.$categories = this.$el.find(this.config.categories);\r\n    this.$searchPhrase = this.$el.find(this.config.searchPhrase);\r\n    this.$searchPhraseBtn = this.$el.find(this.config.searchPhraseBtn);\r\n    this.$hdnSearchResultText = $(this.config.hdnSearchResultText);\r\n    this.$searchResultTextHeading4 = $(this.config.searchResultTextHeading4);\r\n    if (this.$el.length) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  init(/* options */) {\r\n    let SearchResultsOptions = window.SearchResultsOptions || {};\r\n    $.extend(true, this.sets, SearchResultsOptions);\r\n    this.bindEvents();\r\n  }\r\n  initDataTable() {\r\n    if ($win.width() > 420 && $win.width() < 768) {\r\n      $.fn.dataTable.ext.pager.numbers_length = 7;\r\n    } else if ($win.width() > 330 && $win.width() < 420) {\r\n      $.fn.dataTable.ext.pager.numbers_length = 6;\r\n    } else if ($win.width() <= 330) {\r\n      $.fn.dataTable.ext.pager.numbers_length = 5;\r\n    }\r\n\r\n    var self = this;\r\n    this.dataTableElem = this.$table.DataTable({\r\n      ordering: false,\r\n      info: false,\r\n      stateSave: true,\r\n      responsive: true,\r\n      bLengthChange: false,\r\n      processing: true,\r\n      serverSide: true,\r\n      searching: false,\r\n      lengthChange: true,\r\n      ajax: {\r\n        url: this.sets.apiAddress,\r\n        data: function(d) {\r\n          d.offset = self.sets.offset;\r\n          d.phrase = self.$searchPhrase.val();\r\n          d.ankiroProfile = self.sets.ankiroProfile;\r\n          d.categories = encodeURIComponent(self.getCategories()); //encodeURIComponent('uri=' + self.$categories.filter(':checked').val());\r\n        },\r\n        dataSrc: this.sets.dataSrcFunction\r\n      },\r\n      pageLength: this.sets.pagesize,\r\n      dom: this.sets.domOrder,\r\n      createdRow: this.sets.createdRow,\r\n      columnDefs: this.sets.columnDefs,\r\n      language: this.sets.language,\r\n      drawCallback: function(settings) {\r\n        var categoriesCount = settings.json.CategoriesCount;\r\n        categoriesCount.forEach(function(value, index) {\r\n          $('#countCategory' + index).text(value);\r\n          $('#countCategorym' + index).text(value);\r\n        });\r\n        let recordsTotal = 0;\r\n        var pagination = $(this)\r\n          .closest('.dataTables_wrapper')\r\n          .find('.dataTables_paginate');\r\n        pagination.toggle(this.api().page.info().pages > 1);\r\n        var hv = self.$hdnSearchResultText.val();\r\n\r\n        if (this.api().page.info().pages === 0) {\r\n          recordsTotal = 0;\r\n        } else {\r\n          recordsTotal = this.api().page.info().recordsTotal;\r\n        }\r\n        var searchResultText = hv.replace('{total}', recordsTotal);\r\n        let currentPage = this.api().page.info().page + 1;\r\n        let toItems = this.api().page.info().length * currentPage;\r\n        if (this.api().page.info().length * currentPage > recordsTotal) {\r\n          toItems = recordsTotal;\r\n        }\r\n\r\n        if (this.api().page.info().pages === 0) {\r\n          $('.empty_result').show();\r\n          $('.has_result').hide();\r\n        } else {\r\n          $('.empty_result').hide();\r\n          $('.has_result').show();\r\n          $('#search_results_inbetween').text(\r\n            this.api().page.info().length * this.api().page.info().page +\r\n              1 +\r\n              ' - ' +\r\n              toItems\r\n          );\r\n          $('#total_results').text(recordsTotal);\r\n        }\r\n\r\n        self.$searchResultTextHeading4.text(searchResultText);\r\n        $('html, body').animate(\r\n          { scrollTop: $('#search').offset().top - 100 },\r\n          'slow'\r\n        );\r\n      }\r\n    });\r\n  }\r\n  bindEvents() {\r\n    var self = this;\r\n    $(document).ready(function() {\r\n      ////if(self.$resultsPerPage.val().length !== 0)\r\n      //{\r\n      // self.sets.pagesize=parseInt(self.$resultsPerPage.val());\r\n      // }\r\n      self.sets.pagesize = parseInt(10);\r\n      self.initDataTable();\r\n      var re = new RegExp('RedrawTable=([^;]+)');\r\n      var cv = re.exec(document.cookie);\r\n      if (cv != null) {\r\n        if (unescape(cv[1]) == 'true') {\r\n          document.cookie =\r\n            'RedrawTable=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';\r\n          self.dataTableElem.draw();\r\n        }\r\n      }\r\n    });\r\n\r\n    this.$categories.on('change', function() {\r\n      let selected_id = $(this).attr('id');\r\n      if (selected_id.indexOf('_m') >= 0) {\r\n        selected_id = selected_id.substring(0, selected_id.length - 2);\r\n        $('#' + selected_id).prop('checked', $(this).prop('checked'));\r\n      } else {\r\n        $('#' + selected_id + '_m').prop('checked', $(this).prop('checked'));\r\n      }\r\n\r\n      $('html, body').animate(\r\n        { scrollTop: $('#search').offset().top - 100 },\r\n        'slow'\r\n      );\r\n      self.dataTableElem.draw();\r\n      self.updateQueryInURL();\r\n    });\r\n    this.$resultsPerPage.on('change', function() {\r\n      self.dataTableElem.page.len($(this).val());\r\n      self.dataTableElem.draw();\r\n      self.updateQueryInURL();\r\n    });\r\n    this.$searchPhraseBtn.on('click', function() {\r\n      self.dataTableElem.draw();\r\n      self.updateQueryInURL();\r\n    });\r\n    this.$searchPhrase.on('keyup', function(e) {\r\n      e = e || window.event;\r\n\r\n      if (e.keyCode == 13) {\r\n        self.dataTableElem.draw();\r\n        self.updateQueryInURL();\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n  getCategories() {\r\n    var cats = '';\r\n    this.$categories.filter(':checked').each(function() {\r\n      if (cats == '') cats += 'uri=' + $(this).val();\r\n      else cats += '&uri=' + $(this).val();\r\n    });\r\n    return cats;\r\n  }\r\n\r\n  updateQueryInURL() {\r\n    var self = this;\r\n    var pageUrl = window.location.href.split('?')[0];\r\n    var searchText = self.$el.find(self.$searchPhrase).val();\r\n    var params = { search: searchText };\r\n    var new_url = pageUrl + '?' + $.param(params);\r\n    window.history.pushState({ path: new_url }, '', new_url);\r\n  }\r\n}\r\n","/**\r\n * Class: RssFeed\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\n\r\nexport default class RssFeed {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.rsssignup',\r\n        postUrl: '/api/feature/rssfeed/signup'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    var element = this.$el;\r\n\r\n    this.submitForm(element);\r\n  }\r\n  validateForm(element) {\r\n    element.validate({\r\n      errorPlacement: function errorPlacement(error, element) {\r\n        if (element.is('#Privacy')) {\r\n          error.insertAfter('.privacy-confirmation-text');\r\n        } else {\r\n          error.insertAfter(element);\r\n        }\r\n      },\r\n      highlight: function(element /* , errorClass */) {\r\n        $(element)\r\n          .parent()\r\n          .addClass('has-error');\r\n      },\r\n      unhighlight: function(element /* , errorClass, validClass */) {\r\n        $(element)\r\n          .parent()\r\n          .removeClass('has-error');\r\n      },\r\n      messages: {\r\n        FirstName: element.find('#FirstName').data('required-text'),\r\n        LastName: element.find('#LastName').data('required-text'),\r\n        Privacy: element.find('#Privacy').data('required-text'),\r\n        Email: {\r\n          required: element.find('#Email').data('required-text'),\r\n          email: element.find('#Email').data('required-invalid-email')\r\n        }\r\n      }\r\n    });\r\n  }\r\n  submitForm(element) {\r\n    var self = this;\r\n    this.validateForm(element);\r\n\r\n    element.submit(function(e) {\r\n      e.preventDefault();\r\n\r\n      if (!$(this).valid()) return false;\r\n\r\n      var formData = {\r\n        firstname: $(this)\r\n          .find('#FirstName')\r\n          .val(),\r\n        lastname: $(this)\r\n          .find('#LastName')\r\n          .val(),\r\n        email: $(this)\r\n          .find('#Email')\r\n          .val(),\r\n        dataSources: [\r\n          {\r\n            datasourceId: $(this)\r\n              .find('#DataSourceId')\r\n              .val()\r\n          }\r\n        ]\r\n      };\r\n\r\n      $(this)\r\n        .find('.additional-signups input')\r\n        .each(function() {\r\n          var $thisInput = $(this);\r\n          if ($thisInput.is(':checked')) {\r\n            formData.dataSources.push({\r\n              datasourceId: $thisInput.val()\r\n            });\r\n          }\r\n        });\r\n      var $button = element.find('.rsssignup-submit');\r\n      self.sendData(formData);\r\n      self.addSpinner($button);\r\n    });\r\n  }\r\n  addSpinner($el) {\r\n    $el\r\n      .attr('disabled', 'disabled')\r\n      .parent()\r\n      .append(\r\n        '<div class=\"formLoaderContainer\"><div style=\"display:inline-block\"><div class=\"formLoader\"></div></div></div>'\r\n      );\r\n    $el.css('cssText', 'padding-left: 45px !important');\r\n    $el.css('-webkit-transition', 'none');\r\n    $el.css('transition', 'none');\r\n    $el.find('formLoaderContainer').append();\r\n  }\r\n  sendData(data) {\r\n    var element = this.$el;\r\n    var self = this;\r\n    var request = $.ajax({\r\n      type: 'POST',\r\n      url: self.config.postUrl,\r\n      data: data\r\n    });\r\n\r\n    request.done(function(data) {\r\n      var $formContainer = element.parent('.form-container');\r\n      var $signUpConfirmation = $formContainer\r\n        .parent()\r\n        .find('.rsssignup-confirmation');\r\n      var $signUpConfirmationAlready = $formContainer\r\n        .parent()\r\n        .find('.rsssignup-confirmation-already');\r\n      $formContainer.remove();\r\n      $.each(data.dataSources, function(index, value) {\r\n        if (value.status === 'AlreadySignedUp') {\r\n          $signUpConfirmationAlready.removeClass('d-none');\r\n        } else if (\r\n          value.status === 'Failed' ||\r\n          value.status === 'NoDatasource'\r\n        ) {\r\n          element.find('.rsssignup-error').removeClass('d-none');\r\n        } else {\r\n          $signUpConfirmation.removeClass('d-none');\r\n        }\r\n      });\r\n    });\r\n\r\n    request.fail(function() {\r\n      element.find('.rsssignup-error').removeClass('d-none');\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Class: RssFeed\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\n\r\nexport default class RssFeed {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.rsssignoff',\r\n        postUrl: '/api/feature/rssfeed/signoff'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    var element = this.$el;\r\n    this.submitForm(element);\r\n  }\r\n\r\n  validateForm(element) {\r\n    element.validate({\r\n      highlight: function(element /* , errorClass */) {\r\n        $(element)\r\n          .parent()\r\n          .addClass('has-error');\r\n      },\r\n      unhighlight: function(element /* , errorClass, validClass */) {\r\n        $(element)\r\n          .parent()\r\n          .removeClass('has-error');\r\n      },\r\n      messages: {\r\n        Email: {\r\n          required: element.find('#Email').data('required-text'),\r\n          email: element.find('#Email').data('required-invalid-email')\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  submitForm(element) {\r\n    this.validateForm(element);\r\n\r\n    var self = this;\r\n    element.submit(function(e) {\r\n      e.preventDefault();\r\n\r\n      if (!$(this).valid()) return false;\r\n\r\n      var formData = {\r\n        email: $(this)\r\n          .find('#Email')\r\n          .val(),\r\n        datasourceId: $(this)\r\n          .find('#DataSourceId')\r\n          .val()\r\n      };\r\n      var $button = element.find('.rsssignup-submit');\r\n\r\n      self.addSpinner($button);\r\n      self.sendData(formData);\r\n    });\r\n  }\r\n\r\n  addSpinner($el) {\r\n    $el\r\n      .attr('disabled', 'disabled')\r\n      .parent()\r\n      .append(\r\n        '<div class=\"formLoaderContainer\"><div style=\"display:inline-block\"><div class=\"formLoader\"></div></div></div>'\r\n      );\r\n    $el.css('cssText', 'padding-left: 45px !important');\r\n    $el.css('-webkit-transition', 'none');\r\n    $el.css('transition', 'none');\r\n    $el.find('formLoaderContainer').append();\r\n  }\r\n  sendData(data) {\r\n    var element = this.$el;\r\n    var self = this;\r\n    var request = $.ajax({\r\n      type: 'POST',\r\n      url: self.config.postUrl,\r\n      data: data\r\n    });\r\n\r\n    request.done(function() {\r\n      var $formContainer = element.parent('.form-container');\r\n      var $signUpConfirmation = $formContainer.next('.rsssignup-confirmation');\r\n      $signUpConfirmation.removeClass('d-none');\r\n      $formContainer.addClass('d-none');\r\n    });\r\n\r\n    request.fail(function() {\r\n      element.find('.rsssignup-error').removeClass('d-none');\r\n    });\r\n  }\r\n}\r\n","/**\n * Class: JobList\n */\nimport $ from 'jquery';\nimport moment from 'moment';\nimport { DateFormatingOptions, $win } from '../base/utils/utils';\n\nexport default class JobList {\n  constructor(config) {\n    this.sets = {\n      pagesize: 10,\n      offset: 0,\n      item: null,\n      apiAddress: '',\n      domOrder: '',\n      createdRow: function(row) {\n        $(row).addClass('list-items-item');\n      },\n      columnDefs: [\n        {\n          targets: [0],\n          className: 'list-items-item-column  list-items-item-column-haslink',\n          searchable: true,\n          render: function(data, type, row) {\n            return (\n              \"<a class='list-items-item-column-link' href='\" +\n              row['Link'] +\n              \"'></a><span class='list-items-item-value list-items-item-value-type-text'>\" +\n              row['JobName'] +\n              '<span>'\n            );\n          },\n          defaultContent: ''\n        },\n        {\n          targets: [1],\n          className: 'list-items-item-column  list-items-item-column list-items-item-column-hide-md',\n          render: function(data, type, row) {\n            return (\n              \"<span class='list-items-item-value list-items-item-value-type-text'>\" +\n              row['AreaOfWork'] +\n              '</span>'\n            );\n          },\n          defaultContent: ''\n        },\n        {\n          targets: [2],\n          className: 'list-items-item-column  list-items-item-column list-items-item-column-hide-md',\n          render: function(data, type, row) {\n            return (\n              \"<span class='list-items-item-value list-items-item-value-type-text'>\" +\n              row['EmploymentType'] +\n              \"</span>\"\n            );\n          },\n          defaultContent: ''\n        },\n        {\n          targets: [3],\n          className: 'list-items-item-column  list-items-item-column',\n          render: function(data, type, row) {\n            return (\n              \"<span class='list-items-item-value list-items-item-value-type-text'>\" +\n              row['PositionLocation'] +\n              '</span>'\n            );\n          },\n          defaultContent: ''\n        },\n        {\n          targets: [4],\n          className: 'list-items-item-column  list-items-item-column list-items-item-column-hide-md',\n          render: function(data, type, row) {\n            return (\n              \"<span class='list-items-item-value list-items-item-value-type-text'>\" +\n              row['PositionWorkPlace'] +\n              '</span>'\n            );\n          },\n          defaultContent: ''\n        },\n        {\n          targets: [5],\n          className: 'list-items-item-column  list-items-item-column list-items-item-column-hide-md',\n          render: function(data, type, row) {\n            var dateFromated = moment(row['ApplicationDue']).format(\n              DateFormatingOptions.jobdateFormat\n            );\n            if (dateFromated == \"31.12.9999\") {\n              dateFromated=\"Ongoing\"\n            }\n            return (\n              \"<span class='list-items-item-value list-items-item-value-type-text'>\" +\n              dateFromated +\n              '</span>'\n            );\n          },\n          defaultContent: ''\n        }\n      ],\n      language: {\n        paginate: {\n          next:\n            '<span aria-hidden=\"true\">›</span><span class=\"sr-only\">Next</span>',\n          previous:\n            '<span aria-hidden=\"true\">‹</span><span class=\"sr-only\">Previous</span>'\n        },\n        emptyTable: 'No data available in table',\n      },\n      resultCountTemplate: ''\n    };\n\n    this.dataTableElem = null;\n\n    this.config = $.extend(\n      {\n        el: '.job-module',\n        table: '.job-list',\n        filters: '.job-filters',\n        areaOfWork: '.job-filter-areaOfWork',\n        employmentType: '.job-filter-employmentType',\n        country: '.job-filter-country',\n        workplace: '.job-filter-workplace',\n        search: '.job-filters-search',\n        header: 'header',\n        resultCount: '#result-count',\n      },\n      config\n    );\n\n    this.$el = $(this.config.el);\n    this.$table = this.$el.find(this.config.table);\n    this.$filters = $(this.config.filters);\n\n    this.$areaOfWork = this.$filters.find(this.config.areaOfWork);\n    this.$employmentType = this.$filters.find(this.config.employmentType);\n    this.$country = this.$filters.find(this.config.country);\n    this.$workplace = this.$filters.find(this.config.workplace);\n    this.$search = this.$filters.find(this.config.search);\n    this.$header = $(this.config.header);\n    this.$resultCount = $(this.config.resultCount);\n\n    this.triggerWorkplace = true;\n\n    this.jobFiltersName = ['cat', 'type', 'ctry'];\n\n    if (this.$el.length) {\n      this.init();\n    }\n  }\n\n  init() {\n    let JobListOptions = window.JobListOptions || {};\n    $.extend(true, this.sets, JobListOptions);\n    $.extend(true, this.sets, {\n      columnDefs: [\n        {\n          createdCell: function(td) {\n            $(td).attr('data-label', JobListOptions.columnDataLabels[0]);\n          }\n        },\n        {\n          createdCell: function(td) {\n            $(td).attr('data-label', JobListOptions.columnDataLabels[1]);\n          }\n        },\n        {\n          createdCell: function(td) {\n            $(td).attr('data-label', JobListOptions.columnDataLabels[2]);\n          }\n        },\n        {\n          createdCell: function(td) {\n            $(td).attr('data-label', JobListOptions.columnDataLabels[3]);\n          }\n        },\n        {\n          createdCell: function(td) {\n            $(td).attr('data-label', JobListOptions.columnDataLabels[4]);\n          }\n        },\n        {\n          createdCell: function(td) {\n            $(td).attr('data-label', JobListOptions.columnDataLabels[5]);\n          }\n        }\n      ]\n    });\n    this.bindEvents();\n    this.assignFiltersFromHash();\n  }\n\n  initDataTable() {\n    if ($win.width() > 420 && $win.width() < 768) {\n      $.fn.dataTable.ext.pager.numbers_length = 6;\n    } else if ($win.width() > 330 && $win.width() < 420) {\n      $.fn.dataTable.ext.pager.numbers_length = 5;\n    } else if ($win.width() <= 330) {\n      $.fn.dataTable.ext.pager.numbers_length = 4;\n    }\n\n    var oldStart = 0;\n    var that = this;\n    this.dataTableElem = this.$table.DataTable({\n      ordering: true,\n      info: false,\n      stateSave: true,\n      bLengthChange: false,\n      processing: false,\n      responsive: true,\n      serverSide: true,\n      searching: false,\n      ajax: {\n        type: 'post',\n        contentType : 'application/json',\n        url: this.sets.apiAddress,\n        data: function(d) {\n          d.offset = that.sets.offset;\n          d.item = that.sets.item;\n          d.country = that.$country[0].value.length > 0 ? that.$country[0].value.join(',') : '';\n          d.category = that.$areaOfWork[0].value.length > 0 ? that.$areaOfWork[0].value.join(',') : '';\n          d.jobtitle = that.$search.val();\n          d.workplace = that.$workplace[0].value.length > 0 ? that.$workplace[0].value.join(',') : '';\n          d.employmenttype = that.$employmentType[0].value.length > 0 ? that.$employmentType[0].value.join(',') : '';\n          d.countryFilterID = that.sets.countryFilterID;\n\n          return JSON.stringify(d);\n        },\n        dataSrc: this.sets.dataSrcFunction\n      },\n      pageLength: this.sets.pagesize,\n      dom: this.sets.domOrder,\n      createdRow: this.sets.createdRow,\n      columnDefs: this.sets.columnDefs,\n      language: this.sets.language,\n      fnServerParams: function(data) {\n        // Now you can get columns in backend by names\n        data['order'].forEach(function(items, index) {\n          data['order'][index]['column'] =\n            data['columns'][items.column]['data'];\n        });\n      },\n      drawCallback: function(settings) {\n        const resultsCount = settings.json.data.length;\n\n        if (resultsCount === 0) {\n          that.$table.addClass('no-results');\n        } else {\n          that.$table.removeClass('no-results');\n        }\n\n        that.$resultCount.text(that.sets.resultCountTemplate.replace('{0}', resultsCount));\n\n        if (settings._iDisplayStart != oldStart) {\n          var targetOffset = that.$filters.offset().top - that.$header.height();\n          $('html,body').animate({ scrollTop: targetOffset }, 500);\n          oldStart = settings._iDisplayStart;\n        }\n\n        that.$country.trigger('update-dropdown-position');\n      }\n    });\n  }\n\n  isBackwardCompatible(hashes) {\n    return hashes.indexOf('=') === -1;\n  }\n\n  assignFiltersFromHash() {\n    const hashes = window.location.hash;\n    if (hashes.indexOf('#') !== 0) {\n      return;\n    }\n\n    const params = hashes.substr(1).split('&');\n\n    if (this.isBackwardCompatible(hashes)) {\n      this.jobFiltersName.forEach(name => {\n        const keypairs = params.find(p => p.indexOf(name) === 0);\n\n        if (keypairs) {\n          this.$filters.find(`.${name}`).trigger('select-data', { options: [keypairs.substr(name.length)] });\n        }\n      })\n    } else {\n      this.jobFiltersName.forEach(name => {\n        const keypairs = params.find(p => p.indexOf(name) === 0);\n\n        if (keypairs) {\n          const values = keypairs.split('=');\n          this.$filters.find(`.${name}`).trigger('select-data', { options: values[1].split(',') });\n        }\n      })\n    }\n  }\n\n  updateActiveUrl() {\n    let hash = '';\n\n    this.jobFiltersName.forEach((name, index) => {\n      const filter = this.$filters.find(`.${name}`);\n\n      if (filter.length > 0) {\n        const $selected = filter.find('option:selected');\n        let selectedIds = [];\n\n        if ($selected.length > 0) {\n          hash += `${name}=`;\n\n          $selected.each((index, option) => {\n            selectedIds.push(option.dataset['id']);\n          })\n\n          hash += selectedIds.join(',') + '&';\n        }\n      }\n    });\n\n    history.replaceState(undefined, undefined, '#' + hash);\n  }\n\n  debounce(func, wait = 300) {\n    let timeout;\n\n    return function(...args) {\n      clearTimeout(timeout);\n\n      timeout = setTimeout(() => {\n        func.apply(this, args);\n      }, wait);\n    };\n  }\n\n  search() {\n    this.dataTableElem.draw();\n  }\n\n  filter() {\n    this.dataTableElem.draw();\n    this.updateActiveUrl();\n  }\n\n  bindEvents() {\n    const self = this;\n    const searchDebounce = this.debounce(this.search.bind(this), 300);\n\n    $(document).ready(function () {\n      self.initDataTable();\n\n      self.dataTableElem.on('xhr.dt', function (e, settings, json, xhr) {\n        const hasLocationResult = (json && typeof json.locations !== 'undefined' && json.locations.length > 0);\n        const locations = [];\n        \n        self.$workplace[0].disabled = !hasLocationResult;\n\n        if (hasLocationResult) {\n          json.locations.forEach((l, index) => {\n            locations.push({\n              text: l.locationName,\n              value: l.locationName,\n              data: {\n                id: index + 1\n              }\n            })\n          })\n        }\n\n        // trigger on page load only\n        if (self.triggerWorkplace) {\n          self.$workplace.trigger('init-options-data', { options: locations })\n        }\n        \n        if (self.jobFiltersName.indexOf('loc') === -1) {\n          self.jobFiltersName.push('loc');\n          self.assignFiltersFromHash();\n          self.dataTableElem.draw();\n        } else if (self.triggerWorkplace) {\n          self.updateActiveUrl();\n          self.dataTableElem.draw();\n        }\n        \n        self.triggerWorkplace = false;\n      });\n    });\n\n    this.$areaOfWork.on('change', function() {\n      self.filter();\n    });\n\n    this.$employmentType.on('change', function () {\n      self.filter();\n    });\n\n    this.$country.on('change', function() {\n      self.triggerWorkplace = true;\n      self.$workplace.trigger('init-options', { options: [] })\n      self.filter();\n    });\n\n    this.$workplace.on('change', function() {\n      self.filter();\n    });\n\n    this.$search.on('input', function(e) {\n      if (e.target.value.length > 3 || e.target.value.length === 0) {\n        searchDebounce();\n      }\n    })\n  }\n}\n","/**\r\n * Class: JobArticle\r\n * Description: JobArticle script\r\n */\r\n//import {m, utils} from '../../js/main';\r\nimport $ from 'jquery';\r\nimport moment from 'moment';\r\nimport { DateFormatingOptions } from '../base/utils/utils';\r\n\r\nexport default class JobArticle {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n\r\n  constructor(config) {\r\n    this.config = $.extend(\r\n      {\r\n        el: \".job\",\r\n        date: \".job-details-box-date\",\r\n        applyButton: \".job-details-apply\",\r\n        printButton: \".job-print-page\",\r\n      },\r\n      config\r\n    );\r\n\r\n    this.$body = $('body');\r\n    this.$el = $(this.config.el);\r\n    this.$date = this.$el.find(this.config.date);\r\n    this.$applyButton = this.$el.find(this.config.applyButton);\r\n    this.$printButton = $(this.config.printButton);\r\n\r\n    if (this.$el.length) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  init(options) {\r\n    this.$date.each(function (index, item) {\r\n        var $item = $(item);\r\n        $item.text(\r\n            moment($item.text().trim()).format(\r\n                DateFormatingOptions.jobdateFormat\r\n            )\r\n        );\r\n    });\r\n    this.bindEvents();\r\n\r\n    if (this.$el.length > 0) {\r\n      this.$body.addClass('job-page-wrapper');\r\n    }\r\n  }\r\n  bindEvents() {\r\n    var self = this;\r\n    self.$printButton.on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      self.$applyButton.attr(\"style\", \"display: none !important;\");\r\n      $(this)\r\n        .parents(\".job-apply-button-container\")\r\n        .attr(\"style\", \"display: none !important;\");\r\n      $(this)\r\n        .parents(\".container-fluid\")\r\n        .siblings()\r\n        .attr(\"style\", \"display: none !important;\");\r\n      window.print();\r\n      self.$applyButton.show();\r\n      $(this).parents(\".job-apply-button-container\").show();\r\n      $(this).parents(\".container-fluid\").siblings().show();\r\n      return false;\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Class: Tabs\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\nimport { emitter } from '../base/emitter/emitter';\r\n\r\nexport default class FormSelector {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.form-selector'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    if (this.$el.length) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    var elements = this.$el;\r\n\r\n    if (!elements.length) return false;\r\n\r\n    emitter.on('resize', function(/* obj */) {\r\n      elements.each(function() {});\r\n    });\r\n\r\n    elements.find('.formselector-option').change(function(/* event */) {\r\n      var $allTabs = elements.find('.formselector-content');\r\n      var ChosenId = $(this).val();\r\n\r\n      // clear all\r\n      $allTabs.each(function() {\r\n        $(this).removeClass('is-open');\r\n        if ($(this).attr('data-viewid') == ChosenId) {\r\n          $(this).addClass('is-open');\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Class: Toaster\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\nimport Cookies from 'js-cookie';\r\nimport { emitter } from '../base/emitter/emitter';\r\nimport { $win } from '../base/utils/utils';\r\n\r\nexport default class Toaster {\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.modal'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    this.$toasterCloseButtons = this.$el.find('button.close');\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    if (!$('body').hasClass('is-experience-editing')) {\r\n      this.findAndSetupToasterLinks();\r\n      this.setToasterHeight();\r\n      this.bindEvents();\r\n    }\r\n  }\r\n\r\n  bindEvents() {\r\n    var self = this;\r\n    $(document).ready(function() {\r\n      const $modals = $('.modal');\r\n      $modals.each((index, value) => {\r\n        const $modal = $(value);\r\n        let delayTime = $modal.data('delaytime');\r\n\r\n        let $toasterId = $modal.attr('id');\r\n        let cookieVal = Cookies.get('closedToaster_' + $toasterId);\r\n\r\n        if (delayTime && !cookieVal) {\r\n          setTimeout(function() {\r\n            $modal.modal('show');\r\n          }, delayTime);\r\n        }\r\n      });\r\n    });\r\n\r\n    this.$el.on('hide.bs.modal', function(/* e */) {\r\n      let $toasterId = $(this).attr('id');\r\n      Cookies.set('closedToaster_' + $toasterId, true);\r\n    });\r\n\r\n    this.$el.on('hidden.bs.modal', function(/* e */) {\r\n      $('body').removeClass('modal-no-backdrop');\r\n    });\r\n\r\n    this.$el.on('show.bs.modal', function(/* e */) {\r\n      let $toaster = $(this);\r\n      if (\r\n        $toaster.data('backdrop') === false &&\r\n        $toaster.find('.left-bottom').length > 0\r\n      ) {\r\n        $('body').addClass('modal-no-backdrop');\r\n      }\r\n    });\r\n\r\n    emitter.on('resize', function(/* obj */) {\r\n      self.setToasterHeight();\r\n    });\r\n  }\r\n\r\n  findAndSetupToasterLinks() {\r\n    let firstToasterId = $('.modal')\r\n      .eq(0)\r\n      .attr('id');\r\n    let $toasterLinks = $(\"a[href*='#toaster']\");\r\n\r\n    $toasterLinks.each((index, value) => {\r\n      let $toasterLink = $(value);\r\n      let toasterId = $toasterLink.attr('href').replace('#toaster_', '');\r\n      if (!toasterId) {\r\n        toasterId = firstToasterId;\r\n      }\r\n      $toasterLink\r\n        .attr('data-toggle', 'modal')\r\n        .attr('data-target', '#' + toasterId)\r\n        .attr('href', 'javascript:void(0)');\r\n    });\r\n  }\r\n\r\n  setToasterHeight() {\r\n    let bodyHeight = $win.height();\r\n    let teaserHeight = bodyHeight - 32;\r\n    this.$el.find('.toaster-content').css('max-height', teaserHeight + 'px');\r\n  }\r\n}\r\n","/**\r\n * Class: Tabs\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\nimport { emitter } from '../base/emitter/emitter';\r\nimport Video from '../video/video';\r\n\r\nexport default class Tabs {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.tabs'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    var elements = this.$el;\r\n\r\n    if (!elements.length) return false;\r\n\r\n    var self = this;\r\n    emitter.on('resize', function(/* obj */) {\r\n      if (!$('body').hasClass('is-experience-editing')) {\r\n        elements.each(function() {\r\n          var $tabRow = $(this).find('.tabs-tabs'),\r\n            $firstTab = $tabRow.find('.tabs-tabs-tab:eq(0)'),\r\n            $dropDownMenu = $(this).find('.tabs-tabs-more-dropdown'),\r\n            $dropDownMenuTrigger = $(this).find('.tabs-tabs-more');\r\n\r\n          // first move them all back\r\n          $dropDownMenu.children().each(function() {\r\n            $(this).insertBefore($dropDownMenu.parent());\r\n          });\r\n\r\n          var count = $tabRow.children().length,\r\n            iterations = 0;\r\n\r\n          $dropDownMenuTrigger.css('display', 'inline-block');\r\n\r\n          // RT: added a bit extra buffer (-5) to please firefox:\r\n          while (\r\n            $tabRow.outerHeight() - 5 > $firstTab.outerHeight() &&\r\n            count > iterations++\r\n          ) {\r\n            $tabRow\r\n              .find('> .tabs-tabs-tab')\r\n              .last()\r\n              .prependTo($dropDownMenu);\r\n          }\r\n\r\n          // Only show the 'dropdown' button if there are any dropdown elements\r\n          if ($dropDownMenu.children().length === 0) {\r\n            $dropDownMenuTrigger.hide();\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    // This is used because the col-in-viewport has a transform property put on because of animate-in transition, that causes\r\n    // the dropdown to be hidden behind the preceeding row.\r\n    // therefor we remove the .col's transition and transform first time its clicked.\r\n    // probably my finest and proudest work -- Rasmus Elken.\r\n    this.$el.find('.tabs-tabs-more').one({\r\n      click: function(/* e */) {\r\n        if (\r\n          !self.$el\r\n            .parents('.col-in-viewport-inited')\r\n            .hasClass('col-in-viewport-notransform')\r\n        ) {\r\n          self.$el\r\n            .parents('.col-in-viewport-inited')\r\n            .addClass('col-in-viewport-notransform');\r\n        }\r\n      }\r\n    });\r\n\r\n    this.$el.on('click', '.tabs-tabs-tab', function(event) {\r\n      event.preventDefault();\r\n      var $tab = $(this),\r\n        $tabsRoot = $tab.parents('.tabs'),\r\n        $allTabs = $tabsRoot.find('.tabs-tabs-tab'),\r\n        $allContentTabs = $tabsRoot.find('.tabs-content-tab'),\r\n        $moreLink = $tabsRoot.find('.tabs-tabs-more');\r\n\r\n      if (!$tab.hasClass('is-open')) {\r\n        $allTabs.removeClass('is-open');\r\n        $moreLink.removeClass('is-open');\r\n\r\n        $tab.addClass('is-open');\r\n        $allContentTabs.removeClass('is-open');\r\n        $allContentTabs.eq($tab.data('tabs-index')).addClass('is-open');\r\n\r\n        Video.resizeParent($allContentTabs.eq($tab.data('tabs-index')));\r\n        if ($tab.parents('.tabs-tabs-more').length > 0) {\r\n          $moreLink.addClass('is-open');\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","(function () {\r\n  if (window.angular !== undefined) {\r\n    window.app = angular.module('app', []);\r\n    window.app.constant('emailRegex', new RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/));\r\n  }\r\n  \r\n  require('../../flow/flow.directive');\r\n  require('../../flow/flowStep.directive');\r\n  require('../../flow/flowStepComponent.directive');\r\n  require('../../flow/flowProgressBar.directive');\r\n  require('../../flow/flow.service');\r\n\r\n  require('../../product/productDirective');\r\n  require('../../product/productSelection');\r\n  require('../../product/productPriceLocationDirective');\r\n  require('../../product/productService');\r\n  require('../../product/priceService');\r\n  require('../../product/formatComma.filter');\r\n  require('../../product/toTrusted.filter');\r\n\r\n  require('../../OrderflowPayment/PaymentDirective');\r\n})();\r\n","const $ = window.$;\r\n\r\nif (window.app !== undefined) {\r\n    window.app.directive(\"flow\", [\"FlowService\", function (FlowService) {\r\n        return {\r\n            restrict: 'A',\r\n            scope: true,\r\n            controller: [\"$scope\", \"$attrs\", \"$location\", \"$timeout\", \"FlowService\", function ($scope, $attrs, $location, $timeout, FlowService) {\r\n\r\n                var steps = [];\r\n                var state = {\r\n                    index: 0,\r\n                    get currentstep() {\r\n                        return steps[this.index];\r\n                    },\r\n                    get nextstep() {\r\n                        if (this.index >= steps.length - 1) {\r\n                            return null;\r\n                        }\r\n\r\n                        return steps[this.index + 1];\r\n                    },\r\n                    get previousstep() {\r\n                        if (this.index <= 0) {\r\n                            return null;\r\n                        }\r\n\r\n                        return steps[this.index - 1];\r\n                    }\r\n                };\r\n\r\n                var flow = this;\r\n                flow.steps = steps;\r\n                flow.state = state;\r\n                flow.id = $attrs.flow;\r\n\r\n                if ($attrs.skipValidation) {\r\n                    flow.skipValidation = JSON.parse($attrs.skipValidation);\r\n                }\r\n\r\n                flow.RegisterStep = function (step) {\r\n                    step.Hide();\r\n\r\n                    steps.push(step);\r\n\r\n                    if (flow.steps.length > 1 && $location.path() && $location.path() == step.path) {\r\n                        NavigateTo(steps.length - 1);\r\n                    } else if (flow.steps.length === 1) {\r\n                        NavigateTo(0);\r\n                    }\r\n                };\r\n\r\n                flow.PreviousStep = function () {\r\n                    if (state.index >= 1) {\r\n                        NavigateTo(state.index - 1)\r\n                    }\r\n                };\r\n\r\n                flow.NextStep = function () {\r\n                    if (state.index < flow.steps.length - 1) {\r\n\r\n                        if (!state.currentstep.IsValid()) {\r\n                            return;\r\n                        }\r\n\r\n                        NavigateTo(state.index + 1);\r\n                    }\r\n                };\r\n\r\n                flow.NavigateToStep = function (index) {\r\n                    if (index >= 0 && index < state.index) {\r\n                        NavigateTo(index);\r\n                    }\r\n                };\r\n\r\n                flow.IsValid = function () {\r\n                    return flow.steps.every(function (element) {\r\n                        return element.IsValid();\r\n                    });\r\n                };\r\n\r\n                function NavigateTo(index) {\r\n                    if (index < 0 || index > steps.length - 1) {\r\n                        return;\r\n                    }\r\n\r\n                    // Validate all previous steps\r\n                    var invalid = steps.slice(0, index).findIndex(function (element) {\r\n                        return !element.IsValid();\r\n                    });\r\n\r\n                    // If previous step is invalid, navigate to that instead\r\n                    if (invalid >= 0) {\r\n                        index = invalid;\r\n                    }\r\n\r\n                    state.currentstep.Hide();\r\n                    state.index = index;\r\n                    state.currentstep.Show();\r\n\r\n                    $timeout(function () {\r\n                        $location.path(state.currentstep.path);\r\n                    }, 0);\r\n\r\n                    FlowService.save(flow.id, $scope.model);\r\n                }\r\n\r\n                $scope.$watch(function () {\r\n                    return $location.path();\r\n                }, function (newValue, oldValue) {\r\n                    if (newValue !== oldValue) {\r\n                        var index = steps.indexOfBy(\"path\", newValue);\r\n\r\n                        // Only navigate if hashbang url corresponds to a path and index is different than current index\r\n                        if (index > -1 && state.index !== index) { \r\n                            NavigateTo(index);\r\n                        }\r\n                    }\r\n                    });\r\n\r\n                if ($attrs.flowModel) {\r\n                    FlowService.init(JSON.parse($attrs.flowModel));\r\n                }\r\n\r\n                $scope.model = FlowService.model;\r\n            }]\r\n        }\r\n    }]);\r\n\r\n    window.app.directive(\"flowPrevious\", ['$window', function ($window) {\r\n        return {\r\n            restrict: 'EA',\r\n            require: ['^flow'],\r\n            scope: true,\r\n            template: '<button type=\"button\" ng-show=\"button.show\" ng-disabled=\"!button.enabled\" ng-transclude></button>',\r\n            replace: true,\r\n            transclude: true,\r\n            link: function (scope, element, attrs, ctrls) {\r\n                var flow = ctrls[0];\r\n\r\n                scope.button = {\r\n                    get show() {\r\n                        return flow.state.index > 0;\r\n                    },\r\n                    get enabled() {\r\n                        return this.show;\r\n                    }\r\n                };\r\n\r\n                $(element).on('click', function () {\r\n                    $window.scrollTo(0, 0);\r\n                    flow.PreviousStep();\r\n                });\r\n            }\r\n        }\r\n    }]);\r\n\r\n    window.app.directive(\"flowNext\", ['$window', function ($window) {\r\n        return {\r\n            restrict: 'EA',\r\n            require: ['^flow'],\r\n            scope: true,\r\n            template: '<button type=\"{{button.type}}\" ng-show=\"button.show\" ng-disabled=\"!button.enabled\" ng-transclude></button>',\r\n            replace: true,\r\n            transclude: true,\r\n            link: function (scope, element, attrs, ctrls) {\r\n                var flow = ctrls[0];\r\n\r\n                scope.button = {\r\n                    get type() {\r\n                        var type = \"button\";\r\n\r\n                        if (flow.state.nextstep == null) {\r\n                            type = \"submit\";\r\n                        }\r\n\r\n                        return type;\r\n                    },\r\n                    get show() {\r\n                        return !(this.type == \"submit\"  && flow.skipValidation);\r\n                    },\r\n                    get enabled() {\r\n                        return flow.state.currentstep.IsValid();\r\n                    }\r\n                };\r\n\r\n                $(element).on('click', function () {\r\n                    $window.scrollTo(0, 0);\r\n                    flow.NextStep();\r\n                });\r\n            }\r\n        }\r\n    }]);\r\n\r\n    window.app.directive(\"ngModel\",\r\n        function () {\r\n            return {\r\n                restrict: 'A',\r\n                priority: 0,\r\n                require: 'ngModel',\r\n                link: function postLink(scope, elem, attrs, ngModel) {\r\n                    if (attrs.type === 'checkbox' || attrs.type === 'radio') {\r\n                        ngModel.$setViewValue($(elem).is(':checked'));\r\n                    } else if (attrs.value) {\r\n                        ngModel.$setViewValue(attrs.value);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n}\r\n","const $ = window.$;\r\n\r\nif (window.app !== undefined) {\r\n    window.app.directive(\"flowStep\", function () {\r\n        return {\r\n            restrict: 'A',\r\n            require: ['^flow', '?form'],\r\n            link: function (scope, element, attrs, ctrls) {\r\n                var flow = ctrls[0];\r\n                var form = ctrls[1];\r\n\r\n                var step = {};\r\n                step.name = attrs.flowStep;\r\n                step.path = '/' + step.name.toLowerCase().replace(' ', '-').replace('æ', 'ae').replace('ø', 'oe').replace('å', 'aa');\r\n\r\n                step.Show = function () {\r\n                    $(element).show();\r\n                };\r\n\r\n                step.Hide = function () {\r\n                    $(element).hide();\r\n                }\r\n\r\n                step.IsValid = function () {\r\n                    form.$setSubmitted();\r\n                    return flow.skipValidation || form.$valid;\r\n                };\r\n\r\n                step.Submit = function () {\r\n                    form.$setSubmitted();\r\n                    return step.IsValid();\r\n                }\r\n\r\n                flow.RegisterStep(step);\r\n            }\r\n        }\r\n    });\r\n}\r\n","if (window.app !== undefined) {\r\n    window.app.directive(\"flowStepComponent\", function () {\r\n        return {\r\n            restrict: 'A',\r\n            require: ['^flow'],\r\n            scope: true,\r\n            template: '<div ng-show=\"state.currentstep.name === step.name\" ng-transclude></button>',\r\n            replace: true,\r\n            transclude: true,\r\n            link: function (scope, element, attrs, ctrls) {\r\n                var flow = ctrls[0];\r\n\r\n                scope.state = flow.state;\r\n\r\n                scope.step = {\r\n                    name: attrs.flowStepComponent\r\n                };\r\n            }\r\n        }\r\n    });\r\n}","if (window.app !== undefined) {\r\n    window.app.directive(\"flowProgressbar\", function () {\r\n        return {\r\n            restrict: 'A',\r\n            require: ['^flow'],\r\n            scope: true,\r\n            link: function (scope, element, attrs, ctrls) {\r\n                var flow = ctrls[0];\r\n\r\n                scope.state = flow.state;\r\n\r\n                scope.NavigateTo = function (step) {\r\n                    return flow.NavigateToStep(step);\r\n                }\r\n            }\r\n        }\r\n    });\r\n}","if (window.app !== undefined) {\r\n    window.app.factory('FlowService', ['$http', function ($http) {\r\n\r\n        var service = {};\r\n        service.model = {};\r\n\r\n        service.init = function (model) {\r\n            for (var prop in model) {\r\n                if (model.hasOwnProperty(prop) && model[prop]) {\r\n                    if (!service.model[prop]) {\r\n                        service.model[prop] = model[prop];\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        service.save = function (id) {\r\n            $http.post('/api/flow/save/' + id, service.model);\r\n        }\r\n\r\n        return service;\r\n    }]);\r\n}\r\n","if (window.angular !== undefined) {\r\n    /**\r\n     * Class: Product directive.\r\n     */\r\n    window.app.directive('product', ['$location', '$sce', 'productService', 'FlowService', 'priceService', function ($location, $sce, productService, FlowService, priceService) {\r\n\r\n        var product = {};\r\n        product.restrict = 'AE';\r\n        product.scope = true;\r\n\r\n        product.controller = ['$scope', function ($scope) {\r\n\r\n            $scope.productAdded = false;\r\n            $scope.productForm = FlowService.model;\r\n\r\n\r\n            $scope.categoryParams = productService.model.prod;\r\n            $scope.fixed = parseInt(productService.model.fixed);\r\n            \r\n            // price calculation \r\n            $scope.showCalculation = function (price) {\r\n                if ($scope.showCalculatedPrice()) {\r\n                    if (price && price.Unit && price.Unit.UnitUrlParam) {\r\n                        return $sce.trustAsHtml($scope.InsertConsumption(price.Unit.Calculation).replace('[price]', $scope.comma(priceService.getUnitPrice(price))));\r\n                    }\r\n                }\r\n                return '';\r\n            }\r\n\r\n            $scope.comma = function (inputInt) {\r\n                return inputInt.toString().replace(\".\", \",\");\r\n            }\r\n            \r\n            $scope.showPrice = function (price, isCalculate) {\r\n                return priceService.showPrice(price, isCalculate);\r\n            }\r\n\r\n            $scope.TotalPrice = function () {\r\n                if ($scope.fallbackprice) {\r\n                    return priceService.getUnitPrice($scope.fallbackprice).toString();\r\n                }\r\n\r\n                var sum = 0;\r\n                angular.forEach($scope.pricearray, function (price) {\r\n                    sum = parseFloat($scope.showPrice(price, true)) + sum;\r\n                });\r\n                if (Math.round(sum) !== sum) {\r\n                    return parseFloat(sum).toFixed(2).toString();\r\n                }\r\n                else{\r\n                    return Math.round(sum).toString();\r\n                }\r\n            }\r\n\r\n            $scope.showCalculatedPrice = function () {\r\n                return !$scope.fallbackprice;\r\n            }\r\n\r\n            $scope.priceIsCalculated = function (price) {\r\n                if (!price || !price.Unit || !price.Unit.UnitUrlParam) return false;\r\n                return productService.getUnitParam(price.Unit.UnitUrlParam) !== false;\r\n            }\r\n\r\n            $scope.showTotalUnit = function (calculatedTotalUnit) {\r\n                if ($scope.showCalculatedPrice) {\r\n                    return calculatedTotalUnit;\r\n                }\r\n                return $scope.fallbackprice.Unit.Unit;\r\n            }\r\n\r\n            $scope.InsertConsumption = function (text) {\r\n                if (!text) return \"\";\r\n                return text.replace('[gas]', $scope.comma(productService.model.gas)).replace('[kwh]', $scope.comma(productService.model.kwh));\r\n            }\r\n\r\n            $scope.recommendProduct = function (productCategory, fixedprice) {\r\n                if (($scope.fixed && fixedprice) || (!$scope.fixed && !fixedprice)) {\r\n                    return $scope.categoryParams && $scope.categoryParams.indexOf(productCategory) != -1;\r\n                }\r\n                return false;\r\n            }\r\n\r\n            $scope.showBasedOnCategoriProduct = function (productCategory) {\r\n                if (!$scope.categoryParams || $scope.categoryParams == '') return true;\r\n                return $scope.categoryParams && $scope.categoryParams.indexOf(productCategory) != -1;\r\n            }\r\n\r\n            $scope.updateProduct = function()\r\n            {\r\n                if ($scope.productExistsInProductString($scope.productid)){\r\n                    if (!$scope.isProductAdded($scope.productid)) {\r\n                        if (!productService.model.products) productService.model.products = [];\r\n                        productService.model.products.push($scope.productid);\r\n                        $scope.productAdded = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            $scope.productExistsInProductString = function(productId) {\r\n                var exists = false;\r\n                var chosenString = FlowService.model.SelectedProducts;\r\n                if (chosenString) {\r\n                    var chosenProducts = chosenString.split(\",\");\r\n                    angular.forEach(chosenProducts, function (curProduct) {\r\n                        if (curProduct == productId) {\r\n                            exists = true;\r\n                        }\r\n                    });\r\n                }\r\n                return exists;\r\n            }\r\n\r\n            $scope.addProduct = function () {\r\n                if (!productService.model.products) productService.model.products = [];\r\n                productService.model.products.push($scope.productid);\r\n                $scope.generateProductString();\r\n                $scope.productAdded = true;\r\n            }\r\n\r\n            $scope.removeProduct = function () {\r\n                var index = productService.model.products.indexOf($scope.productid);\r\n                if (index != -1) {\r\n                    productService.model.products.splice(index, 1);\r\n                }\r\n                $scope.generateProductString();\r\n                $scope.productAdded = false;\r\n            }\r\n\r\n            $scope.generateProductString = function () {\r\n                var tmpProductSelection = \"\";\r\n                angular.forEach(productService.model.products, function (curProduct) {\r\n                    if (tmpProductSelection != \"\") tmpProductSelection += \",\";\r\n                    tmpProductSelection += curProduct;\r\n                });\r\n                FlowService.model.SelectedProducts = tmpProductSelection;\r\n            }\r\n\r\n            $scope.isProductAdded = function(productId) {\r\n                var productChosen = false;\r\n                angular.forEach(productService.model.products, function (curProduct) {\r\n                    if (curProduct == productId) productChosen = true;\r\n                });\r\n                return productChosen;\r\n            }\r\n        }];\r\n\r\n        product.link = function ($scope, $element, $attrs) {\r\n            $scope.pricearray = angular.fromJson($attrs.productpricearray);\r\n            $scope.sumpricearray = angular.fromJson($attrs.sumproductpricearray);\r\n            $scope.producttextcalc = $scope.InsertConsumption(angular.fromJson($attrs.producttextcalc));\r\n            $scope.producttextwithout = $scope.InsertConsumption(angular.fromJson($attrs.producttextwithout));\r\n            $scope.productForm = productService.model;\r\n            $scope.fallbackprice = productService.getFallBackPriceWithoutConsumption($scope.pricearray);\r\n            $scope.productid = $attrs.productid;\r\n            priceService.addProductprice($scope.productid, $scope.pricearray);\r\n            $scope.updateProduct();\r\n        }; \r\n\r\n        return product;\r\n    }]);\r\n}","if (window.app !== undefined) {\r\n    /**\r\n * Class: Product directive.\r\n */\r\n    window.app.directive('productselection',\r\n    [\r\n        'FlowService', function(FlowService) {\r\n            return{\r\n                restrict: 'A',\r\n                require: ['^form'],\r\n                scope: true,\r\n\r\n                link: function($scope, element, attrs, ctrls) {\r\n                    $scope.productForm = FlowService.model;\r\n\r\n                    var form = ctrls[0];\r\n                    if (isNaN(form.SelectedProducts.$modelValue)) {\r\n                        form.SelectedProducts.$setValidity(\"required\", false);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    ]);\r\n}","if (window.angular !== undefined) {\r\n    /**\r\n * Class: Product price location directive.\r\n */\r\n    window.app.directive('productpricelocation', ['productService', function (productService) {\r\n\r\n        var productpricelocation = {};\r\n        productpricelocation.restrict = 'AE';\r\n        productpricelocation.scope = true;\r\n\r\n        productpricelocation.controller = ['$scope', function ($scope) {\r\n            \r\n        }];\r\n\r\n        productpricelocation.link = function (scope, element, attrs) {\r\n            productService.LoadConsumptionFromParam();\r\n            scope.productForm = productService.model;\r\n        };\r\n\r\n        return productpricelocation;\r\n    }]);\r\n}","if (window.app !== undefined) {\r\n    window.app.factory('productService', ['$window', function ($window) {\r\n\r\n        var productService = {};\r\n        var cunsumptionLoaded = false;\r\n\r\n        productService.model = {\r\n            \"products\": [],\r\n            \"priceLocation\": \"east\",\r\n            \"kwh\": \"\",\r\n            \"gas\": \"\",\r\n            \"prod\": \"\",\r\n            \"fixed\": \"\"\r\n        }\r\n\r\n        productService.saveData = function () {\r\n            $window.localStorage && $window.localStorage.setItem('productdata', JSON.stringify(productService.model));\r\n        }\r\n\r\n        productService.loadData = function () {\r\n            var productData = $window.localStorage && $window.localStorage.getItem('productdata');\r\n            var tmpdata = JSON.parse(productData);\r\n            if (tmpdata){\r\n                productService.model = tmpdata;\r\n            }\r\n        }\r\n\r\n        /**\r\n        * Get GET parameters from URL - gas, kwh\r\n        */\r\n        productService.parseQueryString = function () {\r\n            var str = window.location.search;\r\n            var objURL = {};\r\n\r\n            str.replace(\r\n                new RegExp(\"([^?=&]+)(=([^&]*))?\", \"g\"),\r\n                function ($0, $1, $2, $3) {\r\n                    objURL[$1] = $3;\r\n                }\r\n            );\r\n            return objURL;\r\n        };\r\n\r\n        productService.LoadConsumptionFromParam = function () {\r\n            if (cunsumptionLoaded) return;\r\n            cunsumptionLoaded = true;\r\n            // load from session data\r\n            productService.loadData();\r\n\r\n            // load from url.\r\n            var getparams = productService.parseQueryString();\r\n            if (getparams['kwh']) {\r\n                productService.model.kwh = Math.round(parseInt(getparams['kwh']) / 12);\r\n            }\r\n            if (getparams['gas']) {\r\n                productService.model.gas = Math.round(parseInt(getparams['gas']) / 12);\r\n            }\r\n\r\n            if (getparams['prod']) {\r\n                productService.model.prod = getparams['prod'];\r\n            }\r\n\r\n            if (getparams['fixed']) {\r\n                productService.model.fixed = getparams['fixed'];\r\n            }\r\n\r\n            if (getparams['reg']) {\r\n                productService.model.priceLocation = getparams['reg'];\r\n            }\r\n\r\n            productService.saveData();\r\n        }\r\n\r\n        // product consumption helping methods\r\n        productService.getUnitParam = function (uniturlkey) {\r\n            productService.LoadConsumptionFromParam();\r\n            if (uniturlkey in productService.model && productService.model[uniturlkey] != \"\") {\r\n                var unitsize = productService.model[uniturlkey];\r\n                return unitsize;\r\n            }\r\n            return false;\r\n        }\r\n        \r\n        productService.getFallBackPriceWithoutConsumption = function (pricearray) {\r\n            var defaultTotalPrice = null;\r\n            var defaultTotalPriceShouldbeUsed = false;\r\n            angular.forEach(pricearray, function (price) {\r\n                if (price.DefaultPrice == true) {\r\n                    defaultTotalPrice = price;\r\n                }\r\n                if (price.Unit && price.Unit.UnitUrlParam != '') {\r\n                    if (productService.getUnitParam(price.Unit.UnitUrlParam) === false) {\r\n                        defaultTotalPriceShouldbeUsed = true;\r\n                    }\r\n                }\r\n            });\r\n            return defaultTotalPriceShouldbeUsed == true ? defaultTotalPrice : null;\r\n        }\r\n\r\n        return productService;\r\n    }]);\r\n}","if (window.angular !== undefined) {\r\n    window.app.factory('priceService', ['productService', function (productService) {\r\n\r\n        var priceService = {};\r\n\r\n        priceService.model = [];\r\n\r\n        priceService.addProductprice = function(productId, priceArray) {\r\n            priceService.model[productId] = priceArray;\r\n        }\r\n\r\n        priceService.getProductprice = function (productId) {\r\n            return priceService.model[productId];\r\n        }\r\n\r\n        priceService.fixedDecimals = function (number) {\r\n            return parseFloat(number).toFixed(2);\r\n        }\r\n\r\n            // returns øre\r\n        priceService.getUnitPrice = function (price) {\r\n            if (!price) return '-';\r\n            if (price.Price != '') return priceService.fixedDecimals(price.Price);\r\n            if (price.PriceEast != '' && price.PriceWest != '') {\r\n                if (productService.model.priceLocation === 'east') return priceService.fixedDecimals(price.PriceEast);\r\n                if (productService.model.priceLocation === 'west') return priceService.fixedDecimals(price.PriceWest);\r\n            }\r\n            return \"-\";\r\n        }\r\n\r\n        // returns kr.\r\n        priceService.getPrice = function (price, isCalculate = true) {\r\n            if (!price) return '-';\r\n            if (priceService.getUnitPrice(price) != '-' && price.Unit.UnitUrlParam == '') return price.Unit.Inhundredth ? price.Price / 100 : price.Price;\r\n            if (priceService.getUnitPrice(price) != '-' && price.Unit && price.Unit.UnitUrlParam != '') {\r\n                var unitConsumption = productService.getUnitParam(price.Unit.UnitUrlParam);\r\n                if (unitConsumption && isCalculate) {\r\n                    var pricetmp = productService.getUnitParam(price.Unit.UnitUrlParam) * priceService.getUnitPrice(price);\r\n                    return price.Unit.Inhundredth ? Math.round(pricetmp / 100) : Math.round(pricetmp);\r\n                }\r\n                else {\r\n                    return price.Unit.Inhundredth ? priceService.getUnitPrice(price) / 100 : priceService.getUnitPrice(price);\r\n                }\r\n            }\r\n        }\r\n\r\n        priceService.showPrice = function (price, isCalculate) {\r\n            var additionalPrice = parseFloat(0);\r\n            if (price.AddedPrice) additionalPrice = parseFloat(price.AddedPrice);\r\n\r\n            if (isCalculate && (!price.Unit || !price.Unit.UnitUrlParam || productService.getUnitParam(price.Unit.UnitUrlParam) !== false)) {\r\n                return (parseFloat(priceService.getPrice(price, isCalculate)) + additionalPrice);\r\n            }\r\n            else {\r\n                var value = 0;\r\n                if (price.Unit && price.Unit.Inhundredth) {\r\n                    // if price is not calculated show the price in oere\r\n                    value = parseFloat(priceService.getPrice(price, isCalculate)) * 100;\r\n                } else {\r\n                    value = parseFloat(priceService.getPrice(price, isCalculate));\r\n                }\r\n                if (!isCalculate)\r\n                    return value;\r\n                return value.toFixed(2);\r\n            }\r\n        }\r\n\r\n        return priceService;\r\n    }]);\r\n}","if (window.app !== undefined) {\r\n    function addDots(n) {\r\n        var rx = /(\\d+)(\\d{3})/;\r\n        return String(n).replace(/^\\d+/, function (w) {\r\n            while (rx.test(w)) {\r\n                w = w.replace(rx, '$1,$2');\r\n            }\r\n            return w;\r\n        });\r\n    }\r\n    window.app.filter('format_comma', function () {\r\n        return function (text) {\r\n            text = addDots(text).toString();\r\n            if (typeof text === 'string') return text.replace(\".\", \";\").replace(\",\", \".\").replace(\";\", \",\");\r\n            return text;\r\n        };\r\n    });\r\n}","if (window.app !== undefined) {\n    window.app.filter('to_trusted', ['$sce', function ($sce) {\r\n        return function (text) {\r\n            return $sce.trustAsHtml(text);\r\n        };\r\n    }]);\n}","const $ = window.$;\r\n\r\nif (window.app !== undefined) {\r\n\r\n    window.app.directive(\"payment\",\r\n        function () {\r\n            return {\r\n                restrict: 'A',\r\n                scope: true,\r\n                controller: [\r\n                    \"$scope\", \"$element\", \"FlowService\", function ($scope, $element, FlowService) {\r\n\r\n                        $scope.model = FlowService.model;\r\n                        $scope.model.epay = $scope.model.epay || {};\r\n                        $scope.epayshown = false;\r\n                        \r\n                        if ($scope.model.ePayId !== undefined) {\r\n                            $scope.model.epay.subscriptionid = $scope.model.ePayId;\r\n\r\n                            $scope.model.ePayId = undefined;\r\n                        }\r\n\r\n                        Object.defineProperty($scope.model, 'ePayId', {\r\n                            get: function () {\r\n                                return $scope.model.epay.subscriptionid;\r\n                            },\r\n                            set: function (value) {\r\n                                $scope.model.epay.subscriptionid = value;\r\n                            }\r\n                        });\r\n\r\n                        $scope.requireBetalingsService = function () {\r\n\r\n                            if (!$scope.model.CreditCardNumber && !$scope.model.PayUsingFaktura) {\r\n                                return true; // the other fields are not filled\r\n                            }\r\n\r\n                            return false; // everything is good\r\n                        }\r\n\r\n                        $scope.requireCreditCard = function () {\r\n\r\n                            if (!$scope.model.RegistrationNumber && !$scope.model.PayUsingFaktura) {\r\n                                return true; // the other fields are not filled\r\n                            }\r\n\r\n                            return false; // everything is good\r\n                        }\r\n\r\n                        $scope.parseParams = function (params) {\r\n                            return params.replace(/(^\\?)/, '').split(\"&\").map(function (n) { return n = n.split(\"=\"), this[n[0]] = n[1], this }.bind({}))[0];\r\n                        }\r\n\r\n                        $scope.setmerchantnumber = function (id) {\r\n                            $scope.merchantnumber = id;\r\n                        };\r\n\r\n                        $scope.openepay = function () {\r\n                            if ($scope.epayshown) return;\r\n                            $scope.epayshown = true;\r\n                            var paymentwindow = new PaymentWindow({\r\n                                'merchantnumber': $scope.merchantnumber,\r\n                                'amount': \"0\",\r\n                                'paymentcollection': \"1\",\r\n                                'subscription': \"1\",\r\n                                'currency': \"DKK\",\r\n                                'language': \"0\",\r\n                                \"windowstate\": \"4\",\r\n                                'iframeheight': 420,\r\n                                'mobile': \"0\"\r\n                            });\r\n\r\n                            paymentwindow.append('epay-window');\r\n                            paymentwindow.on('completed', function (params) {\r\n                                $scope.model.ePayId = $scope.parseParams(params).subscriptionid;\r\n                                $scope.completed = true;\r\n                                $scope.$apply();\r\n                            });\r\n                            paymentwindow.open();\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        });\r\n\r\n    window.app.directive(\"paymentconfirmation\",\r\n        function () {\r\n            return {\r\n                restrict: 'A',\r\n                scope: true,\r\n                controller: [\r\n                    \"$scope\", \"$element\", \"FlowService\", function ($scope, $element, FlowService) {\r\n                        $scope.model = FlowService.model;\r\n\r\n                         $scope.$watch('model.PayUsingFaktura', function (newvalue, oldvalue) {\r\n                             if (newvalue) {\r\n                                 $scope.model.RegistrationNumber = \"\";\r\n                                 $scope.model.AccountNumber = \"\";\r\n                                 $scope.model.ePayId = \"\";\r\n                                 $scope.model.CreditCardNumber = \"\";\r\n                                 $scope.model.CreditCardCVC = \"\";\r\n                                 $scope.model.CreditCardDateMonth = \"\";\r\n                                 $scope.model.CreditCardDateYear = \"\";\r\n                             }\r\n                         });\r\n\r\n                         /*$scope.$watch('model.ePayId', function (newvalue, oldvalue) {\r\n                             if (newvalue) {\r\n                                 $scope.model.RegistrationNumber = \"\";\r\n                                 $scope.model.AccountNumber = \"\";\r\n                                 $scope.model.PayUsingFaktura = false;\r\n                             }\r\n                         });*/\r\n                         $scope.$watch('model.CreditCardNumber', function (newvalue, oldvalue) {\r\n                             if (newvalue) {\r\n                                 $scope.model.RegistrationNumber = \"\";\r\n                                 $scope.model.AccountNumber = \"\";\r\n                                 $scope.model.PayUsingFaktura = false;\r\n                             }\r\n                         });\r\n\r\n                         $scope.$watch('model.RegistrationNumber', function (newvalue, oldvalue) {\r\n                             if (newvalue) {\r\n                                 $scope.model.ePayId = \"\";\r\n                                 $scope.model.PayUsingFaktura = false;\r\n                                 $scope.model.CreditCardNumber = \"\";\r\n                                 $scope.model.CreditCardCVC = \"\";\r\n                                 $scope.model.CreditCardDateMonth = \"\";\r\n                                 $scope.model.CreditCardDateYear = \"\";\r\n                             }\r\n                         });\r\n\r\n                         $scope.$watch('model.AccountNumber', function (newvalue, oldvalue) {\r\n                             if (newvalue) {\r\n                                 $scope.model.ePayId = \"\";\r\n                                 $scope.model.PayUsingFaktura = false;\r\n                                 $scope.model.CreditCardNumber = \"\";\r\n                                 $scope.model.CreditCardCVC = \"\";\r\n                                 $scope.model.CreditCardDateMonth = \"\";\r\n                                 $scope.model.CreditCardDateYear = \"\";\r\n                             }\r\n                         });\r\n\r\n\r\n                        $scope.FakturaChosen = function () {\r\n                            if (!!$scope.model.PayUsingFaktura) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        }\r\n\r\n                        $scope.BetalingsserviceChosen = function () {\r\n                            if (!!$scope.model.RegistrationNumber && !!$scope.model.AccountNumber) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        }\r\n\r\n                        $scope.CreditcardChosen = function() {\r\n                            if (!!$scope.model.ePayId) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        }\r\n\r\n                        $scope.NewCreditcardChosen = function () {\r\n                            if (!!$scope.model.CreditCardNumber && !!$scope.model.CreditCardDateMonth && !!$scope.model.CreditCardDateYear && !!$scope.model.CreditCardCVC) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        });\r\n    /*\r\n    window.app.directive(\"epayPayment\", [\"FlowService\", function (FlowService) {\r\n        return {\r\n            restrict: 'A',\r\n            replace: true,\r\n            template: '<div id=\"epay-window\" ng-hide=\"completed\"></div>',\r\n            scope: {\r\n                merchantnumber: '@',\r\n                height: '@',\r\n                model: '='\r\n            },\r\n            link: function (scope, element, attrs, ctrls) {\r\n                \r\n            }\r\n        }\r\n    }]);\r\n    */\r\n    window.app.directive('validateRequired', function () {\r\n        return {\r\n            require: 'ngModel',\r\n            restrict: 'A',\r\n            link: function (scope, element, attr, mCtrl) {\r\n                var elem = element;\r\n                var validateRequired = function (value) {\r\n                    var id = elem.attr('id');\r\n                    if (elem.val() === '') {\r\n                        $('#' + id + 'Required').show();\r\n                        elem.parent().addClass('has-error');\r\n                    } else {\r\n                        $('#' + id + 'Required').hide();\r\n                        elem.parent().removeClass('has-error');\r\n                    }\r\n                    return value;\r\n                }\r\n                mCtrl.$parsers.push(validateRequired);\r\n            }\r\n        };\r\n    });\r\n    window.app.directive('validateRequiredMinMax', function () {\r\n        return {\r\n            require: 'ngModel',\r\n            restrict: 'A',\r\n            link: function (scope, element, attr, mCtrl) {\r\n                var elem = element;\r\n                var validateRequiredMinMax = function (value) {\r\n                    var elemId = elem.attr('id');\r\n                    var invalid = false;\r\n                    if (elem.val() === '') {\r\n                        $('#' + elemId + 'Required').show();\r\n                        $('#' + elemId + 'Required').parent().show();\r\n                        elem.parent().addClass('has-error');\r\n                        invalid = true;\r\n                    } else {\r\n                        $('#' + elemId + 'Required').hide();\r\n                    }\r\n\r\n                    if (elem.val() !== '' && elem.val().length < $('#' + elemId).attr('ng-minlength')) {\r\n                        $('#' + elemId + 'MinLength').show();\r\n                        $('#' + elemId + 'MinLength').parent().show();\r\n                        elem.parent().addClass('has-error');\r\n                        invalid = true;\r\n                    } else {\r\n                        $('#' + elemId + 'MinLength').hide();\r\n                    }\r\n\r\n                    if (elem.val() !== '' && elem.val().length > $('#' + elemId).attr('ng-maxlength')) {\r\n                        $('#' + elemId + 'MaxLength').show();\r\n                        $('#' + elemId + 'MaxLength').parent().show();\r\n                        elem.parent().addClass('has-error');\r\n                        invalid = true;\r\n                    } else {\r\n                        $('#' + elemId + 'MaxLength').hide();\r\n                    }\r\n\r\n                    if (!invalid) {\r\n                        $('#' + elemId + 'Required').hide();\r\n                        $('#' + elemId + 'MinLength').hide();\r\n                        $('#' + elemId + 'MaxLength').hide();\r\n                        $('#' + elemId + 'MaxLength').parent().hide();\r\n                        elem.parent().removeClass('has-error');\r\n                    }\r\n\r\n                    return value;\r\n                }\r\n\r\n                mCtrl.$parsers.push(validateRequiredMinMax);\r\n            }\r\n        };\r\n    });\r\n}\r\n","/**\r\n * Class: Accordion\r\n */\r\nimport $ from 'jquery';\r\nimport { $win } from '../base/utils/utils';\r\n\r\nexport default class Accordions {\r\n  constructor(config) { // put in defaults here\r\n    this.config = $.extend({\r\n        el: '.accordion'\r\n      }, config);\r\n    this.$el = $(this.config.el);\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    if (!this.$el.length)\r\n      return false;\r\n    Accordions.bindClickToAccordions(this.$el);\r\n  }\r\n\r\n  static bindClickToAccordions(elems, callback){\r\n    elems.on('click', '.accordion-item-trigger', function (event) {\r\n      event.preventDefault();\r\n      var $item = $(this).parent('.accordion-items-item'),\r\n        $content = $item.find('.accordion-item-expanded'),\r\n        $accordion = $item.parent('.accordion-items');\r\n      if ($item.hasClass('is-open')) {\r\n        $content.slideUp({\r\n          complete: function(){\r\n            $item.removeClass('is-open');\r\n            if (typeof callback === 'function') {\r\n              callback();\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        $accordion.find('.accordion-items-item').each(function(){\r\n          var $self = $(this);\r\n          if(!$accordion.hasClass('multi-open')){\r\n            $self.find('.accordion-item-expanded').slideUp({\r\n              complete: function(){\r\n                $self.removeClass('is-open');\r\n                if(typeof callback === 'function'){\r\n                  callback();\r\n                }\r\n              }\r\n            });\r\n          }\r\n        });\r\n\r\n        $content.slideDown({\r\n          complete: function(){\r\n            $item.addClass('is-open');\r\n            if (typeof callback === 'function') {\r\n              callback();\r\n            }\r\n          }\r\n        });\r\n      }\r\n      $win.trigger('resize');\r\n    });\r\n  }\r\n}\r\n","/**\n * Class: AnchorLinks\n * Description: Her goes description\n */\n\nimport $ from \"jquery\";\n\nexport default class AnchorLinks {\n  constructor() {\n    this.headerHeight = $(\".headerSliderCorporate\").length > 0? $(\".headerSliderCorporate\").height() : 0;\n    this.animationSpeed = 300;\n    this.anchorLink = \"a[href*=\\\\#]\";\n    this.$bodyHtml = $(\"html,body\");\n    this.init();\n  }\n  init() {\n    let self = this;\n\n    $(window)\n      .on(\"hashchange\", function(e) {\n        let UrlIdentifier = window.location.hash;\n\n        if (UrlIdentifier) {\n          let anchorElement = self.getAnchorElement(\n            self.getHash(UrlIdentifier)\n          );\n\n          if (anchorElement.length > 0) {\n            self.animateToPosition(anchorElement);\n          }\n        }\n      })\n      .trigger(\"hashchange\");\n\n    $(this.anchorLink).on(\"click\", function(e) {\n      e.preventDefault();\n\n      let UrlIdentifier = self.getHash($(this).attr(\"href\"));\n\n      let anchorElement = self.getAnchorElement(UrlIdentifier);\n\n      if (anchorElement.length > 0) {\n        self.animateToPosition(anchorElement);\n      }\n      if (history.pushState) {\n        history.pushState(null, null, `#${UrlIdentifier}`);\n      } else {\n        location.hash = `#${UrlIdentifier}`;\n      }\n      location.hash = `#${UrlIdentifier}`;\n    });\n  }\n  getHash(url) {\n    return url.substr(url.indexOf(\"#\")).substr(1);\n  }\n\n  getAnchorElement(UrlIdentifier) {\n    return $(`[name=\"${UrlIdentifier}\"],[id=\"${UrlIdentifier}\"]`);\n  }\n  animateToPosition($el) {\n    this.$bodyHtml.animate(\n      {\n        scrollTop: $el.offset().top - this.headerHeight\n      },\n      this.animationSpeed\n    );\n  }\n}\n","/**\r\n * Class: AnnouncementArticle\r\n * Description: AnnouncementArticle script\r\n */\r\n//import {m, utils} from '../../js/main';\r\nimport $ from 'jquery';\r\nimport moment from 'moment';\r\nimport { DateFormatingOptions } from '../base/utils/utils';\r\n\r\nexport default class AnnouncementArticle {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n\r\n  constructor(config) {\r\n    this.config = $.extend({\r\n        el: '.announcement-article',\r\n        date: '.article-date'\r\n      },config);\r\n    this.$el = $(this.config.el);\r\n    this.$date = this.$el.find(this.config.date);\r\n\r\n    if(this.$el.length){\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  init(options) {\r\n    this.$date.text(moment(this.$date.text().trim()).format(DateFormatingOptions.dateFormat));\r\n  }\r\n  bindEvents() {\r\n  }\r\n}\r\n","/**\r\n * Class: AnnouncementPresentation\r\n * Description: AnnouncementList script\r\n */\r\n//import {m, utils} from '../../js/main';\r\nimport $ from 'jquery';\r\nimport moment from 'moment';\r\nimport { DateFormatingOptions } from '../base/utils/utils';\r\n\r\nexport default class AnnouncementPresentation {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n\r\n  constructor(config) {\r\n    this.config = $.extend({\r\n        el: '.announcements-presentation-list'\r\n      },config);\r\n    this.$el = $(this.config.el);\r\n    this.$dates = this.$el.find('.list-items-item-value-type-date');\r\n\r\n    if(this.$el.length){\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  init(options) {\r\n    this.$dates.each(function (idx, elem) {\r\n      var $elem = $(elem);\r\n      $elem.text(moment($elem.text()).format(DateFormatingOptions.dateFormat));\r\n    });\r\n    //this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n  }\r\n}\r\n","/* eslint-disable */\r\n// https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\r\nif (!Array.prototype.findIndex) {\r\n  Object.defineProperty(Array.prototype, 'findIndex', {\r\n    value: function(predicate) {\r\n      // 1. Let O be ? ToObject(this value).\r\n      if (this == null) {\r\n        throw new TypeError('\"this\" is null or not defined');\r\n      }\r\n\r\n      var o = Object(this);\r\n\r\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n      var len = o.length >>> 0;\r\n\r\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\r\n      if (typeof predicate !== 'function') {\r\n        throw new TypeError('predicate must be a function');\r\n      }\r\n\r\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n      var thisArg = arguments[1];\r\n\r\n      // 5. Let k be 0.\r\n      var k = 0;\r\n\r\n      // 6. Repeat, while k < len\r\n      while (k < len) {\r\n        // a. Let Pk be ! ToString(k).\r\n        // b. Let kValue be ? Get(O, Pk).\r\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\r\n        // d. If testResult is true, return k.\r\n        var kValue = o[k];\r\n        if (predicate.call(thisArg, kValue, k, o)) {\r\n          return k;\r\n        }\r\n        // e. Increase k by 1.\r\n        k++;\r\n      }\r\n\r\n      // 7. Return -1.\r\n      return -1;\r\n    }\r\n  });\r\n}\r\n","/**\n * Class: NewsList\n * Description: NewsList script\n */\nimport $ from 'jquery';\nimport moment from 'moment';\nimport { DateFormatingOptions, $win } from '../base/utils/utils';\n\nexport default class Article {\n  constructor(config) {\n    this.sets = {\n      pagesize: 20,\n      offset: 0,\n      item: null,\n      apiAddress: '',\n      domOrder: '',\n      //initCompleteFunction: null,\n      //dataSrcFunction: function(json) { return json.data; },\n      //createdRow: null,\n      //columnDefs: []\n      initCompleteFunction : function() {\n        //$('.newslistBottom').html(\"<a href='/rss/news'><img src='../Images/rss_icon.png' width='45px'></a>\");\n      },\n      createdRow: function(row, data, index) {\n        $(row).addClass('list-items-item');\n      },\n      columnDefs: [\n        {\n          targets: [0],\n          className: \"list-items-item-column\",\n          render: function ( data, type, row ) {\n            return '<a class=\"list-items-item-column-link\" href=\"'+row[0]+'\"></a>';\n          }\n        },\n        {\n          targets: [1],\n          className: \"list-items-item-column-image\",\n          render: function ( data, type, row ) {\n            if (!row[1]) return \"\";\n            return '<div class=\"list-items-item-value list-items-item-value-type-image\" style=\"background-image: url(\\''+row[1]+'\\')\"></div>';\n          }\n        },\n        {\n          targets: [2],\n          className: \"list-items-item-column\",\n          render: function ( data, type, row ) {\n            var dateFromated = moment(row[2]).format(DateFormatingOptions.dateFormat);\n            return '<span class=\"list-items-item-value list-items-item-value-type-date\">' + dateFromated + '</span>'+\n              '<span class=\"list-items-item-value list-items-item-value-type-header\">' + row[3] + '</span>'+\n              '<span class=\"list-items-item-value list-items-item-value-type-description\">' + row[4] + '</span>';\n          }\n        }\n      ],\n      language: {\n        paginate: {\n          next: '<span aria-hidden=\"true\">›</span><span class=\"sr-only\">Next</span>',\n          previous: '<span aria-hidden=\"true\">‹</span><span class=\"sr-only\">Previous</span>'\n        }\n      }\n    };\n\n    this.dataTableElem = null;\n\n    this.config = $.extend({\n        el: '.article-main-list'\n      },config);\n    this.$el = $(this.config.el);\n\n    if(this.$el.length){\n      this.init();\n    }\n  }\n\n  init(options) {\n    $.extend(this.sets, newsListOptions);\n    this.initDataTable();\n    this.bindEvents();\n  }\n  bindEvents() {\n    // bind your events here.\n  }\n  initDataTable() {\n\n    if ($win.width() > 420 && $win.width() < 768) {\n      $.fn.dataTable.ext.pager.numbers_length = 6;\n    } else if ($win.width() > 330 && $win.width() < 420) {\n      $.fn.dataTable.ext.pager.numbers_length = 5;\n    } else if ($win.width() <= 330) {\n      $.fn.dataTable.ext.pager.numbers_length = 4;\n    }\n\n\n    this.dataTableElem = this.$el.DataTable({\n      \"ordering\": false,\n      \"info\": false,\n      \"responsive\": true,\n      \"stateSave\": true,\n      \"bLengthChange\": false,\n      \"processing\": true,\n      \"serverSide\": true,\n      \"searching\": false,\n      /* \"ajax\": {\n        \"url\": '/api/news',\n        \"data\": {\n          \"offset\": this.sets.offset,\n          \"item\": this.sets.item\n        },\n        \"dataSrc\": this.sets.dataSrcFunction\n      }, */\n      /* \"pageLength\": this.sets.pagesize, */\n      /* \"dom\": '<\"top\">t<\"newslistBottom\">p', */\n      \"ajax\": {\n        \"url\": this.sets.apiAddress,\n        \"data\": {\n          \"offset\": this.sets.offset,\n          \"item\": this.sets.item\n        },\n        \"dataSrc\": this.sets.dataSrcFunction\n      },\n      \"pageLength\": this.sets.pagesize,\n      \"dom\": this.sets.domOrder,\n      \"initComplete\": this.sets.initCompleteFunction,\n      \"createdRow\": this.sets.createdRow,\n      \"columnDefs\": this.sets.columnDefs,\n      \"language\": this.sets.language\n    });\n  };\n}\n","/**\r\n * Class: NewsList\r\n * Description: NewsList script\r\n */\r\nimport $ from 'jquery';\r\nimport moment from 'moment';\r\nimport { DateFormatingOptions } from '../base/utils/utils';\r\n\r\nexport default class ArticleHead {\r\n    /**\r\n     * @param {number} param this is param.\r\n     * @return {number} this is return.\r\n     */\r\n    constructor(config) {\r\n        this.config = $.extend({\r\n            el: '.article'\r\n        },config);\r\n        this.$el = $(this.config.el);\r\n        \r\n        if(this.$el.length){\r\n            this.init();\r\n        }\r\n    }\r\n    \r\n    init(options) {\r\n      this.bindEvents();\r\n      this.$published = this.$el.find('.article-moment-replace');\r\n      this.$published.html(\r\n        moment($.trim(this.$published.html())).format(\r\n          DateFormatingOptions.dateFormat\r\n        )\r\n      );\r\n      this.$published.show();\r\n    }\r\n    bindEvents() {\r\n        // bind your events here.\r\n    }\r\n}\r\n","import TweenMax from 'gsap/src/uncompressed/TweenMax';\r\nimport $ from 'jquery';\r\nimport moment from 'moment';\r\nimport { emitter } from '../base/emitter/emitter';\r\nimport { DateFormatingOptions, paragraphOverflow } from \"../base/utils/utils\";\r\n\r\nexport default class ArticlesPresentation {\r\n  constructor(config) { \r\n    this.config = $.extend({\r\n      el: '.news-module'\r\n    }, config);\r\n    this.$el = $(this.config.el);\r\n    if (this.$el.length) {\r\n      this.init();\r\n    }\r\n  }\r\n  init() {\r\n    this.$dates = this.$el.find('.news-list-item-date');\r\n    this.$dates.each(function (idx, elem) {\r\n        var $elem = $(elem);\r\n      $elem.text(\r\n        moment($elem.text().trim()).format(DateFormatingOptions.dateFormat)\r\n      );\r\n    });\r\n\r\n    this.$newsImageList = this.$el.find('.news-image-list');\r\n    this.$newsImageListItem = this.$el.find('.news-image-list-item');\r\n    this.$newsContainer = this.$el.find('.news-container');\r\n    this.$newsListItem = this.$el.find('.news-list-item');\r\n    this.$activeMarker = this.$el.find('.active-marker');\r\n    this.$newsListItemText = this.$el.find(\".news-list-item-text\");\r\n    this.activeIndex = 0;\r\n\r\n    // first element add highlighted\r\n    this.$newsListItem.first().addClass(\"highlighted\");\r\n    if(this.$newsImageList.find('[name=\"' + 0 + '\"]').length > 0)\r\n    {\r\n        this.$newsImageList.find('[name=\"' + 0 + '\"]').addClass('highlighted');\r\n    }\r\n    \r\n\r\n    // interval setup\r\n    this.newsInterval = null; // this.setNewsInterval();\r\n    this.setNewsImageListHeight();\r\n    this.setNewsVideoHeight();\r\n    this.bindEvents();\r\n  }\r\n\r\n  // bind events\r\n  bindEvents() {\r\n    var self = this;\r\n\r\n    $(function() {\r\n        self.calcMarkerPosition();\r\n    });\r\n\r\n    emitter.on('resize', function(obj) {\r\n        self.setNewsImageListHeight();\r\n        self.setNewsVideoHeight();\r\n    });\r\n\r\n    this.$newsListItem.on(\"mouseenter\", (e) => {\r\n        if (window.innerWidth <= 990) {\r\n          return;\r\n        }\r\n        self.mouseEnterHandler(e);\r\n    });\r\n    this.$newsListItem.on(\"mouseleave\", (e) => {\r\n        if (window.innerWidth <= 990) {\r\n          return;\r\n        }\r\n        self.mouseLeaveHandler(e);\r\n    });\r\n    paragraphOverflow(this.$newsListItemText);\r\n  }\r\n  \r\n  // set news images container height, which is neseccary on ipad\r\n  setNewsImageListHeight() {\r\n    this.$newsImageList.css({\r\n          height: '100%', \r\n          'min-height': '510px'\r\n    });\r\n  }\r\n\r\n  // set video height,\r\n  setNewsVideoHeight() {\r\n    this.$newsImageListItem\r\n      .filter('video, .youtube-video')\r\n      .each((index, value) => {\r\n        // let $vid = $(value);\r\n      let width = this.$newsImageList.innerWidth();\r\n        let height = (width * 9) / 16;\r\n\r\n      if(height < this.$newsImageList.innerHeight()){\r\n        height = this.$newsImageList.innerHeight();\r\n          width = (height * 16) / 9;\r\n      }\r\n      $(value).css({\r\n        height: height + 'px',\r\n        width: width + 'px'\r\n      });\r\n    });\r\n  }\r\n\r\n  // mouse enter handler, enter animation and clear interval\r\n  mouseEnterHandler(e) {\r\n    this.activeIndex = $(e.currentTarget).index();\r\n    clearInterval(this.newsInterval);\r\n    this.setActive(this.activeIndex);\r\n  }\r\n\r\n  // mouseleave handler, leave animation and set new interval\r\n  mouseLeaveHandler(e) {\r\n    this.newsInterval = this.setNewsInterval();\r\n  }\r\n\r\n  // set and remove highlighted class on elements\r\n  setActive(index) {      \r\n    if (!this.$newsListItem.eq(index).hasClass('highlighted')) {\r\n      this.$newsImageList.children().removeClass('highlighted');\r\n      this.$newsListItem.removeClass('highlighted');\r\n\r\n      this.$newsImageList.find('[name=\"' + index + '\"]').addClass('highlighted');\r\n      this.$newsListItem.eq(index).addClass('highlighted');\r\n\r\n      this.calcMarkerPosition();\r\n    }\r\n  }\r\n\r\n  // active marker position calculation\r\n  calcMarkerPosition() {\r\n      var activeElementTop = this.$newsContainer.find('.highlighted').position().top,\r\n          activeElementheight = this.$newsContainer.find('.highlighted').innerHeight();\r\n\r\n    TweenMax.to(this.$activeMarker, 0.2, {\r\n      top: activeElementTop + activeElementheight / 2 - 20\r\n    });\r\n  }\r\n\r\n  // set interval\r\n  setNewsInterval() {\r\n    return setInterval(() => {\r\n      this.changeActiveNews();\r\n    }, 500);\r\n  }\r\n\r\n  // change active news - highlighted\r\n  changeActiveNews() {\r\n    this.activeIndex = 0;\r\n    this.setActive(this.activeIndex);\r\n  }\r\n}\r\n","/**\r\n * Class: BreadCrumb\r\n */\r\nimport $ from 'jquery';\r\nimport { $win } from '../base/utils/utils';\r\n\r\nexport default class BreadCrumb {\r\n  constructor(config) {\r\n    this.config = $.extend(\r\n      {\r\n        el: '.breadcrumbs-container-ov'\r\n      },\r\n      config\r\n    );\r\n\r\n    this.$el = $(this.config.el);\r\n\r\n    if (this.$el.length > 0) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  // calc total breadcrumbs elements with\r\n  calcBreadcrumbsWitdh() {\r\n    // init with (we don't need error :))\r\n    var ElemWidthTotal = 0;\r\n    $('.breadcrumbs--ov > li').each(function() {\r\n      ElemWidthTotal = ElemWidthTotal + $(this).outerWidth();\r\n    });\r\n    return ElemWidthTotal;\r\n  }\r\n\r\n  breadcrumsWidth() {\r\n    // initial state\r\n    // need using ONLY STATIC (before first breadcrumbsBuild() run) total breadcrumbs element width\r\n    var breadcrumbsItemsLength = $('.breadcrumbs--ov > li').length;\r\n\r\n    //save all breadcrumbs in clean state\r\n    var breadcrumbsTempItems = $('.breadcrumbs--ov').html();\r\n    var containerWith = $('.breadcrumbs--ov').width();\r\n    $('.breadcrumbs--ov').html('');\r\n    $('.breadcrumbs--ov').html(breadcrumbsTempItems);\r\n\r\n    // check if inner elements exist and prepare sub items\r\n    if ($('.breadcrumbs-hidden').length < 1) {\r\n      // wrap items in continer\r\n      $('.breadcrumbs--ov')\r\n        .children(':not(:nth-child(1))')\r\n        .wrapAll('<div class=\"breadcrumbs-hidden\"></div>');\r\n\r\n      // create <li> with ...\r\n      $('.breadcrumbs--ov').append(\r\n        '<li class=\"breadcrumb-item--ov no-link\"><div class=\"breadcrumbs-toggle\">...</div></li>'\r\n      );\r\n      $('.breadcrumbs-hidden').appendTo('.breadcrumb-item--ov.no-link');\r\n    }\r\n\r\n    // add showing  elements to breadcrumbs\r\n    for (var i = 0; i < breadcrumbsItemsLength - 1; i++) {\r\n      $('.breadcrumbs-hidden li:last-child').insertAfter(\r\n        '.breadcrumbs--ov > li:nth-child(2)'\r\n      );\r\n\r\n      //compare container width with total elements width\r\n      if (!(this.calcBreadcrumbsWitdh() < containerWith)) {\r\n        $('.breadcrumbs--ov > li:nth-child(3)').appendTo(\r\n          $('.breadcrumbs-hidden')\r\n        );\r\n        break;\r\n      }\r\n\r\n      // if we don't have any items then we need to clean html\r\n      if ($('.breadcrumbs-hidden li').length < 1) {\r\n        $('.no-link').remove();\r\n        break;\r\n      }\r\n    }\r\n    if (breadcrumbsItemsLength == 1) {\r\n      $('.no-link').remove();\r\n    }\r\n  }\r\n\r\n  init() {\r\n    this.$el.parent().css('transform', 'none');\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    var self = this;\r\n\r\n    self.breadcrumsWidth();\r\n    $(document).ready(function() {\r\n      //click on '...' with bubble\r\n      var boo = false;\r\n      $(document).click(function(e) {\r\n        var container = $('.breadcrumbs-toggle');\r\n        if (container.is(e.target) && boo == false) {\r\n          $('.breadcrumbs-hidden').show();\r\n          boo = true;\r\n        } else {\r\n          $('.breadcrumbs-hidden').hide();\r\n          boo = false;\r\n        }\r\n      });\r\n\r\n      $win.resize(function() {\r\n        self.breadcrumsWidth();\r\n      });\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Class: InView\r\n * Description: Her goes description\r\n */\r\n\r\nimport $ from 'jquery';\r\nimport { emitter } from '../emitter/emitter';\r\nimport * as utils from '../utils/utils';\r\n\r\nexport default class InViewPort {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.inViewPort',\r\n        eventName: 'inViewPort/elementVisible',\r\n        addClass: true,\r\n        inViewClass: 'inViewPort--wasInView',\r\n        inViewCurrentClass: 'inViewPort--isInView',\r\n        inViewinitedClass: 'inViewPort--inited',\r\n        offsetBottom: 1,\r\n        offsetTop: 1\r\n      },\r\n      config\r\n    );\r\n\r\n    this.el = this.config.el;\r\n    this.$el = $(this.el);\r\n    this.hasBeenVisible = [];\r\n    this.init();\r\n  }\r\n  init() {\r\n    this.bindEvents();\r\n    if (this.config.onInit) {\r\n      this.config.onInit(this.$el);\r\n    }\r\n  }\r\n  bindEvents() {\r\n    var self = this;\r\n    emitter.on('scroll', function() {\r\n      setTimeout(function() {\r\n        self.setVisibleElements();\r\n      }, 200);\r\n    });\r\n    emitter.on('resize', function() {\r\n      setTimeout(function() {\r\n        self.setVisibleElements();\r\n      }, 200);\r\n    });\r\n    utils.$win.trigger('scroll');\r\n  }\r\n  // add classes to element that are visible\r\n  setVisibleElements() {\r\n    const self = this;\r\n    this.$el.addClass(this.config.inViewinitedClass);\r\n    this.$el.each(function(i, el) {\r\n      var $el = $(el);\r\n      if (self.isVisible($el, true)) {\r\n        $el.addClass(self.config.inViewCurrentClass);\r\n        if (self.hasBeenVisible.indexOf(el) < 0) {\r\n          self.hasBeenVisible.push(el);\r\n          if (self.config.addClass) {\r\n            $el.addClass(self.config.inViewClass);\r\n          }\r\n          emitter.emit(self.config.eventName, el);\r\n          if (self.config.onFirstIn) {\r\n            self.config.onFirstIn($el);\r\n          }\r\n        } else {\r\n          if (self.config.onIn) {\r\n            self.config.onIn($el);\r\n          }\r\n        }\r\n      } else {\r\n        if (self.config.addClass) {\r\n          $el.removeClass(self.config.inViewCurrentClass);\r\n        }\r\n        if (self.config.onOut) {\r\n          self.config.onOut($el);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // test if specific element is visible\r\n  isVisible($el, partial) {\r\n    var viewTop = utils.$win.scrollTop() - this.config.offsetTop,\r\n      viewBottom =\r\n        utils.$win.scrollTop() + utils.$win.height() + this.config.offsetBottom,\r\n      _top = $el.offset().top,\r\n      _bottom = _top + $el.outerHeight(),\r\n      compareTop = partial === true ? _bottom : _top,\r\n      compareBottom = partial === true ? _top : _bottom;\r\n\r\n    //$('.viewPortDebugViewport').css('top',_top ).css('bottom',_bottom);\r\n    return compareBottom <= viewBottom && compareTop >= viewTop;\r\n  }\r\n  unbindEvents() {\r\n    emitter.off('scroll', function() {\r\n      self.setVisibleElements();\r\n    });\r\n    emitter.off('resize', function() {\r\n      self.setVisibleElements();\r\n    });\r\n    // utils.$win.off({\r\n    // \t'DOMMouseScroll mousewheel scroll ': utils.debounce(function() {\r\n    // \t\tself.setVisibleElements();\r\n    // \t}, 5),\r\n    // \t'resize': utils.debounce(function() {\r\n    // \t\tself.setVisibleElements();\r\n    // \t}, 150)\r\n    // }).trigger('scroll');\r\n  }\r\n  update($el) {\r\n    this.$el.removeClass(this.config.inViewinitedClass);\r\n    this.unbindEvents();\r\n    this.$el = $el.find(this.el);\r\n    self.hasBeenVisible = [];\r\n    this.bindEvents();\r\n  }\r\n}\r\n","import $ from 'jquery';\nimport InViewPort from '../base/inViewPort/inViewPort';\nimport Swiper from 'swiper';\n\nexport default class CareerSlider {\n  constructor(config) {\n    this.config = $.extend({}, config);\n    this.$el = $(this.config.el);\n\n    this.$swiperContainer = this.$el.find(\n      this.config.id || '.career-swiper-container'\n    );\n\n    this.initSlider(this.config);\n  }\n\n  initSlider(config) {\n    const self = this;\n    const swiperInstance = new Swiper(\n      this.config.id || '.career-swiper-container',\n      {\n        // Optional parameters\n        initialSlide: 0,\n        direction: 'horizontal',\n        loop: false,\n        slidesPerView: 'auto',\n        slidesPerGroup: 3,\n        slidesOffsetBefore: config.slidesOffsetBefore || 120,\n        slidesOffsetAfter: 65,\n        spaceBetween: config.spaceBetween || 32,\n        centeredSlides: false,\n        variableWidth: false,\n        watchOverflow: true,\n        observer: true,\n        observeParents: true,\n\n        // Navigation arrows\n        nextButton: '.swiper-button-next',\n        prevButton: '.swiper-button-prev',\n        onInit: self.onInit.bind(this),\n        breakpoints: {\n          // when window width is <= 768\n          768: {\n            spaceBetween: 10,\n            slidesOffsetBefore: 27,\n            slidesOffsetAfter: 40,\n            slidesPerGroup: 1\n          }\n        }\n      }\n    );\n  }\n\n  onInit(e) {\n    if (!$('body').hasClass('is-experience-editing')) {\n      const colInView = new InViewPort({\n        el: '.swiper-wrapper',\n        inViewinitedClass: 'in-viewport-inited',\n        inViewClass: 'was-in-viewport',\n        inViewCurrentClass: 'in-viewport',\n        eventName: 'columnInView',\n        offsetBottom: -200,\n        offsetTop: -200\n      });\n    }\n\n    if (e.slides.length < 4) {\n      $(e.nextButton).css('display', 'none');\n      $(e.prevButton).css('display', 'none');\n    }\n  }\n}\n","/**\r\n * Class: CustomerDetails\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\n\r\nexport default class CustomerDetails {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.customerDetails'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    this.init();\r\n  }\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n  bindEvents() {\r\n    // bind your events here.\r\n  }\r\n}\r\n","/**\r\n * Class: CustomLogin\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\nimport 'jquery-validation';\r\n\r\nexport default class CustomLogin {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.customlogin'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    //this.$loginBtn = this.$el.find('.login-button');\r\n    //this.$logoutLink = this.$el.find('.logout-button-link');\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.initFormValidation();\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {}\r\n\r\n  initFormValidation() {\r\n    this.$el.find('form').validate({\r\n      rules: {\r\n        UserName: {\r\n          required: true\r\n        },\r\n        UserPassword: {\r\n          required: true\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","import $ from 'jquery';\r\n\r\nconst className = {\r\n  onFocus: 'focused'\r\n}\r\n\r\nexport default class CustomSelect {\r\n  constructor(config) {\r\n    this.config = $.extend({}, config);\r\n    this.$el = $(this.config.el);\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n  \r\n  bindEvents() {\r\n    this.$el.on('focus', '> *', () => {\r\n      this.$el.addClass(className.onFocus);\r\n    });\r\n\r\n    this.$el.on('blur', '> *', () => {\r\n      this.$el.removeClass(className.onFocus);\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Class: dawaAutocomplete\r\n * Description: Autocomplete for addresses using DAWA.\r\n * This function is based on the project: https://github.com/DanmarksAdresser/autocomplete\r\n */\r\nimport $ from 'jquery';\r\nimport 'jquery-ui/ui/widgets/autocomplete';\r\nconst angular = window.angular;\r\n\r\nexport default class dawaAutocomplete {\r\n  constructor(/* config */) {\r\n    // Fix for wrong width of autocomplete field in some cases.\r\n    // see this for detailt: https://stackoverflow.com/a/11845718\r\n    $.ui.autocomplete.prototype._resizeMenu = function() {\r\n      var ul = this.menu.element;\r\n      ul.outerWidth(this.element.outerWidth());\r\n    };\r\n\r\n    $.widget('dawa.dawaautocomplete', {\r\n      options: {\r\n        jsonp: !('withCredentials' in new XMLHttpRequest()),\r\n        baseUrl: 'https://dawa.aws.dk',\r\n        minLength: 2,\r\n        delay: 300,\r\n        adgangsadresserOnly: false,\r\n        autoFocus: true,\r\n        timeout: 10000,\r\n        error: null,\r\n        params: {},\r\n        fuzzy: true,\r\n        stormodtagerpostnumre: true\r\n      },\r\n\r\n      _create: function() {\r\n        var element = this.element;\r\n        var options = this.options;\r\n        var targetType = options.adgangsadresserOnly\r\n          ? 'adgangsadresse'\r\n          : 'adresse';\r\n        var autocompleteWidget = this;\r\n        var caretpos = null;\r\n        var adgangsadresseid = null;\r\n        var skipVejnavn = false;\r\n\r\n        var cache = {};\r\n\r\n        // perform a GET request to DAWA autocomplete, caching the response\r\n        function get(params, cb) {\r\n          var stringifiedParams = JSON.stringify(params);\r\n          if (cache[stringifiedParams]) {\r\n            return cb(cache[stringifiedParams]);\r\n          }\r\n          $.ajax({\r\n            url: options.baseUrl + '/autocomplete',\r\n            dataType: options.jsonp ? 'jsonp' : 'json',\r\n            data: $.extend({}, params, options.params),\r\n            timeout: options.timeout,\r\n            success: function(data) {\r\n              cache[stringifiedParams] = data;\r\n              cb(data);\r\n            },\r\n            error: options.error\r\n          });\r\n        }\r\n\r\n        function stormodtagerAdresseTekst(data) {\r\n          var adresse = data.vejnavn;\r\n          if (data.husnr) {\r\n            adresse += ' ' + data.husnr;\r\n          }\r\n          if (data.etage || data.dør) {\r\n            adresse += ',';\r\n          }\r\n          if (data.etage) {\r\n            adresse += ' ' + data.etage + '.';\r\n          }\r\n          if (data.dør) {\r\n            adresse += ' ' + data.dør;\r\n          }\r\n          adresse += ', ';\r\n          if (data.supplerendebynavn) {\r\n            adresse += data.supplerendebynavn + ', ';\r\n          }\r\n          adresse +=\r\n            data.stormodtagerpostnr + ' ' + data.stormodtagerpostnrnavn;\r\n          return adresse;\r\n        }\r\n\r\n        function getAutocompleteResponse(type, q, currentCaretPos, cb) {\r\n          var params = { q: q, type: type, caretpos: currentCaretPos };\r\n          if (options.fuzzy) {\r\n            params.fuzzy = '';\r\n          }\r\n          if (adgangsadresseid) {\r\n            params.adgangsadresseid = adgangsadresseid;\r\n          }\r\n          if (skipVejnavn) {\r\n            params.startfra = 'adgangsadresse';\r\n          }\r\n          skipVejnavn = false;\r\n\r\n          var adgangsadresseRestricted = !!adgangsadresseid;\r\n\r\n          // Vi begrænser kun til en bestemt adgangsadresseid én gang\r\n          adgangsadresseid = null;\r\n\r\n          get(params, function(result) {\r\n            var processedResult = result\r\n              .reduce(function(memo, row) {\r\n                if (\r\n                  (row.type === 'adgangsadresse' || row.type === 'adresse') &&\r\n                  row.data.stormodtagerpostnr\r\n                ) {\r\n                  // Vi har modtaget et stormodtagerpostnr. Her vil vi muligvis gerne vise stormodtagerpostnummeret\r\n                  var stormodtagerEntry = $.extend({}, row);\r\n                  stormodtagerEntry.tekst = stormodtagerAdresseTekst(row.data);\r\n                  stormodtagerEntry.forslagstekst = stormodtagerEntry.tekst;\r\n\r\n                  var rows = [];\r\n                  // Omvendt, hvis brugeren har indtastet den almindelige adresse eksakt, så er der ingen\r\n                  // grund til at vise stormodtagerudgaven\r\n                  if (q !== stormodtagerEntry.tekst) {\r\n                    rows.push(row);\r\n                  }\r\n\r\n                  // Hvis brugeren har indtastet stormodtagerudgaven af adressen eksakt, så viser vi\r\n                  // ikke den almindelige udgave\r\n                  if (q !== row.tekst) {\r\n                    rows.push(stormodtagerEntry);\r\n                  }\r\n\r\n                  // brugeren har indtastet stormodtagerpostnummeret, såvi viser stormodtager udgaven først.\r\n                  if (\r\n                    rows.length > 1 &&\r\n                    q.indexOf(row.data.stormodtagerpostnr) !== -1\r\n                  ) {\r\n                    rows = [rows[1], rows[0]];\r\n                  }\r\n                  memo = memo.concat(rows);\r\n                } else {\r\n                  memo.push(row);\r\n                }\r\n                return memo;\r\n              }, [])\r\n              .map(function(row) {\r\n                return {\r\n                  label: row.forslagstekst,\r\n                  value: row\r\n                };\r\n              });\r\n            if (adgangsadresseRestricted && processedResult.length === 1) {\r\n              // der er kun en adresse på adgangsadressen\r\n              element.val(processedResult[0].value.tekst);\r\n              element.selectionStart = caretpos =\r\n                processedResult[0].value.caretpos;\r\n              element.autocomplete('close');\r\n              autocompleteWidget._trigger(\r\n                'select',\r\n                null,\r\n                processedResult[0].value\r\n              );\r\n            } else {\r\n              cb(processedResult);\r\n            }\r\n          });\r\n        }\r\n\r\n        var autocompleteOptions = $.extend({}, options, {\r\n          source: function(request, response) {\r\n            var q = request.term;\r\n            caretpos = element[0].selectionStart;\r\n            return getAutocompleteResponse(targetType, q, caretpos, response);\r\n          },\r\n          select: function(event, ui) {\r\n            event.preventDefault();\r\n            var item = ui.item.value;\r\n            if (element.is('div')) {\r\n              element.html(item.tekst);\r\n              placeCaretAtEnd(element[0]);\r\n            } else {\r\n              element.val(item.tekst);\r\n              angular.element(element).triggerHandler('change');\r\n              element[0].selectionStart = element[0].selectionEnd = caretpos =\r\n                item.caretpos;\r\n            }\r\n\r\n            element.next('.dawa-postalcode').val(item.data.postnr);\r\n\r\n            if (item.type !== targetType) {\r\n              if (item.type === 'adgangsadresse') {\r\n                adgangsadresseid = item.data.id;\r\n              }\r\n              if (item.type === 'vejnavn') {\r\n                skipVejnavn = true;\r\n              }\r\n              setTimeout(function() {\r\n                element.autocomplete('search');\r\n              });\r\n            } else {\r\n              element.trigger('dawaComplete'); // Used on Survey component\r\n              element.autocomplete('close');\r\n              autocompleteWidget._trigger('select', null, item);\r\n            }\r\n          }\r\n        });\r\n        element.autocomplete(autocompleteOptions);\r\n        element.on('autocompletefocus', function(event) {\r\n          event.preventDefault();\r\n        });\r\n        // der er tilsyneladende ingen skudsikker måde at få en event når\r\n        // caret positionen ændrer sig, så vi benytter en timer i stedet.\r\n        setInterval(function() {\r\n          var currentCaretpos = element[0].selectionStart;\r\n          if (\r\n            element[0] === document.activeElement &&\r\n            caretpos !== currentCaretpos\r\n          ) {\r\n            caretpos = currentCaretpos;\r\n            element.autocomplete('search');\r\n          }\r\n        }, 100);\r\n      }\r\n    });\r\n\r\n    $('.dawa-autocomplete').dawaautocomplete({\r\n      select: function(event, adresse) {\r\n        //Setting up customerAddress for SS Profile Page..setProfileData attribute is used for Profile page only\r\n        if ($(this).attr('setProfileData')) {\r\n          var ctrlName = 'profile';\r\n          var selCtrl = 'div[ng-controller=\"' + ctrlName + '\"]';\r\n          var $scope = angular.element(selCtrl).scope();\r\n          $scope.customerAddress = adresse.data;\r\n          $scope.$apply();\r\n        }\r\n      },\r\n      error: function(xhr, status, error) {\r\n        $(this)\r\n          .closest('div')\r\n          .find('.help-block')\r\n          .text('Der opstod en fejl: ' + status + ' - ' + error);\r\n      }\r\n    });\r\n\r\n    // place caret at end of contenteditable div/span\r\n    // source: https://stackoverflow.com/a/4238971\r\n    function placeCaretAtEnd(el) {\r\n      el.focus();\r\n      if (\r\n        typeof window.getSelection != 'undefined' &&\r\n        typeof document.createRange != 'undefined'\r\n      ) {\r\n        var range = document.createRange();\r\n        range.selectNodeContents(el);\r\n        range.collapse(false);\r\n        var sel = window.getSelection();\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n      } else if (typeof document.body.createTextRange != 'undefined') {\r\n        var textRange = document.body.createTextRange();\r\n        textRange.moveToElementText(el);\r\n        textRange.collapse(false);\r\n        textRange.select();\r\n      }\r\n    }\r\n  }\r\n}\r\n","/**\r\n * Class: EmergencyInformation\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\nimport * as utils from '../base/utils/utils';\r\n\r\nexport default class EmergencyInformation {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    this.moduleClass = '.emergency-modal';\r\n    this.config = $.extend(\r\n      {\r\n        el: this.moduleClass,\r\n        version: '',\r\n        apiAddress: '/api/emergencyinformation/CheckAsViewed?ver='\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n\r\n    if (this.$el.length > 0) this.init();\r\n  }\r\n\r\n  init() {\r\n    utils.$body.addClass('modal-open');\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    var self = this;\r\n\r\n    this.$el.on('click', function(e) {\r\n      if ($(e.target).hasClass('emergency-closer')) {\r\n        utils.$body.removeClass('modal-open');\r\n        $(self.moduleClass).remove();\r\n      }\r\n    });\r\n  }\r\n}\r\n","/**\n * Class: Expand\n * Description: Her goes description\n */\nimport $ from 'jquery';\nimport * as utils from '../base/utils/utils';\n\nexport default class Expand {\n  /**\n   * @param {number} param this is param.\n   * @return {number} this is return.\n   */\n  constructor(config) {\n    // put in defaults here\n    //defaults\n    this.config = $.extend(\n      {\n        el: '.expand'\n      },\n      config\n    );\n    this.$el = $(this.config.el);\n    this.$trigger = this.$el.find('.expand-trigger');\n    this.$content = this.$el.find('.expand-content');\n    this.$content.data('height', utils.actualSize(this.$content));\n    this.isVisible = false;\n    this.classVisible = 'expand-content-visible';\n\n    if (this.$el.length) {\n      this.init();\n      this.$el.data('module', this);\n    }\n  }\n  init() {\n    this.bindEvents();\n  }\n  bindEvents() {\n    var self = this;\n    this.$trigger.on({\n      click: function(/* e */) {\n        if (self.isVisible) {\n          self.close();\n        } else {\n          self.open();\n        }\n      }\n    });\n  }\n  close() {\n    this.$el.removeClass(this.classVisible);\n    this.$content.css('height', '');\n    this.isVisible = false;\n  }\n  open() {\n    this.$el.addClass(this.classVisible);\n    var height = utils.actualSize(this.$content).height;\n    this.$content.height(height);\n    this.isVisible = true;\n  }\n}\n","/**\r\n * Class: ExpandCollapseCircle\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\n\r\nexport default class ExpandCollapseCircle {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.expandCollapseCircle-module'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    if (this.$el.length) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  init() {\r\n    var self = this;\r\n    self.$toggle = self.$el.find('.js-expandCollapseCircle-expand-toggle');\r\n\r\n    // clickhandler bind\r\n    self.$toggle.on('click', function(e) {\r\n      e.preventDefault();\r\n      var expandCollapseModuleObj = $(this).parents(\r\n        'div[class^=\"expandCollapseCircle-module\"]'\r\n      );\r\n      if (expandCollapseModuleObj.hasClass('is-expanded')) {\r\n        expandCollapseModuleObj.removeClass('is-expanded');\r\n        $(this).text($(this).attr('data-close'));\r\n      } else {\r\n        expandCollapseModuleObj.addClass('is-expanded');\r\n        $(this).text($(this).attr('data-open'));\r\n      }\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Class: ExpandCollapseRectangleItem\r\n * Description: Her goes description\r\n */\r\n//import {m, utils} from '../../js/main';\r\nimport { emitter } from '../base/emitter/emitter';\r\nexport default class ExpandCollapseRectangleItem {\r\n    /**\r\n     * @param {number} param this is param.\r\n     * @return {number} this is return.\r\n     */\r\n    constructor(config) { // put in defaults here\r\n        \r\n    }\r\n\r\n    init(contextElement) {\r\n       \r\n        this.$toggle = contextElement.find('.js-rectangle-presentation-expand-toggle');\r\n        \r\n        // clickhandler bind\r\n        this.$toggle.on('click', function(e) {\r\n            e.preventDefault();\r\n           \r\n            var contextitem = $($(this).parents(\".rectangle-presentation-item\"));\r\n            \r\n            if (contextitem.hasClass('is-expanded')) {\r\n                contextitem.removeClass('is-expanded');\r\n                $(this).text($(this).attr('data-open'));\r\n            } else {\r\n                contextitem.addClass('is-expanded');\r\n                $(this).text($(this).attr('data-close'));\r\n            }\r\n        });\r\n    }    \r\n}\r\n\r\n","/**\r\n * Class: peoplepresentation\r\n */\r\nimport $ from 'jquery';\r\nimport ExpandCollapseRectangleItem from '../expandcollapserectangle/expandcollapserectangleitem';\r\n\r\nexport default class ExpandCollapseRectanglePresentation {\r\n  constructor(config) {\r\n    this.config = $.extend(\r\n      {\r\n        el: '.rectangle-presentation-module',\r\n        rectanglecontext: '.rectangle-presentation-module-context'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    this.$rectanglecontext = $(this.config.rectanglecontext);\r\n\r\n    if (this.$el.length) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  init() {\r\n    var self = this;\r\n    this.$select = this.$el.find('.js-rectangle-presentation-module-select');\r\n\r\n    // init filter list\r\n    $.each(this.$rectanglecontext, function(index, element) {\r\n      self.getpeopleitems(\r\n        $(element)\r\n          .find('.onloadcategoryid')\r\n          .val(),\r\n        $(element).find('.rectangle-presentation-item-list-container'),\r\n        $(element)\r\n          .find('.readmorelabel')\r\n          .val(),\r\n        $(element)\r\n          .find('.readlesslabel')\r\n          .val()\r\n      );\r\n    });\r\n\r\n    // clickhandler bind\r\n    this.$select.on('change', function(e) {\r\n      e.preventDefault();\r\n      self.$rectanglecontext = $(e.target).parents(\r\n        '.rectangle-presentation-module-context'\r\n      );\r\n\r\n      self.getpeopleitems(\r\n        self.$rectanglecontext\r\n          .find('.rectangle-presentation-module-select option:selected')\r\n          .attr('data-categoryid'),\r\n        self.$rectanglecontext.find(\r\n          '.rectangle-presentation-item-list-container'\r\n        ),\r\n        self.$rectanglecontext.find('.readmorelabel').val(),\r\n        self.$rectanglecontext.find('.readlesslabel').val()\r\n      );\r\n    });\r\n  }\r\n\r\n  getpeopleitems(categoryid, contextitem, readmorelabel, readlesslabel) {\r\n    var itemscontainereement = contextitem;\r\n    var readmore = readmorelabel;\r\n    var readless = readlesslabel;\r\n\r\n    var apiurl = '/expandcollapse/getlist?catergoryid=' + categoryid;\r\n    if (typeof window.appendApi !== 'undefined') {\r\n      apiurl =\r\n        '/expandcollapse/getlist?catergoryid=' + categoryid + window.appendApi;\r\n    }\r\n\r\n    $.ajax({\r\n      type: 'GET',\r\n      url: apiurl,\r\n      success: function(data) {\r\n        itemscontainereement.empty();\r\n        itemscontainereement.html(data);\r\n        let expandcollapserectangleitem = new ExpandCollapseRectangleItem();\r\n        expandcollapserectangleitem.init(itemscontainereement);\r\n        itemscontainereement\r\n          .find('.js-rectangle-presentation-expand-toggle')\r\n          .attr('data-open', readmore)\r\n          .attr('data-close', readless)\r\n          .html(readmore);\r\n      },\r\n      error: function(err) {\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n}\r\n","/* eslint-disable no-useless-escape */\n/**\n * Class: Responsive\n * Description: Her goes description\n */\nimport { emitter } from '../emitter/emitter';\nimport * as utils from '../utils/utils';\n\nexport class Responsive {\n  /**\n   * @param {number} param this is param.\n   * @return {number} this is return.\n   */\n  constructor(config) {\n    this.config = config;\n    this.size = '';\n    this.lastSize = '';\n    this.init();\n  }\n  init() {\n    this.bindEvents();\n  }\n  bindEvents() {\n    var self = this;\n    utils.$win\n      .on({\n        resize: utils.debounce(function() {\n          const size = self.getSize();\n          if (size !== self.lastSize) {\n            emitter.emit('responsive/sizechange', size);\n            self.lastSize = size;\n          }\n        }, 100)\n      })\n      .resize();\n  }\n  getSize() {\n    return window\n      .getComputedStyle(document.querySelector('body'), ':before')\n      .getPropertyValue('content')\n      .replace(/\\\"/g, '');\n  }\n}\n\n/**\n * Exports Responsive as singleton. Consume with:\n * import { responsive } from '../responsive/responsive';\n * (remember the brackets around { responsive }).\n */\nexport let responsive = new Responsive();\n","/**\r\n * Class: Exploration\r\n * Description: Her goes description\r\n */\r\nimport Gsap from 'gsap';\r\nimport TweenMax from 'gsap/src/uncompressed/TweenMax';\r\nimport $ from 'jquery';\r\nimport { responsive } from '../base/responsive/responsive';\r\nimport * as utils from '../base/utils/utils';\r\n\r\nvar Power1 = window.Power1 || null;\r\n\r\nexport default class Exploration {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.exploration'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n\r\n    this.dataPath = this.$el.data('jsonPath');\r\n    this.data = null;\r\n    this.$landingLeft = this.$el.find('.landing-left');\r\n    this.$landingRight = this.$el.find('.landing-right');\r\n    this.$categoryItems = this.$el.find('.category-items');\r\n    this.$allCategoryItems = this.$categoryItems.find('.category-item');\r\n    this.$header = this.$el.find('.exploration-header');\r\n    this.$categoryItem = this.$categoryItems.find('.category-item-image-block');\r\n    this.$categoryLinks = this.$el.find('.exploration-category-link');\r\n    this.$categoryLinkContainer = this.$el.find('.exploration-categories');\r\n    this.$categoryLinksMobileSelect = this.$el.find(\r\n      '.exploration-categories-mobile-select'\r\n    );\r\n    this.$viewLanding = this.$el.find('.exploration-landing');\r\n    this.$viewLandingAnimates = this.$el.find(\r\n      '.exploration-landing .landing-animate'\r\n    );\r\n\r\n    this.$scrollContainer = this.$el.find('.exploration-scroll');\r\n    this.$scrollDots = this.$el.find('.exploration-scroll-dots');\r\n    this.$scrollUp = this.$el.find('.exploration-scroll-up');\r\n    this.$scrollDown = this.$el.find('.exploration-scroll-down');\r\n    this.$scrollArrow = this.$el.find('.exploration-scroll-arrow');\r\n\r\n    this.$scrollIndicator = this.$el.find('.exploration-scroll-indicator');\r\n    this.$scrollIndicatorCurrent = this.$scrollIndicator.find(\r\n      '.exploration-scroll-indicator-current'\r\n    );\r\n    this.$scrollIndicatorTotal = this.$scrollIndicator.find(\r\n      '.exploration-scroll-indicator-total'\r\n    );\r\n\r\n    this.scrollTimer = null;\r\n\r\n    this.$baseView = this.$el.find('.exploration-base-view');\r\n    this.$detailsView = this.$el.find('.exploration-details-view');\r\n\r\n    this.$detailsBack = this.$el.find('.details-right-back');\r\n    this.$detailsNext = this.$el.find('.details-navigation-next');\r\n    this.$detailsPrev = this.$el.find('.details-navigation-prev');\r\n    this.$detailsGridTrigger = this.$el.find(\r\n      '.details-navigation-overview-trigger'\r\n    );\r\n    this.detailsZindex = 100;\r\n\r\n    this.viewState = 'random';\r\n    this.$currentView = this.$viewLanding;\r\n\r\n    //templates\r\n    this.templateCategoryItemText = this.$el\r\n      .find('#template-category-item-text')\r\n      .html();\r\n    this.templateCategoryItemImage = this.$el\r\n      .find('#template-category-item-image')\r\n      .html();\r\n    this.templateCategoryItemDetails = this.$el\r\n      .find('#template-category-item-details')\r\n      .html();\r\n\r\n    this.animDuration = 0.4;\r\n    this.animDurationMiliseconds = 400;\r\n\r\n    //tweens\r\n    this.TweenMax = Gsap.TweenMax;\r\n    this.timerDuration = 2500;\r\n\r\n    this.init();\r\n  }\r\n  init() {\r\n    var self = this;\r\n    this.loadData(function() {\r\n      if (responsive.getSize() == 'small') {\r\n        self.insertRandomItems(2);\r\n      } else {\r\n        self.insertRandomItems();\r\n      }\r\n      self.bindEvents();\r\n      self.hideScroll();\r\n      self.gotoTileByHash();\r\n    });\r\n  }\r\n  loadData(callback) {\r\n    var self = this;\r\n    if (this.dataPath) {\r\n      $.getJSON(this.dataPath, function(data) {\r\n        self.data = data;\r\n        // take all items and put them into an array and shuffle them --> random items.\r\n        self.dataRandomItems = utils.shuffleArray(\r\n          self.createRandomItemsArray(self.data)\r\n        );\r\n        //call callback\r\n        callback.call(self);\r\n      });\r\n    }\r\n  }\r\n  resetMobileSelect() {\r\n    this.$categoryLinksMobileSelect.val('-1');\r\n  }\r\n\r\n  gotoTileByHash() {\r\n    var self = this;\r\n    const s = window.location.hash;\r\n    const r = /cat(\\d+)&tile(\\d+)/;\r\n    const m = s.match(r);\r\n    if (m) {\r\n      const catId = parseInt(m[1]);\r\n      const itemId = parseInt(m[2]);\r\n      var item = self.getItem(catId, itemId);\r\n      if (item && item.imagePath) {\r\n        // we have a personblock\r\n        self.gotoDetailById(catId, itemId);\r\n      }\r\n    }\r\n  }\r\n  bindEvents() {\r\n    var self = this;\r\n    //$(document).ready( function(){gotoTileByHash()});\r\n\r\n    this.$categoryLinks.on({\r\n      click: function(e) {\r\n        e.preventDefault();\r\n        const data = $(this).data();\r\n        self.updateActiveCategoryLink(data.categoryId);\r\n        self.showCategoryItems(data.categoryId);\r\n      }\r\n    });\r\n    this.$categoryLinksMobileSelect.on({\r\n      change: function(e) {\r\n        e.preventDefault();\r\n        const categoryId = $(this).val();\r\n        self.updateActiveCategoryLink(categoryId);\r\n        self.showCategoryItems(categoryId);\r\n      }\r\n    });\r\n    this.$header.on({\r\n      click: function(e) {\r\n        e.preventDefault();\r\n        self.resetActiveCategoryLink();\r\n        if (responsive.getSize() == 'small') {\r\n          self.insertRandomItems(2);\r\n        } else {\r\n          self.insertRandomItems();\r\n        }\r\n        self.resetMobileSelect();\r\n      }\r\n    });\r\n    this.$scrollUp.on({\r\n      click: function(e) {\r\n        e.preventDefault();\r\n        var activeIndex = self.$scrollDots\r\n          .find('.exploration-scroll-dot-active')\r\n          .index();\r\n        if (responsive.getSize() == 'small') {\r\n          const itemWidth = self.$landingRight.width();\r\n          // const numberOfItems = self.getItemsInContainer().length;\r\n          // const scrollWidth =\r\n          //   numberOfItems * self.$landingRight.width() + itemWidth;\r\n          const currentPosition = self.$landingRight.scrollLeft();\r\n          if (currentPosition >= itemWidth) {\r\n            activeIndex = currentPosition / itemWidth;\r\n          } else {\r\n            activeIndex = 0;\r\n          }\r\n        }\r\n        self.scrollToIndex(activeIndex - 1);\r\n      }\r\n    });\r\n    this.$scrollDown.on({\r\n      click: function(e) {\r\n        e.preventDefault();\r\n        var activeIndex = self.$scrollDots\r\n          .find('.exploration-scroll-dot-active')\r\n          .index();\r\n        if (responsive.getSize() == 'small') {\r\n          const itemWidth = self.$landingRight.width();\r\n          const numberOfItems = self.getItemsInContainer().length;\r\n          const scrollWidth = numberOfItems * self.$landingRight.width();\r\n          const currentPosition = self.$landingRight.scrollLeft();\r\n          if (currentPosition < scrollWidth && currentPosition != 0) {\r\n            activeIndex = Math.floor(currentPosition / itemWidth);\r\n            if (activeIndex > numberOfItems - 2) {\r\n              activeIndex = numberOfItems - 2;\r\n            }\r\n          } else {\r\n            activeIndex = 0;\r\n          }\r\n        }\r\n        self.scrollToIndex(activeIndex + 1);\r\n      }\r\n    });\r\n    this.$landingRight.on({\r\n      scroll: function(/* e */) {\r\n        if (responsive.getSize() == 'small') {\r\n          var currentScrollIndex = self.getCurrentScrollIndex() + 1;\r\n          if (currentScrollIndex === Infinity) {\r\n            currentScrollIndex = 1;\r\n          }\r\n          self.updateIndicator(\r\n            currentScrollIndex,\r\n            self.getItemsInContainer().length\r\n          );\r\n          if (self.scrollTimer !== null) {\r\n            clearTimeout(self.scrollTimer);\r\n          }\r\n          self.scrollTimer = setTimeout(function() {\r\n            self.scrollToIndex(self.getCurrentScrollIndex());\r\n          }, 150);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  updateUrl(hash) {\r\n    history.replaceState(undefined, undefined, '#' + hash);\r\n  }\r\n  getCurrentScrollIndex() {\r\n    const itemWidth = this.$landingRight.width();\r\n    const currentPosition = this.$landingRight.scrollLeft();\r\n    return Math.round(currentPosition / itemWidth);\r\n  }\r\n  resetScroll() {\r\n    TweenMax.set(this.$landingRight, {\r\n      scrollTo: {\r\n        y: 0\r\n      }\r\n    });\r\n  }\r\n  scrollToIndex(index) {\r\n    var self = this;\r\n    var numberOfSlides = self.getNumberOfSlides();\r\n    if (responsive.getSize() == 'small') {\r\n      numberOfSlides = self.getItemsInContainer().length;\r\n      // const scrollWidth = numberOfSlides * self.$landingRight.width();\r\n      const landingWidth = this.$landingRight.width();\r\n      if (index >= 0 && index < numberOfSlides) {\r\n        position = index * landingWidth;\r\n        TweenMax.to(this.$landingRight, 0.5, {\r\n          scrollTo: {\r\n            x: position,\r\n            ease: Power1.easeInOut\r\n          }\r\n        });\r\n      }\r\n    } else if (index >= 0 && index < numberOfSlides) {\r\n      var position = this.$landingRight.height() * index;\r\n      TweenMax.to(this.$landingRight, 0.5, {\r\n        scrollTo: {\r\n          y: position,\r\n          ease: Power1.easeInOut\r\n        }\r\n      });\r\n    }\r\n    var nextIndex = index + 1;\r\n    if (nextIndex < 1) {\r\n      nextIndex = 1;\r\n    }\r\n    if (nextIndex > numberOfSlides) {\r\n      nextIndex = numberOfSlides;\r\n    }\r\n    this.updateScrollDots(nextIndex);\r\n    // this.updateIndicator(nextIndex, numberOfSlides);\r\n  }\r\n  updateScrollDots(gotoSlide) {\r\n    var self = this;\r\n    var numberOfSlides = self.getNumberOfSlides();\r\n    if (responsive.getSize() == 'small') {\r\n      numberOfSlides = self.getItemsInContainer().length;\r\n    }\r\n    this.$scrollArrow.removeClass('exploration-scroll-arrow-inactive');\r\n    if (gotoSlide == 1) {\r\n      this.$scrollUp.addClass('exploration-scroll-arrow-inactive');\r\n    } else if (gotoSlide == numberOfSlides) {\r\n      this.$scrollDown.addClass('exploration-scroll-arrow-inactive');\r\n    }\r\n    this.$scrollDots.find('.exploration-scroll-dot').off();\r\n    this.$scrollDots.html('');\r\n    for (var i = 0; i < numberOfSlides; i++) {\r\n      this.$scrollDots.append('<div class=\"exploration-scroll-dot\"></div>');\r\n    }\r\n    this.$scrollDots.find('.exploration-scroll-dot').on({\r\n      click: function(/* e */) {\r\n        self.scrollToIndex($(this).index());\r\n      }\r\n    });\r\n    this.$scrollDots\r\n      .find('.exploration-scroll-dot-active')\r\n      .removeClass('exploration-scroll-dot-active');\r\n    this.$scrollDots\r\n      .find('.exploration-scroll-dot')\r\n      .eq(gotoSlide - 1)\r\n      .addClass('exploration-scroll-dot-active');\r\n  }\r\n\r\n  getNumberOfSlides() {\r\n    return Math.ceil(\r\n      this.$categoryItems.height() / this.$landingRight.height()\r\n    );\r\n  }\r\n\r\n  updateIndicator(current, total) {\r\n    this.$scrollIndicatorCurrent.html(current);\r\n    this.$scrollIndicatorTotal.html(total);\r\n  }\r\n  showScroll() {\r\n    this.updateScrollDots(1);\r\n    this.updateIndicator(1);\r\n    if (responsive.getSize() == 'small') {\r\n      TweenMax.to(this.$scrollContainer, 0.2, {\r\n        maxHeight: 45,\r\n        maxWidth: 'none'\r\n      });\r\n    } else {\r\n      TweenMax.to(this.$scrollContainer, 0.2, {\r\n        maxWidth: 45,\r\n        maxHeight: 'none'\r\n      });\r\n    }\r\n  }\r\n  hideScroll() {\r\n    if (responsive.getSize() == 'small') {\r\n      TweenMax.to(this.$scrollContainer, 0.2, {\r\n        maxHeight: 0\r\n      });\r\n    } else {\r\n      TweenMax.to(this.$scrollContainer, 0.2, {\r\n        maxWidth: 0\r\n      });\r\n    }\r\n  }\r\n  showCategoryItems(categoryId) {\r\n    if (this.currentCategoryId == categoryId) {\r\n      return false;\r\n    } else {\r\n      this.currentCategoryId = categoryId;\r\n    }\r\n\r\n    var self = this;\r\n    this.stopCountDownTimer();\r\n    this.viewState = 'category';\r\n    this.animateItemsOut(function() {\r\n      self.$categoryItems.removeClass('random-view');\r\n      self.$categoryItems.addClass('category-view');\r\n      //when done, remove items\r\n      self\r\n        .getItemsInContainer()\r\n        .off()\r\n        .remove();\r\n      // self.bindItemsEvents();\r\n      self.$categoryItems.append(self.createCategoryItems(categoryId));\r\n      // and animate new ones in.\r\n      self.bindItemsEvents();\r\n      self.animateItemsIn();\r\n      self.showScroll();\r\n      this.resetScroll();\r\n      self.updateIndicator(1, this.getItemsInContainer().length);\r\n    });\r\n  }\r\n  insertRandomItems(numberOfItems) {\r\n    this.viewState = 'random';\r\n    this.currentCategoryId = null;\r\n    numberOfItems = numberOfItems || 9;\r\n    var self = this;\r\n    // if theres items shown, animate out and then in\r\n    if (self.getItemsInContainer().length) {\r\n      this.animateItemsOut(function() {\r\n        self.$categoryItems.removeClass('category-view');\r\n        self.$categoryItems.addClass('random-view');\r\n        self.stopCountDownTimer();\r\n        //when done, remove items\r\n        self\r\n          .getItemsInContainer()\r\n          .off()\r\n          .remove();\r\n        // self.bindItemsEvents();\r\n        this.$categoryItems.append(self.createRandomItems(numberOfItems));\r\n        // and animate new ones in.\r\n        self.bindItemsEvents();\r\n        self.animateItemsIn(function() {\r\n          self.startCountDownTimer();\r\n        });\r\n        self.hideScroll();\r\n      });\r\n    } else {\r\n      // else just animate in\r\n      this.$categoryItems.append(self.createRandomItems(numberOfItems));\r\n      this.bindItemsEvents();\r\n      this.animateItemsIn(function() {\r\n        self.startCountDownTimer();\r\n      });\r\n      self.hideScroll();\r\n    }\r\n  }\r\n  animateItemsIn(callback) {\r\n    var self = this;\r\n    if (self.getItemsInContainer().length) {\r\n      TweenMax.staggerFromTo(\r\n        self.getItemsInContainer(),\r\n        self.animDuration,\r\n        {\r\n          opacity: 0,\r\n          scale: 0.95,\r\n          ease: Power1.easeInOut\r\n        },\r\n        {\r\n          opacity: 1,\r\n          scale: 1,\r\n          ease: Power1.easeInOut\r\n        },\r\n        0.04,\r\n        function() {\r\n          if (callback) {\r\n            callback.call(self);\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n  animateItemsOut(callback) {\r\n    var self = this;\r\n    if (self.getItemsInContainer().length) {\r\n      TweenMax.staggerTo(\r\n        self.getItemsInContainer(),\r\n        self.animDuration,\r\n        {\r\n          opacity: 0,\r\n          scale: 0.95,\r\n          ease: Power1.easeInOut\r\n        },\r\n        0.04,\r\n        function() {\r\n          if (callback) {\r\n            callback.call(self);\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n  prepItem(item, categoryId) {\r\n    var self = this;\r\n    item.categoryId = categoryId;\r\n    if (!item.theme) {\r\n      item.theme = self.data.theme;\r\n    }\r\n    var prevItem = self.data.categories[item.categoryId].items[item.id - 1];\r\n    var addToPrevIndex = 1;\r\n    if (prevItem && !prevItem.imagePath) {\r\n      addToPrevIndex = 2;\r\n      prevItem =\r\n        self.data.categories[item.categoryId].items[item.id - addToPrevIndex];\r\n    }\r\n    if (prevItem && prevItem.imagePath) {\r\n      item.prevId = item.id - addToPrevIndex;\r\n      item.prevTitle =\r\n        self.data.categories[item.categoryId].items[\r\n          item.id - addToPrevIndex\r\n        ].title;\r\n    }\r\n\r\n    var nextItem = self.data.categories[item.categoryId].items[item.id + 1];\r\n    var addToNextIndex = 1;\r\n    if (nextItem && !nextItem.imagePath) {\r\n      addToNextIndex = 2;\r\n      nextItem =\r\n        self.data.categories[item.categoryId].items[item.id + addToNextIndex];\r\n    }\r\n    if (nextItem) {\r\n      item.nextId = item.id + addToNextIndex;\r\n      item.nextTitle =\r\n        self.data.categories[item.categoryId].items[\r\n          item.id + addToNextIndex\r\n        ].title;\r\n    }\r\n    return item;\r\n  }\r\n  createRandomItemsArray(data) {\r\n    var self = this;\r\n    var i = 0;\r\n    var allItems = [];\r\n    self.dataAllItems = [];\r\n    while (data.categories[i]) {\r\n      var j = 0;\r\n      if (data.categories[i].items) {\r\n        while (data.categories[i].items[j]) {\r\n          data.categories[i].items[j] = self.prepItem(\r\n            data.categories[i].items[j],\r\n            data.categories[i].id\r\n          );\r\n          allItems.push(data.categories[i].items[j]);\r\n          j++;\r\n        }\r\n      }\r\n      i++;\r\n    }\r\n    return allItems;\r\n  }\r\n  createRandomItems(numberOfItems) {\r\n    var self = this;\r\n    var randomItemsHtml = '';\r\n    var i = 0;\r\n    var numItems = self.data.initialItems.items.length;\r\n    while (i < Math.min(numberOfItems, numItems)) {\r\n      var item = self.data.initialItems.items[i];\r\n      if (!item.theme) {\r\n        item.theme = self.data.theme;\r\n      }\r\n      if (self.data.initialItems.items[i].imagePath) {\r\n        randomItemsHtml += self.getImageBlockHtml(item);\r\n      } else {\r\n        randomItemsHtml += self.getTextBlockHtml(item);\r\n      }\r\n      i++;\r\n    }\r\n    return randomItemsHtml;\r\n  }\r\n  createCategoryItems(categoryId) {\r\n    var self = this;\r\n    var items = this.getCategory(categoryId).items;\r\n    var itemsHtml = '';\r\n    var i = 0;\r\n    while (i < items.length - 1 * 0) {\r\n      var item = items[i];\r\n      if (items[i].imagePath) {\r\n        itemsHtml += self.getImageBlockHtml(item);\r\n      } else {\r\n        itemsHtml += self.getTextBlockHtml(item);\r\n      }\r\n      i++;\r\n    }\r\n    return itemsHtml;\r\n  }\r\n  bindDetailsEvents() {\r\n    var self = this;\r\n    const $detailsNext = this.$currentDetails.find('.details-navigation-next');\r\n    const $detailsPrev = this.$currentDetails.find('.details-navigation-prev');\r\n    const $detailsBack = this.$currentDetails.find('.details-right-back');\r\n    const $detailsShowAll = this.$currentDetails.find(\r\n      '.details-navigation-overview-trigger'\r\n    );\r\n    const $showMore = this.$currentDetails.find(\r\n      '.details-right-content-show-btns'\r\n    );\r\n    var detailsExpanded = false;\r\n\r\n    $showMore.on({\r\n      click: function(/* e */) {\r\n        const $detailsContent = self.$currentDetails.find(\r\n          '.details-right-content > *'\r\n        );\r\n        if (detailsExpanded) {\r\n          $detailsContent\r\n            .parent()\r\n            .removeClass('details-right-content-expanded');\r\n          $(this).removeClass('details-right-content-expanded');\r\n          detailsExpanded = false;\r\n          self.scrollToTop();\r\n        } else {\r\n          $detailsContent.parent().addClass('details-right-content-expanded');\r\n          $(this).addClass('details-right-content-expanded');\r\n          detailsExpanded = true;\r\n        }\r\n      }\r\n    });\r\n\r\n    $detailsNext.on({\r\n      click: function() {\r\n        self.gotoNextDetail();\r\n        self.scrollToTop();\r\n      }\r\n    });\r\n\r\n    $detailsPrev.on({\r\n      click: function() {\r\n        self.gotoPrevDetail();\r\n        self.scrollToTop();\r\n      }\r\n    });\r\n\r\n    $detailsBack.on({\r\n      click: function(/* e */) {\r\n        self.updateUrl('');\r\n        self.animateDetailsOutFade(self.$currentDetails);\r\n        self.scrollToTop();\r\n      }\r\n    });\r\n    $detailsShowAll.on({\r\n      click: function(/* e */) {\r\n        self.updateUrl('');\r\n        const currentData = self.$currentDetails.data();\r\n        self.updateActiveCategoryLink(currentData.categoryId);\r\n        self.showCategoryItems(currentData.categoryId);\r\n        self.animateDetailsOutFade(self.$currentDetails);\r\n        self.scrollToTop();\r\n      }\r\n    });\r\n  }\r\n\r\n  unbindDetailsEvents() {\r\n    const $detailsNext = this.$currentDetails.find('.details-navigation-next');\r\n    const $detailsPrev = this.$currentDetails.find('.details-navigation-prev');\r\n    const $detailsBack = this.$currentDetails.find('.details-right-back');\r\n    const $detailsShowAll = this.$currentDetails.find(\r\n      '.details-navigation-overview-trigger'\r\n    );\r\n\r\n    $detailsNext.off();\r\n    $detailsPrev.off();\r\n    $detailsBack.off();\r\n    $detailsShowAll.off();\r\n  }\r\n\r\n  bindItemsEvents(/* $item */) {\r\n    var self = this;\r\n    var $items = this.getItemsInContainer().not('.category-item-textblock');\r\n    $items.off().on({\r\n      click: function(/* e */) {\r\n        const itemData = $(this).data();\r\n        self.gotoDetailById(itemData.categoryId, itemData.itemId);\r\n      }\r\n    });\r\n  }\r\n\r\n  gotoDetailById(catId, itemId) {\r\n    var self = this;\r\n    var detailsHtml = this.createDetails(catId, itemId);\r\n\r\n    self.updateUrl('cat' + catId + '&tile' + itemId);\r\n\r\n    this.currentDetailCategory = catId;\r\n    this.currentDetailItem = itemId;\r\n    this.insertDetail(detailsHtml, function() {\r\n      self.animateDetailsInHandler(self.$currentDetails);\r\n    });\r\n  }\r\n\r\n  insertDetail(detailsHtml, callback) {\r\n    var self = this;\r\n    this.$detailsView.append(detailsHtml);\r\n    this.$currentDetails = this.$detailsView\r\n      .find('.exploration-details')\r\n      .last();\r\n    this.bindDetailsEvents();\r\n    var $contentContainer = this.$currentDetails.find('.details-right-content');\r\n    this.stopCountDownTimer();\r\n    this.loadDetailsContent($contentContainer, function() {\r\n      callback.call(self);\r\n    });\r\n  }\r\n\r\n  loadDetailsContent($contentContainer, callback) {\r\n    const contentPath = $contentContainer.data().detailContentUrl;\r\n    if (callback) {\r\n      callback.call(this);\r\n    }\r\n    $contentContainer.load(\r\n      contentPath + ' .ajaxContent',\r\n      function(/* $data */) {}\r\n    );\r\n  }\r\n\r\n  createDetails(catId, itemId) {\r\n    var item = this.getItem(catId, itemId);\r\n    return utils.TemplateEngine(this.templateCategoryItemDetails, item);\r\n  }\r\n\r\n  gotoAdjecentDetail(increment) {\r\n    var self = this;\r\n    var item = this.getItem(\r\n      this.currentDetailCategory,\r\n      this.currentDetailItem + increment\r\n    );\r\n    if (item && !item.imagePath) {\r\n      // we have a textblock, therefore take the next.\r\n      this.currentDetailItem += increment;\r\n      this.gotoAdjecentDetail(increment);\r\n      return false;\r\n    }\r\n    if (item) {\r\n      const nextDetailHtml = this.createDetails(\r\n        this.currentDetailCategory,\r\n        this.currentDetailItem + increment\r\n      );\r\n      self.updateUrl(\r\n        'cat' +\r\n          this.currentDetailCategory +\r\n          '&tile' +\r\n          (this.currentDetailItem + increment)\r\n      );\r\n      this.currentDetailItem += increment;\r\n      var $animateOutdetails = this.$detailsView\r\n        .find('.exploration-details')\r\n        .first();\r\n      self.insertDetail(nextDetailHtml, function() {\r\n        self.animateDetailsInHandler(\r\n          this.$detailsView.find('.exploration-details').last(),\r\n          increment > 0 ? 'right' : 'left',\r\n          $animateOutdetails\r\n        );\r\n      });\r\n    }\r\n  }\r\n\r\n  gotoNextDetail() {\r\n    this.gotoAdjecentDetail(1);\r\n  }\r\n\r\n  gotoPrevDetail() {\r\n    this.gotoAdjecentDetail(-1);\r\n  }\r\n\r\n  bindCategoryItems() {\r\n    var self = this;\r\n    this.$categoryItems.on(\r\n      'click',\r\n      '.category-item-image-block',\r\n      function(/* e */) {\r\n        self.animateDetailsInHandler($(this));\r\n      }\r\n    );\r\n  }\r\n\r\n  unbindCategoryItems() {\r\n    this.getItemsInContainer().off();\r\n  }\r\n\r\n  resetActiveCategoryLink() {\r\n    this.$categoryLinkContainer\r\n      .find('.exploration-category-item-active')\r\n      .removeClass('exploration-category-item-active');\r\n  }\r\n\r\n  updateActiveCategoryLink(index) {\r\n    var $setActive = this.$categoryLinkContainer\r\n      .find('.exploration-category-item')\r\n      .eq(index);\r\n    this.resetActiveCategoryLink();\r\n    $setActive.addClass('exploration-category-item-active');\r\n  }\r\n\r\n  startCountDownTimer() {\r\n    const self = this;\r\n    this.cycleInterval = setInterval(function() {\r\n      self.exchangeRandomItem();\r\n    }, self.timerDuration);\r\n  }\r\n\r\n  stopCountDownTimer() {\r\n    clearInterval(this.cycleInterval);\r\n  }\r\n\r\n  exchangeRandomItem() {\r\n    var self = this;\r\n    var randomItemHtml = this.getRandomBlockHtml();\r\n    var typeOfBlock =\r\n      randomItemHtml.indexOf('category-item-image-block') > -1\r\n        ? 'image'\r\n        : 'text';\r\n    var $landingItems = this.getItemsInContainer();\r\n    var $replaceItemsPool = $landingItems.filter('.category-item');\r\n    var textRandomNumbers =\r\n      responsive.getSize() == 'small' ? [1] : [0, 2, 4, 6, 8];\r\n    var randomId = Math.floor(Math.random() * $replaceItemsPool.length);\r\n    if ($replaceItemsPool.length > 0) {\r\n      if (typeOfBlock != 'image') {\r\n        var randomNumber = Math.floor(\r\n          Math.random() * textRandomNumbers.length - 1\r\n        );\r\n        randomId = textRandomNumbers[randomNumber];\r\n      }\r\n      if (responsive.getSize() == 'small') {\r\n        if (this.lastRandomId == 0) {\r\n          randomId = 1;\r\n        } else {\r\n          randomId = 0;\r\n        }\r\n      }\r\n      this.lastRandomId = randomId;\r\n      var $replaceItem = $($replaceItemsPool[randomId]);\r\n      // console.log(textRandomNumbers[Math.floor(Math.random() * textRandomNumbers.length())];);\r\n\r\n      TweenMax.to($replaceItem, self.animDuration, {\r\n        opacity: 0,\r\n        scale: 0.95,\r\n        ease: Power1.easeInOut,\r\n        onComplete: function() {\r\n          var indexOfItem = $replaceItem.index();\r\n          $replaceItem.after(randomItemHtml);\r\n          $replaceItem.remove();\r\n          $landingItems = self.getItemsInContainer();\r\n          var $replacementItem = $landingItems.eq(indexOfItem);\r\n          self.bindItemsEvents();\r\n          TweenMax.fromTo(\r\n            $replacementItem,\r\n            self.animDuration,\r\n            {\r\n              opacity: 0,\r\n              scale: 0.95\r\n            },\r\n            {\r\n              opacity: 1,\r\n              scale: 1\r\n            }\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  animateBaseViewOut() {\r\n    var self = this;\r\n    TweenMax.to(this.$baseView, self.animDuration, {\r\n      opacity: 0\r\n      // delay: self.animDuration\r\n    });\r\n    TweenMax.set(this.$baseView, {\r\n      maxHeight: 0,\r\n      maxWidth: 0\r\n      // delay: self.animDuration\r\n    });\r\n  }\r\n\r\n  animateBaseViewIn() {\r\n    var self = this;\r\n    TweenMax.to(this.$baseView, self.animDuration * 2, {\r\n      opacity: 1,\r\n      maxHeight: '5000px',\r\n      maxWidth: '5000px'\r\n    });\r\n  }  \r\n\r\n  scrollToTop() {\r\n    var self = this;\r\n    $(\"html,body\").animate(\r\n      { scrollTop: self.$el.offset().top - 130 },\r\n      self.animDurationMiliseconds\r\n    );\r\n  }\r\n\r\n  animateDetailsInHandler($elIn, type, $elOut) {\r\n    var self = this;\r\n    switch (type) {\r\n      case 'left':\r\n        self.animateDetailsOutLeft($elOut);\r\n        self.animateDetailsInLeft($elIn);\r\n        break;\r\n      case 'right':\r\n        self.animateDetailsOutRight($elOut);\r\n        self.animateDetailsInRight($elIn);\r\n        break;\r\n      case 'fade':\r\n        if (responsive.getSize() == 'small') {\r\n          self.animateDetailsOutFade($elOut);\r\n        } else {\r\n          self.animateDetailsOut($elOut);\r\n        }\r\n        self.animateDetailsInFade($elIn);\r\n        break;\r\n      default:\r\n        if ($elOut !== undefined) {\r\n          self.animateDetailsOutFade($elOut);\r\n        }\r\n        if (responsive.getSize() == 'small') {\r\n          self.animateDetailsInFade($elIn);\r\n        } else {\r\n          self.animateDetailsIn($elIn);\r\n        }\r\n    }\r\n    if (self.viewState == 'random') {\r\n      self.startCountDownTimer();\r\n    } else {\r\n      self.stopCountDownTimer();\r\n    }\r\n  }\r\n\r\n  animateDetailsIn($el) {\r\n    var $itemInContainer = this.getItemInContainer($el.data());\r\n    var self = this;\r\n    var $image = $el.find('.details-image');\r\n    var $navigation = $el.find('.details-navigation');\r\n    var $right = $el.find('.details-right');\r\n    var position, height, width;\r\n    if ($itemInContainer !== undefined && $itemInContainer.length !== 0) {\r\n      position = $itemInContainer.position();\r\n      height = $itemInContainer.outerHeight(true);\r\n      width = $itemInContainer.outerWidth(true);\r\n    } else {\r\n      position = { top: 0, left: 0 };\r\n      height = 0;\r\n      width = 0;\r\n    }\r\n    TweenMax.set($el, {\r\n      zIndex: 1\r\n    });\r\n    this.animateBaseViewOut();\r\n\r\n    TweenMax.fromTo(\r\n      $navigation,\r\n      self.animDuration,\r\n      {\r\n        opacity: 0\r\n      },\r\n      {\r\n        opacity: 1,\r\n        delay: self.animDuration / 2\r\n      }\r\n    );\r\n    TweenMax.fromTo(\r\n      $image,\r\n      self.animDuration,\r\n      {\r\n        top: position.top,\r\n        left: position.left,\r\n        width: width,\r\n        height: height,\r\n        position: 'absolute',\r\n        ease: Power1.easeInOut\r\n      },\r\n      {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        height: self.$el.height(),\r\n        left: 0,\r\n        top: 0,\r\n        ease: Power1.easeInOut\r\n      }\r\n    );\r\n    //\r\n    TweenMax.fromTo(\r\n      $right,\r\n      self.animDuration,\r\n      {\r\n        position: 'absolute',\r\n        opacity: 0,\r\n        right: -200,\r\n        ease: Power1.easeInOut\r\n      },\r\n      {\r\n        opacity: 1,\r\n        right: 0,\r\n        ease: Power1.easeInOut,\r\n        onComplete: function() {\r\n          self.scrollToTop();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  animateDetailsOut($el) {\r\n    var $itemInContainer = this.getItemInContainer($el.data());\r\n    if (!$itemInContainer.length) {\r\n      this.animateDetailsOutFade($el);\r\n      return false;\r\n    }\r\n    var self = this;\r\n    var $image = $el.find('.details-image');\r\n    var $navigation = $el.find('.details-navigation');\r\n    var $right = $el.find('.details-right');\r\n    var position = $itemInContainer.position();\r\n    var height = $itemInContainer.outerHeight(true);\r\n    var width = $itemInContainer.outerWidth(true);\r\n    TweenMax.set($el, {\r\n      zIndex: 0\r\n    });\r\n\r\n    this.animateBaseViewIn();\r\n    TweenMax.fromTo(\r\n      $navigation,\r\n      self.animDuration,\r\n      {\r\n        opacity: 1\r\n      },\r\n      {\r\n        opacity: 0\r\n      }\r\n    );\r\n    TweenMax.fromTo(\r\n      $image,\r\n      self.animDuration,\r\n      {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        height: self.$el.height(),\r\n        left: 0,\r\n        top: 0,\r\n        ease: Power1.easeInOut\r\n      },\r\n      {\r\n        top: position.top,\r\n        left: position.left,\r\n        width: width,\r\n        height: height,\r\n        position: 'absolute',\r\n        ease: Power1.easeInOut\r\n      }\r\n    );\r\n    //\r\n    TweenMax.fromTo(\r\n      $right,\r\n      self.animDuration,\r\n      {\r\n        opacity: 1,\r\n        right: 0,\r\n        ease: Power1.easeInOut\r\n      },\r\n      {\r\n        position: 'absolute',\r\n        opacity: 0,\r\n        right: -200,\r\n        ease: Power1.easeInOut,\r\n        onComplete: function() {\r\n          self.unbindDetailsEvents();\r\n          $el.remove();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  animateDetailsInRight($el) {\r\n    var self = this;\r\n    var $left = $el.find('.details-left');\r\n    var $right = $el.find('.details-right');\r\n\r\n    TweenMax.set($el, {\r\n      zIndex: 1\r\n    });\r\n    TweenMax.fromTo(\r\n      $left,\r\n      self.animDuration * 2,\r\n      {\r\n        left: -200,\r\n        top: 0,\r\n        opacity: 0,\r\n        position: 'absolute',\r\n        height: self.$el.height(),\r\n        ease: Power1.easeInOut\r\n      },\r\n      {\r\n        left: 0,\r\n        opacity: 1,\r\n        top: 0,\r\n        ease: Power1.easeInOut\r\n      }\r\n    );\r\n    //\r\n    TweenMax.fromTo(\r\n      $right,\r\n      self.animDuration * 2,\r\n      {\r\n        position: 'absolute',\r\n        opacity: 0,\r\n        left: '40%',\r\n        ease: Power1.easeInOut\r\n      },\r\n      {\r\n        opacity: 1,\r\n        left: '50%',\r\n        ease: Power1.easeInOut\r\n      }\r\n    );\r\n  }\r\n\r\n  animateDetailsOutRight($el) {\r\n    var self = this;\r\n    var $left = $el.find('.details-left');\r\n    // var $navigation = $el.find('.details-navigation');\r\n    var $right = $el.find('.details-right');\r\n    TweenMax.to($left, self.animDuration * 2, {\r\n      left: 300,\r\n      opacity: 0,\r\n      ease: Power1.easeInOut\r\n    });\r\n    TweenMax.to($right, self.animDuration * 2, {\r\n      opacity: 0,\r\n      left: '70%',\r\n      ease: Power1.easeInOut,\r\n      onComplete: function() {\r\n        $el.remove();\r\n      }\r\n    });\r\n  }\r\n\r\n  animateDetailsInLeft($el) {\r\n    var self = this;\r\n    var $left = $el.find('.details-left');\r\n    var $right = $el.find('.details-right');\r\n\r\n    TweenMax.set($el, {\r\n      zIndex: 1\r\n    });\r\n    TweenMax.fromTo(\r\n      $left,\r\n      self.animDuration * 2,\r\n      {\r\n        left: 200,\r\n        top: 0,\r\n        opacity: 0,\r\n        position: 'absolute',\r\n        height: self.$el.height(),\r\n        ease: Power1.easeInOut\r\n      },\r\n      {\r\n        left: 0,\r\n        opacity: 1,\r\n        top: 0,\r\n        ease: Power1.easeInOut\r\n      }\r\n    );\r\n    //\r\n    TweenMax.fromTo(\r\n      $right,\r\n      self.animDuration * 2,\r\n      {\r\n        position: 'absolute',\r\n        opacity: 0,\r\n        left: '60%',\r\n        ease: Power1.easeInOut\r\n      },\r\n      {\r\n        opacity: 1,\r\n        left: '50%',\r\n        ease: Power1.easeInOut\r\n      }\r\n    );\r\n  }\r\n  animateDetailsOutLeft($el) {\r\n    var self = this;\r\n    var $left = $el.find('.details-left');\r\n    // var $navigation = $el.find('.details-navigation');\r\n    var $right = $el.find('.details-right');\r\n    TweenMax.to($left, self.animDuration * 2, {\r\n      left: -300,\r\n      opacity: 0,\r\n      ease: Power1.easeInOut\r\n    });\r\n    TweenMax.to($right, self.animDuration * 2, {\r\n      opacity: 0,\r\n      left: '30%',\r\n      ease: Power1.easeInOut,\r\n      onComplete: function() {\r\n        $el.remove();\r\n      }\r\n    });\r\n  }\r\n  animateDetailsInFade($el) {\r\n    // var $itemInContainer = this.getItemInContainer($el.data());\r\n    var self = this;\r\n    // var $image = $el.find('.details-image');\r\n    var $navigation = $el.find('.details-navigation');\r\n    // var $right = $el.find('.details-right');\r\n    // var position = $itemInContainer.position();\r\n    // var height = $itemInContainer.outerHeight(true);\r\n    // var width = $itemInContainer.outerWidth(true);\r\n    TweenMax.set($el, {\r\n      zIndex: 1\r\n    });\r\n    this.animateBaseViewOut();\r\n\r\n    TweenMax.fromTo(\r\n      $navigation,\r\n      self.animDuration,\r\n      {\r\n        opacity: 0\r\n      },\r\n      {\r\n        opacity: 1,\r\n        delay: self.animDuration / 2\r\n      }\r\n    );\r\n    TweenMax.fromTo(\r\n      $el,\r\n      self.animDuration,\r\n      {\r\n        opacity: 0\r\n      },\r\n      {\r\n        opacity: 1,\r\n        delay: self.animDuration / 2,\r\n        onComplete: function() {\r\n          self.scrollToTop();\r\n        }\r\n      }\r\n    );\r\n  }\r\n  animateDetailsOutFade($el) {\r\n    // this.startCountDownTimer();\r\n    var self = this;\r\n    this.animateBaseViewIn();\r\n    TweenMax.to($el, self.animDuration, {\r\n      opacity: 0,\r\n      scale: 0.5,\r\n      ease: Power1.easeInOut,\r\n      onComplete: function() {\r\n        $el.remove();\r\n      }\r\n    });\r\n  }\r\n  getRandomBlockHtml() {\r\n    //var data = this.dataRandomItems[Math.floor(Math.random() * this.dataRandomItems.length)];\r\n    var distinctItemsArr = [];\r\n    if (this.dataRandomItems.length > 9) {\r\n      var $landingItems = this.getItemsInContainer();\r\n      var $replaceItemsPool = $landingItems.filter('.category-item');\r\n      var i;\r\n      for (i = 0; i < this.dataRandomItems.length; ++i) {\r\n        var filterItem = $replaceItemsPool.filter(\r\n          \"[data-category-id='\" +\r\n            this.dataRandomItems[i]['categoryId'] +\r\n            \"'][data-item-id='\" +\r\n            this.dataRandomItems[i]['id'] +\r\n            \"']\"\r\n        );\r\n        if (filterItem.length <= 0) {\r\n          distinctItemsArr.push(this.dataRandomItems[i]);\r\n        }\r\n      }\r\n    } else {\r\n      distinctItemsArr = this.dataRandomItems;\r\n    }\r\n    var data =\r\n      distinctItemsArr[Math.floor(Math.random() * distinctItemsArr.length)];\r\n    if (data) {\r\n      if (data.imagePath) {\r\n        return this.getImageBlockHtml(data);\r\n      } else {\r\n        return this.getTextBlockHtml(data);\r\n      }\r\n    }\r\n  }\r\n  getImageBlockHtml(data) {\r\n    return utils.TemplateEngine(this.templateCategoryItemImage, data);\r\n  }\r\n  getTextBlockHtml(data) {\r\n    return utils.TemplateEngine(this.templateCategoryItemText, data);\r\n  }\r\n  getRandomItem() {\r\n    return this.dataRandomItems[\r\n      Math.floor(Math.random() * this.dataRandomItems.length)\r\n    ];\r\n  }\r\n  getCategory(categoryId) {\r\n    return this.data.categories[categoryId];\r\n  }\r\n  getItem(categoryId, itemId) {\r\n    var item = this.data.categories[categoryId].items[itemId];\r\n    if (item) {\r\n      return item;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  getItemsInContainer() {\r\n    return this.$baseView.find('.category-item');\r\n  }\r\n  getItemInContainer(objData) {\r\n    return this.$categoryItems.find(\r\n      `[data-item-id=\"${objData.id}\"][data-category-id=\"${objData.categoryId}\"]`\r\n    );\r\n  }\r\n}\r\n","import { emitter } from \"../base/emitter/emitter\";\nexport default class FactBox {\n  constructor(config) {\n    this.config = Object.assign({}, config);\n    this.element = this.config.el.get(0);\n    this.isTwoColumn = this.element.classList.contains(\"factBox-2-columns\");\n    this.innerContainer = this.element.querySelector(\".factBox__inner\");\n    this.button = this.element.querySelector(\".factBox-cta\");\n    this.buttonParent = null;\n    this.buttonReferenceNode = null;\n\n    this.init();\n  }\n\n  init() {\n    if (this.button) {\n      this.buttonParent = this.button.parentNode;\n      this.buttonReferenceNode = this.button.nextElementSibling;\n    }\n\n    this.bindEvents();\n  }\n\n  positionButtonBottom() {\n    if (this.button) {\n      this.buttonParent.removeChild(this.button);\n      this.innerContainer.appendChild(this.button);\n    }\n  }\n\n  resetButtonPosition() {\n    if (this.button && this.button.parentElement === this.innerContainer) {\n      this.innerContainer.removeChild(this.button);\n      this.buttonParent.insertBefore(this.button, this.buttonReferenceNode);\n    }\n  }\n\n  bindEvents() {\n    emitter.on(\"responsive/sizechange\", size => {\n      if (!this.isTwoColumn) {\n        return;\n      }\n\n      if (size === \"small\") {\n        this.positionButtonBottom();\n      } else {\n        this.resetButtonPosition();\n      }\n    });\n  }\n}\n","import $ from 'jquery';\r\nimport InViewPort from '../base/inViewPort/inViewPort';\r\nimport { debounce, scrollTo } from '../base/utils/utils';\r\n\r\nconst location = window.location;\r\nconst history = window.history;\r\n\r\nexport default class FilterFunction {\r\n  static SetupStaticMethod() {\r\n    if (!window.FilterFunctionData) {\r\n      window.FilterFunctionData = {\r\n        counter: 1\r\n      }\r\n    }\r\n  }\r\n\r\n  static GenerateObjectIdentifier($el) {\r\n    const counter = window.FilterFunctionData.counter;\r\n    window.FilterFunctionData.counter++;\r\n    if ($el[0].id) {\r\n      $el.data('FilterFunctionIndex', $el[0].id);\r\n      return $el[0].id;\r\n    }\r\n    $el.data('FilterFunctionIndex', counter);\r\n    return counter;\r\n  }\r\n\r\n  static SerializeHash(obj) {\r\n    let item = [];\r\n\r\n    for (let key in obj) {\r\n      if (typeof obj[key] === 'undefined') {\r\n        obj[key] = '';\r\n      }\r\n      if(obj[key] === '') {\r\n        item.push(`ff${key}`);\r\n      } else {\r\n        item.push(`ff${key}=${obj[key]}`);\r\n      }\r\n    }\r\n\r\n    const hash = `#${item.join('&')}`;\r\n    if (hash === '#') {\r\n      history.replaceState(undefined, undefined, ' ');\r\n    } else {\r\n      history.replaceState(undefined, undefined, hash);\r\n    }\r\n  }\r\n\r\n  static ParseHash() {\r\n    const hash = location.hash;\r\n    if (hash && hash !== '' && hash !== '#') {\r\n      if (hash.substr(0, 3) === '#ff') {\r\n        const data = hash.substr(1).split('&');\r\n        const obj = {};\r\n        data.forEach(item => {\r\n          const split = item.split('=');\r\n          let index = split[0].substr(2);\r\n          if (!isNaN(index)) {\r\n            index = parseInt(index);\r\n          }\r\n          if (index) {\r\n            if (typeof split[1] === 'undefined') {\r\n              obj[index] = '';\r\n            } else {\r\n              obj[index] = split[1];\r\n            }\r\n          }\r\n        });\r\n        return obj;\r\n      }\r\n    }\r\n    return {};\r\n  }\r\n\r\n  static SetHash(id, tag) {\r\n    const obj = FilterFunction.ParseHash();\r\n    obj[id] = tag;\r\n    FilterFunction.SerializeHash(obj);\r\n  }\r\n\r\n  static GetHash(id) { \r\n    const obj = FilterFunction.ParseHash();\r\n    return obj[id] || \"\";\r\n  }\r\n\r\n  static scrollToFirstHash($el) {\r\n    if (typeof window.FilterFunctionHasChangedHash === 'undefined') {\r\n      window.FilterFunctionHasChangedHash = false;\r\n    }\r\n\r\n    if (window.FilterFunctionHasChangedHash) {\r\n      return;\r\n    }\r\n\r\n    const obj = FilterFunction.ParseHash();\r\n    const elIndex = $el.data('FilterFunctionIndex');\r\n\r\n    for (let key in obj) {\r\n      if (elIndex == key) {\r\n        const headerOffset = 60;\r\n        const position = $el.offset().top - headerOffset;\r\n        if ('scrollRestoration' in history) {\r\n          history.scrollRestoration = 'manual';\r\n        }\r\n        $(() => {\r\n          scrollTo(position, 200);\r\n        });\r\n        window.FilterFunctionHasChangedHash = true;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  constructor($el, options) {\r\n    FilterFunction.SetupStaticMethod();\r\n\r\n    this.$el = $el;\r\n    this.$window = $(window);\r\n    this.options = $.extend(\r\n      {\r\n        tagsClass: 'ff-tags',\r\n        tagClass: 'ff-tag',\r\n        tagInactiveClass: 'btn--inactive',\r\n        tagListSelector: '.ff-tag-list',\r\n        dropDownBtnClass: '.ff-dropdown-button',\r\n        itemsSelector: '.ff-items-data',\r\n        itemSelector: '.ff-item',\r\n        itemHideClass: 'ff-item-hide',\r\n        itemShowClass: 'ff-item-show',\r\n        itemRightColumnClass: 'ff-item--right',\r\n        itemIframe: '.ff-item__iframe',\r\n        itemVideo: '.ff-item__video',\r\n        itemLeftColumnClass: 'ff-item--left',\r\n        loadMoreSelector: '.ff__btn__loadmore',\r\n        mobileSelector: '.ff-items-mobile',\r\n        desktopSelector: '.ff-items-desktop',\r\n        desktopLeftSelector: '.ff-items--left',\r\n        desktopRightSelector: '.ff-items--right',\r\n        maxItemOnLoad: 5,\r\n        maxItemLoadMore: 5\r\n      },\r\n      options\r\n    );\r\n\r\n    this.options.tagsSelector = this.options.tagsSelector || `.${this.options.tagsClass.split(' ').join('.')}`;\r\n    this.options.tagSelector = this.options.tagSelector || `.${this.options.tagClass.split(' ').join('.')}`;\r\n\r\n    this.$tags = this.$el.find(this.options.tagsSelector);\r\n    this.$parent = this.$el.find(this.options.itemsSelector);\r\n    this.$items = this.$parent.find(this.options.itemSelector);\r\n    this.$currentItems = this.$items;\r\n    this.$dropDownBtn = this.$el.find(this.options.dropDownBtnClass);\r\n    this.$loadMoreBtn = this.$el.find(this.options.loadMoreSelector);\r\n    this.$tagBtns = this.$tags.find(this.options.tagSelector);\r\n    this.$tagList = this.$el.find(this.options.tagListSelector);\r\n    this.$mobile = this.$el.find(this.options.mobileSelector);\r\n    this.$desktop = this.$el.find(this.options.desktopSelector);\r\n    this.$desktopLeft = this.$desktop.find(this.options.desktopLeftSelector);\r\n    this.$desktopRight = this.$desktop.find(this.options.desktopRightSelector);\r\n    this.tags = [];\r\n    this.desktopLeftItems = [];\r\n    this.desktopRightItems = [];\r\n    this.savedEl = {};\r\n    this.isMobileView = true;\r\n    this.isDesktopView = false;\r\n    this.isExperienceEditing = $('body').hasClass('is-experience-editing');\r\n    this.objectIndex = FilterFunction.GenerateObjectIdentifier(this.$el);\r\n    FilterFunction.scrollToFirstHash(this.$el);\r\n\r\n    if (this.$el) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  init() {\r\n    this.setupView();\r\n    this.savedEl = this.mapTaggedElement(this.$items);\r\n    this.tags = Object.keys(this.savedEl);\r\n    const tag = FilterFunction.GetHash(this.objectIndex);\r\n    this.$currentItems = typeof this.savedEl[tag] !== 'undefined' ? this.savedEl[tag] : this.$items;\r\n    this.setupItems(this.$currentItems);\r\n    this.setupResizeListener();\r\n    this.setupLoadmoreBtn();\r\n    this.setupTagBtnListener();\r\n\r\n    this.dropDown();\r\n    if (this.isIE11()) {\r\n      $(\"html\").addClass(\"isIe11\");\r\n    }\r\n\r\n    if (tag !== '') {\r\n      this.$tagBtns.addClass(this.options.tagInactiveClass);\r\n      this.$tagBtns.filter(`[data-tag=\"${tag}\"]`).removeClass(this.options.tagInactiveClass);\r\n    }\r\n  }\r\n\r\n  isIE11() {\r\n    return !!window.MSInputMethodContext && !!document.documentMode;\r\n  }\r\n\r\n  setupView() {\r\n    this.isMobileView = this.$desktop.css('display') === 'none';\r\n    this.isDesktopView = !this.isMobileView;\r\n  }\r\n\r\n  dropDown() {\r\n    const $tagList = this.$tagList;\r\n    this.$dropDownBtn.on('click', (e) => {\r\n      var $el = $(e.currentTarget);\r\n      $el.toggleClass('ff-dropdown-button--active');\r\n      $tagList.slideToggle();\r\n    });\r\n\r\n    $tagList.on(\"click\", '.ff-tag-list__button', (e) => {\r\n      var $el = $(e.target);\r\n      if ($el.hasClass('ff-tag-list__button--selected')) {\r\n        return;\r\n      }\r\n\r\n      $tagList.find('.ff-tag-list__button').removeClass(\"ff-tag-list__button--selected\");\r\n      $el.addClass(\"ff-tag-list__button--selected\");\r\n      var tag = $el.data('tag');\r\n      this.$tags.find(`[data-tag=\"${tag}\"]`).trigger('click');\r\n      $tagList.slideToggle();\r\n      this.$dropDownBtn.toggleClass('ff-dropdown-button--active');\r\n    });\r\n  }\r\n\r\n  mapTaggedElement($items) {\r\n    var savedEl = [];\r\n    $items.each((i, el) => {\r\n      const $el = $(el);\r\n      const tags = ($el.data('tags') || '').split(',').filter(e => e !== '');\r\n      tags.forEach(item => {\r\n        if (!savedEl[item]) {\r\n          savedEl[item] = $el;\r\n        } else {\r\n          savedEl[item] = savedEl[item].add($el);\r\n        }\r\n      });\r\n    });\r\n    return savedEl;\r\n  }\r\n\r\n  updateSide($items) {\r\n    const itemInCol = this.options.maxItemLoadMore;\r\n    const result = {\r\n      left: $([]),\r\n      right: $([])\r\n    };\r\n    $items.each((i, el) => {\r\n      const $el = $(el);\r\n      if (i % itemInCol < 2) {\r\n        result.left = result.left.add($el.clone());\r\n      } else {\r\n        result.right = result.right.add($el.clone());\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  getYoutubeVideoUrl($iframe) {\r\n    let url = $iframe.data(\"lazysrc\") || $iframe.data(\"src\");\r\n    let params = url.indexOf(\"?\") > 0 ? \"&\" : \"?\";\r\n\r\n    if ($iframe.data(\"muted\") === \"True\") {\r\n      params = params + \"mute=1&\";\r\n    }\r\n\r\n    if ($iframe.data(\"autoplay\") === \"True\") {\r\n      params = params + \"autoplay=1&\";\r\n    }\r\n\r\n    if ($iframe.data(\"loop\") === \"True\") {\r\n      params = params + \"loop=1&\";\r\n    }\r\n\r\n    if ($iframe.data(\"suggested\") === \"True\") {\r\n      params = params + \"rel=1&\";\r\n    }\r\n\r\n    url = url + params;\r\n\r\n    return url;\r\n  }\r\n\r\n  setupItems($items) {\r\n    $items.parent().find(this.options.itemSelector).addClass(this.options.itemHideClass);\r\n\r\n    $items\r\n      .slice(0, this.options.maxItemOnLoad).removeClass(this.options.itemHideClass);\r\n\r\n    const $iframes = $items.parent().find(this.options.itemIframe);\r\n\r\n    $iframes.each((i, iframe) => {\r\n      const $iframe = $(iframe);\r\n      $iframe.attr(\"src\", this.getYoutubeVideoUrl($iframe));\r\n    });\r\n\r\n    const $videos = $items.parent().find(this.options.itemVideo);\r\n    $videos.each((i, video) => {\r\n      const $video = $(video);\r\n      const $videoSource = $video.find(\"source\");\r\n\r\n      if ($videoSource.data(\"lazysrc\")) {\r\n        $videoSource.attr(\"src\", $videoSource.data(\"lazysrc\"));\r\n      }\r\n    });\r\n\r\n    // Reset desktop view\r\n    this.$desktopLeft.html('');\r\n    this.$desktopRight.html('');\r\n\r\n    this.renderItems($items);\r\n  }\r\n\r\n  paragraphOverflow($el) {\r\n    $el.find('.ff-item__paragraph').each((i, el) => {\r\n      var text;\r\n      while (el.clientHeight < el.scrollHeight) {\r\n        text = el.innerHTML.trim();\r\n        if (text.split(' ').length <= 1) {\r\n          break;\r\n        }\r\n        el.innerHTML = text.replace(/\\W*\\s(\\S)*$/, '...');\r\n      }\r\n    });\r\n  }\r\n\r\n  renderItems($items) {\r\n    let $colAniEl;\r\n\r\n    if (this.isDesktopView) {\r\n      const sides = this.updateSide($items);\r\n      this.desktopLeftItems = sides.left;\r\n      this.desktopRightItems = sides.right;\r\n      this.$desktopLeft.html(this.desktopLeftItems);\r\n      this.$desktopRight.html(this.desktopRightItems);\r\n\r\n      this.paragraphOverflow(this.$desktopLeft);\r\n      this.paragraphOverflow(this.$desktopRight);\r\n      $colAniEl = this.$desktop.find(`${this.options.itemSelector}:not(.${this.options.itemHideClass})`);\r\n    } else {\r\n      $colAniEl = this.$mobile.find(`${this.options.itemSelector}:not(.${this.options.itemHideClass})`);\r\n    }\r\n    this.setItemAnimation($colAniEl);\r\n  }\r\n\r\n  setItemAnimation($el) {\r\n    //// Initing the column-animation ////\r\n    if (!this.isExperienceEditing) {\r\n      return new InViewPort({\r\n        el: $el,\r\n        inViewinitedClass: 'col-in-viewport-inited',\r\n        inViewClass: 'col-was-in-viewport',\r\n        inViewCurrentClass: 'col-in-viewport',\r\n        eventName: 'itemInView',\r\n        offsetBottom: -50,\r\n        offsetTop: 800\r\n      });\r\n    }\r\n    return null;\r\n  }\r\n\r\n  setupResizeListener() {\r\n    this.$window.on('resize', debounce((e) => {\r\n      this.setupView();\r\n      this.renderItems(this.$currentItems);\r\n\r\n    }, 200));\r\n  }\r\n\r\n  setupLoadmoreBtn() {\r\n    this.renderLoadmoreBtn(this.$loadMoreBtn, this.getHiddenItems().length > 0);\r\n    this.setupLoadMoreBtnListener();\r\n  }\r\n\r\n  renderLoadmoreBtn($loadMoreBtn, show = true) {\r\n    if (!show) {\r\n      $loadMoreBtn.addClass('ff__btn__loadmore--hide');\r\n    } else {\r\n      $loadMoreBtn.removeClass('ff__btn__loadmore--hide');\r\n      $loadMoreBtn.closest('.col').removeClass('col-in-viewport-inited col-in-viewport col-was-in-viewport');\r\n      this.setItemAnimation($loadMoreBtn.closest('.col'));\r\n    }\r\n  }\r\n\r\n  setupTagBtnListener() {\r\n    this.$tags.on('click', this.options.tagSelector, e => {\r\n      e.preventDefault();\r\n      const $btn = $(e.target);\r\n      if (!$btn.hasClass(this.options.tagInactiveClass)) {\r\n        return;\r\n      }\r\n      const tag = $btn.data('tag');\r\n\r\n      this.$currentItems = typeof this.savedEl[tag] !== 'undefined' ? this.savedEl[tag] : this.$items;\r\n      this.setupItems(this.$currentItems);\r\n      this.renderLoadmoreBtn(this.$loadMoreBtn, this.getHiddenItems().length > 0);\r\n      this.$tagBtns.addClass(this.options.tagInactiveClass);\r\n      $btn.removeClass(this.options.tagInactiveClass);\r\n      FilterFunction.SetHash(this.objectIndex, tag);\r\n    });\r\n  }\r\n\r\n  getHiddenItems() {\r\n    return this.$currentItems.filter((i, el) => $(el).hasClass(this.options.itemHideClass));\r\n  }\r\n\r\n  showMore(count = this.options.maxItemLoadMore) {\r\n    const $visibleItems = this.getHiddenItems();\r\n\r\n    $visibleItems\r\n      .slice(0, count)\r\n      .removeClass(this.options.itemHideClass);\r\n    this.renderItems(this.$currentItems);\r\n  }\r\n\r\n  setupLoadMoreBtnListener() {\r\n    this.$loadMoreBtn.on('click', e => {\r\n      e.preventDefault();\r\n      this.showMore(this.options.maxItemLoadMore);\r\n      this.renderLoadmoreBtn(this.$loadMoreBtn, this.getHiddenItems().length > 0);\r\n    });\r\n  }\r\n}\r\n","/**\n * Class: form\n * Description: Her goes description\n * NOTE about sitecore-forms: sitecore forms only has single-file selectors and they use a different datepicker plugin than the GW prototype.\n */\nimport $ from 'jquery';\nimport * as utils from '../base/utils/utils';\n\nexport default class Form {\n  /**\n   * @param {number} param this is param.\n   * @return {number} this is return.\n   */\n  constructor(config) {\n    // put in defaults here\n    //defaults\n    this.config = $.extend({}, config);\n    this.$el = $(this.config.el);\n    this.async = this.config.async;\n    this.isSitecoreForm =\n      this.$el.attr('data-wffm-ajax') !== undefined ||\n        this.$el.attr('data-wffm') !== undefined\n        ? true\n        : false;\n    this.isSitecoreExperienceForm =\n      this.$el.attr('action') &&\n        this.$el.attr('action').indexOf('/formbuilder') === 0\n        ? true\n        : false;\n    this.$inputs = this.$el.find(\n      'input[type=\"text\"], input[type=\"number\"], input[type=\"password\"], input[type=\"email\"], input[type=\"search\"], textarea, input[type=\"tel\"]'\n    );\n    this.$inlineInputs = this.$el.find(\n      '.radio, .checkbox, select, input[type=\"file\"], .g-recaptcha'\n    );\n    this.$textAreas = this.$el.find('textarea');\n    this.inputBinds =\n      'input[type=\"text\"], input[type=\"number\"], input[type=\"password\"], input[type=\"email\"], input[type=\"search\"], textarea, input[type=\"tel\"]';\n    this.$formAttachmentsFiles = this.$el.find('.form-attachment-file');\n    this.formAttachmentsTemplate = this.$formAttachmentsFiles\n      .first()\n      .parent()\n      .html();\n    if (utils.$win.width() <= 768) {\n      $('.input-group').css('margin-bottom', '10px');\n    }\n    if (!this.$el.hasClass('sitecore-form-initialized')) {\n      this.init();\n    }\n  }\n\n  init() {\n    // Add Danish to the datepicker\n\n    if (this.isSitecoreForm) {\n      this.setInlineFields();\n      this.setHelpTexts();\n      this.setTextareaMaxLengthLabels();\n      this.fixFileFields();\n\n      this.$el.addClass('sitecore-form-initialized');\n    }\n\n    if (this.isSitecoreExperienceForm) {\n      this.$el.addClass('sitecore-form-initialized');\n    }\n\n    this.bindEvents();\n    this.setActiveLabels();\n\n    //this script is added to enable the validation for checkboxes\n    if (typeof $scw === 'undefined') {\n      window.$scw = $;\n    }\n    window.$scw.validator.unobtrusive.adapters.addBool('ischecked', 'required');\n  }\n\n  bindEvents() {\n    //Spaces for Date field in mobile view\n    utils.$win.resize(function () {\n      if ($(this).width() <= 768) {\n        $('.input-group').css('margin-bottom', '10px');\n      }\n    });\n\n    utils.$win.on('orientationchange', function (e) {\n      var displayUIdatepicker = $('.ui-datepicker').css('display');\n      if (displayUIdatepicker == 'block') {\n        $('.ui-datepicker').css('display', 'none');\n        e.stopImmediatePropagation();\n      }\n    });\n\n    // Reapplying styles after ajax error\n    (function (open) {\n      XMLHttpRequest.prototype.open = function () {\n        this.addEventListener(\n          'readystatechange',\n          function () {\n            if (this.readyState === 4) {\n              $('form', $('#main')).each(function () {\n                var isSitecoreForm =\n                  $(this).attr('data-wffm-ajax') !== undefined ||\n                    $(this).attr('data-wffm') !== undefined\n                    ? true\n                    : false;\n                //var isSsForm = $(this).attr(\"ssForm\") !== undefined ? true : false;\n                var isExperienceForm = $(this) && $(this)[0].action.indexOf(\"/formbuilder\") >= 0;\n\n                if (isExperienceForm) {\n                  var formId = $(this)[0].id;\n\n                  setTimeout(function () {\n                    var $form = $(\"#\" + formId);\n\n                    new Form({\n                      el: $form\n                    });\n                  }, 5);\n                }\n                else if (isSitecoreForm) {\n                  // eslint-disable-next-line no-unused-vars\n                  var form = new Form({\n                    el: this\n                  });\n                }\n              });\n            }\n          },\n          false\n        );\n        open.apply(this, arguments);\n      };\n    })(XMLHttpRequest.prototype.open);\n\n    // Focus labels\n    this.$el.on(\n      {\n        focus: function () {\n          var $focusElement = $(this);\n          if ($focusElement.hasClass('tt-input')) {\n            $focusElement\n              .parent()\n              .siblings('label.show-as-placeholder')\n              .addClass('is-active');\n          } else {\n            $focusElement\n              .siblings('label.show-as-placeholder')\n              .addClass('is-active');\n            $focusElement.siblings('label.control-label').addClass('is-active');\n\n            // To handle show password place\n            if ($('label[for=Password]').hasClass('is-active')) {\n              console.log(\n                $focusElement.parent('.form-group').hasClass('has-success')\n              );\n              if (\n                $focusElement.parent('.form-group').hasClass('has-success') ||\n                $focusElement.parent('.form-group').hasClass('has-danger')\n              ) {\n                $('.show-password').css('right', '65px');\n              } else {\n                $('.show-password').css('right', '40px');\n              }\n            }\n          }\n        },\n        blur: function () {\n          var $focusOutElement = $(this);\n\n          if ($focusOutElement.val() == '') {\n            $focusOutElement.siblings('label').removeClass('is-active');\n\n            if ($focusOutElement.hasClass('datepicker')) {\n              $focusOutElement.siblings('label').addClass('is-active');\n            }\n            // To handle show password place\n            if (\n              $focusOutElement.parent('.form-group').hasClass('has-success') ||\n              $focusOutElement.parent('.form-group').hasClass('has-danger')\n            ) {\n              $('.show-password').css('right', '65px');\n            } else {\n              $('.show-password').css('right', '40px');\n            }\n          }\n        },\n        change: function () {\n          // special case when user choose rememebered account and browser paste password\n          var $focusOutElement = $(this);\n          if ($focusOutElement.val() == '') {\n            $focusOutElement.siblings('label').removeClass('is-active');\n            if ($focusOutElement.hasClass('datepicker')) {\n              $focusOutElement.siblings('label').addClass('is-active');\n            }\n          } else {\n            $focusOutElement.siblings('label').addClass('is-active');\n          }\n        }\n      },\n      this.inputBinds\n    );\n\n    // Textarea maxLength indicator\n    this.$el.on('keyup', 'textarea', function (/* event */) {\n      var $textarea = $(this),\n        maxLength =\n          $textarea.attr('maxlength') || $textarea.attr('data-val-length-max'),\n        $maxLengthIndicator = $textarea.siblings('.form-maxlength-indicator');\n      if ($maxLengthIndicator.length > 0) {\n        $maxLengthIndicator.text($textarea.val().length + ' of ' + maxLength);\n      }\n    });\n\n    this.$el\n      .find('.form-control-datepicker')\n      .on('changeDate', function (e) {\n        e.currentTarget.dispatchEvent(\n          new CustomEvent('input', { bubbles: true })\n        );\n        e.currentTarget.dispatchEvent(\n          new CustomEvent('change', { bubbles: true })\n        );\n      });\n\n    this.$el.each(function (iter, el) {\n      var $focusOutElement = $(el);\n      if ($focusOutElement.val() !== '') {\n        $focusOutElement.siblings('label').addClass('is-active');\n      }\n      if ($focusOutElement.hasClass('datepicker')) {\n        $focusOutElement.siblings('label').addClass('is-active');\n      }\n    });\n\n    var self = this;\n\n    this.addAttachmentBinding();\n    this.$el.on('submit', function () {\n      //prevents multiple submit with double-click. The button will be enabled automatically because WFFM resets the form after each request\n      if (self.async) {\n        // If async form, the form is itself responsible for enabling/disabling spinner, as it should be turned off through a promise.\n        return;\n      }\n\n      if (typeof $scw === 'undefined') {\n        window.$scw = $;\n      }\n\n      var scwResult = window.$scw(this);\n      if (\n        scwResult.length > 0 &&\n        scwResult.validate !== undefined &&\n        (scwResult.is('form') || scwResult[0].form) &&\n        scwResult.valid()\n      ) {\n        var button = $(this).find('input[type=\"submit\"]');\n        button.attr('disabled', 'disabled');\n        if (button.parent().find('.formLoaderContainer').length === 0) {\n          button\n            .parent()\n            .append(\n              '<div class=\"formLoaderContainer\"><div style=\"display:inline-block\"><div class=\"formLoader\"></div></div></div>'\n            );\n          button.css('cssText', 'padding-left: 45px !important');\n          button.css('-webkit-transition', 'none');\n          button.css('transition', 'none');\n        }\n      }\n    });\n  }\n\n  //adds a lable to textarea's to contain max-length\n  setTextareaMaxLengthLabels() {\n    this.$textAreas.each(function (index, el) {\n      var $this = $(el);\n      if ($this.is('[data-val-length-max]')) {\n        $this.after(\n          \"<span class='form-maxlength-indicator'>0 of \" +\n          $this.attr('data-val-length-max') +\n          '</span>'\n        );\n      }\n    });\n  }\n\n  // add classes to form-fields that should be inline\n  // also fixes radio and checkboxes\n  // also fixes sitecore select-boxes.\n  setInlineFields() {\n    if (!utils.$body.hasClass('is-experience-editing')) {\n      // remove long text from checkboxes in EE\n\n      this.$inlineInputs.each(function (index, el) {\n        if ($(el).hasClass('fileupload-with-label')) {\n          $(el)\n            .parents('.form-group')\n            .addClass('is-inline-form-control'); //add overall classe\n        } else {\n          $(el)\n            .parent()\n            .addClass('is-inline-form-control'); //add overall classe\n        }\n\n        //fix radio and checkboxes, the text now highlights correctly\n        $(el)\n          .find('input[type=\"radio\"], input[type=\"checkbox\"]')\n          .each(function (index, el2) {\n            if (!$(el2).hasClass('checkbox-with-html')) {\n              var txt = $(el2)\n                .parent()\n                .text();\n              $(el2)\n                .parent()\n                .contents()\n                .filter(function () {\n                  return this.nodeType === 3;\n                })\n                .remove();\n              $(el2)\n                .parent()\n                .append('<span>' + txt + '</span>');\n            }\n          });\n\n        //fix selects to have maine-styling\n        if ($(el).is('select')) {\n          $(el)\n            .removeClass('form-control')\n            .wrap(\"<div class='form-select customSelect'></div>\");\n\n          // fix to remove validation checkmark from selects\n          $(el)\n            .parent()\n            .parent()\n            .addClass('disable-validation-checkmark');\n        }\n      });\n    }\n  }\n\n  //Turns sitecore help-blocks into our kind of tooltips\n  setHelpTexts() {\n    this.$el\n      .find('.help-block:not(.field-validation-valid)')\n      .each(function (index, el) {\n        var $this = $(el);\n        var label = $this\n          .parent()\n          .find('.control-label')\n          .first(); //need to find the field's label to insert the help-block inside\n        $this.parent().addClass('has-inner-label'); //we add this to fix the required field asterisk (it would show under the help-block)\n        var helpText = $this.text();\n        $this.html('');\n        label.html(\n          \"<span class='inner-label'>\" +\n          label.text() +\n          \"</span><a href='javascript:void(null);' role='tooltip' class='form-control-help-bs-tooltip' data-toggle='tooltip' data-placement='bottom' title='\" +\n          helpText +\n          \"' data-container='body'><span class='sr-only'>Tooltip for input-field</span><span aria-hidden='true'>?</span></a>\"\n        );\n        $('[data-toggle=\"tooltip\"]', label).tooltip(); //'show'\n      });\n  }\n\n  makeid() {\n    var text = '';\n    var possible =\n      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n    for (var i = 0; i < 5; i++)\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n    return text;\n  }\n\n  //a fix for sitecore to make file-fields look nicer.\n  fixFileFields() {\n    this.$el.find('input[type=\"file\"]').each(function (index, el) {\n      let id = $(el).attr('id');\n      if (!$(el).hasClass('fileupload-with-label')) {\n        $(el)\n          .wrap('<div class=\"form-attachment\"></div>')\n          .wrap('<div class=\"form-attachment-file\"></div>')\n          .after(\n            '<label class=\"btn bt-blue\" for=\"' +\n            id +\n            '\">Tilføj fil</label><a href=\"#\" class=\"form-attachment-remove-file btn btn-round btn-round-small icon icon-close\"></a>'\n          );\n      }\n    });\n    this.$formAttachmentsFiles = this.$el.find('.form-attachment-file');\n  }\n\n  addAttachmentField($appendEl) {\n    var $template = $(this.formAttachmentsTemplate),\n      uniqueId = this.makeid();\n    $template.find('input').attr('id', uniqueId);\n    $template.find('label').attr('for', uniqueId);\n    $appendEl.append($template);\n    this.addAttachmentBinding();\n  }\n\n  addAttachmentBinding() {\n    this.$formAttachmentsFiles = this.$el\n      .find('.form-attachment-file')\n      .not('.has-event-binding');\n    var currentcontext = this;\n\n    this.$formAttachmentsFiles.each(function (index, el) {\n      var context = currentcontext;\n      var $this = $(el),\n        $input = $this.find('input[type=\"file\"]'),\n        // $parent = $input.parent(),\n        $label = $this.find('label'),\n        labelVal = $label.html(),\n        $removeFileBtn = $this.find('.form-attachment-remove-file');\n\n      $this.addClass('has-event-binding'); // set flag that input has eventbinding.\n      $input.on({\n        change: function (e) {\n          var fileName = '';\n          if (this.files && this.files.length > 1) {\n            fileName = (\n              this.getAttribute('data-multiple-caption') || ''\n            ).replace('{count}', this.files.length);\n          } else if (e.target.value) {\n            fileName = e.target.value.split('\\\\').pop();\n          }\n          if (fileName) {\n            $label.html(fileName);\n            $label.removeClass('btn-blue');\n            $label.addClass('btn-white');\n            $this.addClass('has-file');\n            if (!context.isSitecoreForm)\n              context.addAttachmentField($this.parent());\n          } else {\n            $label.html(labelVal);\n          }\n        }\n      });\n      $removeFileBtn.on({\n        click: function (e) {\n          e.preventDefault();\n\n          if (context.isSitecoreForm) {\n            $input.val('');\n            $this.removeClass('has-file');\n            $label.addClass('btn-blue');\n            $label.removeClass('btn-white');\n            $label.html(labelVal);\n          } else {\n            $this.remove();\n          }\n        }\n      });\n\n      // Firefox bug fix\n      $input.on({\n        focus: function () {\n          $input.addClass('has-focus');\n        },\n        blur: function () {\n          $input.removeClass('has-focus');\n        }\n      });\n    });\n  }\n\n  setActiveLabels() {\n    let thiz = this;\n    setTimeout(function () {\n      thiz.$inputs.each(function () {\n        var $focusElement = $(this);\n        var hasBeenAutofilled =\n          getComputedStyle(this).backgroundColor !== 'rgb(255, 255, 255)';\n        if ($focusElement.val() != '' || hasBeenAutofilled) {\n          if ($focusElement.hasClass('tt-input')) {\n            $focusElement\n              .parent()\n              .siblings('label.show-as-placeholder')\n              .addClass('is-active');\n          } else {\n            $focusElement\n              .siblings('label.show-as-placeholder')\n              .addClass('is-active');\n            $focusElement.siblings('label.control-label').addClass('is-active');\n          }\n        }\n      }),\n        200;\n    });\n  }\n\n  triggerChange() {\n    this.$el.find(this.inputBinds).trigger('change');\n  }\n}\n\n$(document).ready(function () {\n  $('.input-group-addon').css('display', 'none');\n  $('.wfmDatebox')\n    .prev('label')\n    .addClass('is-active');\n  $('.input-group').css('padding-right', '8px');\n  $('.datepicker').attr('readonly', true);\n});\n","/**\n * Class: MegaNavigation\n */\nimport $ from 'jquery';\nimport Modernizr from 'modernizr';\nimport { emitter } from '../base/emitter/emitter';\nimport { responsive } from '../base/responsive/responsive';\nimport * as utils from '../base/utils/utils';\n\nexport default class MegaNavigation {\n  constructor(config) {\n    this.config = $.extend(\n      {\n        el: '.megaNavigation'\n      },\n      config\n    );\n    this.$el = $(this.config.el);\n\n    //MobileMenu vars\n    this.$mobileMenuTrigger = this.$el.find('.megaNavigation-trigger');\n\n    // New Menu Trigger\n    //this.$mobileMenuTrigger = this.$el.find('.megaNavigation-menu-trigger');\n    this.$mobileMenu = this.$el.find('.megaNavigation-menu');\n    this.mobileMenuVisibleClass = 'megaNavigation-menu-visible';\n    this.mobileMenuVisible = false;\n\n    // menuItems\n    this.$menuItems = this.$el.find('.megaNavigation-menu-item');\n    this.$menuItemLinks = this.$el.find('a.megaNavigation-menu-item-link');\n    this.menuItemTriggerClass = 'megaNavigation-submenu-trigger';\n\n    //submenu vars\n    this.mobileMenuSubmenuClass = '.megaNavigation-submenu';\n    this.$submenus = this.$el.find(this.mobileMenuSubmenuClass);\n    this.mobileMenuSubmenuTriggerClass = '.megaNavigation-submenu-trigger';\n    this.mobileMenuSubmenuVisibleClass = 'megaNavigation-submenu-visible';\n\n    this.isSliderNavigation = $('.headerSlider').length > 0;\n\n    // Make navigation items without subitems work in touch mode\n    if (Modernizr.touch && !this.isSliderNavigation) {\n      var submenuTriggers = this.$el.find('.megaNavigation-menu-item-link');\n      this.$mobileSubmenuTrigger = submenuTriggers;\n      submenuTriggers.addClass('megaNavigation-submenu-trigger');\n    }\n\n    // Make extra-touch-links visible if it's slider navigation, IE says no-touch to Modernizr, and the navigator has maxTouchPoints anyway.\n    // This fixes the issue with touch-links not being visible\n    if (\n      this.isSliderNavigation &&\n      !Modernizr.touch &&\n      navigator.maxTouchPoints > 0\n    ) {\n      this.$el\n        .find('.megaNavigation-submenu-item-section')\n        .addClass('force-visibility-on-touch-device');\n    }\n\n    this.init();\n    this.size = null;\n  }\n  init() {\n    this.bindEvents();\n    this.setFontSizeClass();\n    emitter.on('responsive/sizechange', size => {\n      this.size = size;\n    });\n  }\n  bindEvents() {\n    var self = this;    \n    // Experimental Nav Menu\n    $(\n      '.nav-trigger .megaNavigation-menu-trigger, .nav-trigger .desktop-menu-trigger'\n    ).on('click', function(e) {\n      e.preventDefault();\n      $('.nav-trigger-inner').toggleClass('active');\n    });\n    // Experimental Nav Menu\n    $(\n      '.nav-trigger .megaNavigation-menu-trigger, .nav-trigger .desktop-menu-trigger'\n    ).keyup(function(e) {\n      if (e.keyCode == 32) {\n        e.preventDefault();\n        $('.nav-trigger-inner').toggleClass('active');\n      }\n    });\n\n    $(document).on('click', e => {\n      if (\n        $('.megaNavigation-menu').has(e.target).length === 0 &&\n        $('.megaNavigation').has(e.target).length == 0\n      ) {\n        if ($('.header-tools').has(e.target).length !== 1) {\n          // let $active = $('.megaNavigation').find('.active-sub');\n\n          this.$menuItemLinks.parent().removeClass('active-sub');\n          this.$menuItemLinks.removeClass('megaNavigation-submenu-visible');\n          //$active.addClass('active-sub');\n        }\n      }\n    });\n\n    // toggle megamenu dropdown\n    this.$menuItemLinks.on({\n      click: e => {\n        e.preventDefault();\n        var $el = $(e.currentTarget);\n\n        // if menu don't have submenu items\n        if (\n          $el\n            .siblings('.megaNavigation-submenu')\n            .find('.megaNavigation-submenu-item-submenu-item').length !== 0\n        ) {\n          if ($el.parent().hasClass('active-sub')) {\n            $el.parent().removeClass('active-sub');\n            $el.removeClass('megaNavigation-submenu-visible');\n          } else {\n            this.$menuItemLinks.parent().removeClass('active-sub');\n            this.$menuItemLinks.removeClass('megaNavigation-submenu-visible');\n\n            // dont add this class to large menu.\n            if (this.size !== 'large') {\n              $el.addClass('megaNavigation-submenu-visible');\n            }\n\n            $el.parent().addClass('active-sub');\n          }\n        } else {\n          if ($el.attr('href') !== undefined) {\n            window.location.href = $el.attr('href');\n          }\n        }\n      }\n    });\n\n    // Use escape to close menu if open\n    this.$mobileMenu.on({\n      keyup: function(e) {\n        if (e.keyCode == 27) {\n          e.preventDefault();\n          self.toggleMobileMenu();\n        }\n      }\n    });\n\n    this.$mobileMenuTrigger.on({\n      click: function(e) {\n        e.preventDefault();\n        self.toggleMobileMenu();\n      },\n      keyup: function(e) {\n        if (e.keyCode == 32) {\n          e.preventDefault();\n          //self.toggleMobileMenu();\n          self.$mobileMenuTrigger.trigger('click');\n        }\n      }\n    });\n  }\n  setFontSizeClass() {\n    if (!this.isSliderNavigation) {\n      // get length of characters in 1-level-menuitems and set class based on the number.\n      this.menuItemsChars = this.$menuItems\n        .not('.hidden-md-up')\n        .find(' > a')\n        .text();\n      if (this.menuItemsChars.length > 50) {\n        utils.$body.addClass('megaNavigation-small-font');\n      }\n    }\n  }\n  toggleMobileMenu() {\n    if (this.mobileMenuVisible) {\n      this.hideMobileMenu();\n    } else {\n      this.showMobileMenu();\n      this.showSubMenuSelctedLink();\n    }\n  }\n  showSubMenuSelctedLink() {\n    try {\n      if (responsive.getSize() === 'small') {\n        var navMenu = this.$el.find('.megaNavigation-menu');\n        var animateSubMenuItem;\n        this.$menuItems.each(function(menuItemindx, menuItem) {\n          var isItemActive = false;\n          if (!isItemActive) {\n            $(menuItem)\n              .find('.megaNavigation-submenu-item-link')\n              .each(function(submenuItemLinkIndx, submenuItemLink) {\n                if (\n                  $(submenuItemLink).hasClass(\n                    'megaNavigation-submenu-item-link-active'\n                  )\n                ) {\n                  $(menuItem)\n                    .find('.megaNavigation-menu-item-link')\n                    .addClass('megaNavigation-submenu-visible');\n                  if (!$(menuItem).hasClass('active-sub')) {\n                    $(menuItem).addClass('active-sub');\n                  }\n                  isItemActive = true;\n                  animateSubMenuItem = submenuItemLink;\n                  setTimeout(function() {\n                    navMenu.animate({\n                      scrollTop:\n                        $(animateSubMenuItem).offset().top -\n                        navMenu.offset().top +\n                        navMenu.scrollTop() -\n                        60,\n                      duration: 200\n                    });\n                  }, 400);\n                }\n              });\n            $(menuItem)\n              .find('.megaNavigation-submenu-item-submenu-item-link')\n              .each(function(\n                submenuItemSubMenuItemLinkIndx,\n                submenuItemSubMneuItemLink\n              ) {\n                if (\n                  $(submenuItemSubMneuItemLink).hasClass(\n                    'megaNavigation-item-active'\n                  )\n                ) {\n                  if (!$(menuItem).hasClass('active-sub')) {\n                    $(menuItem).addClass('active-sub');\n                  }\n                  isItemActive = true;\n                  animateSubMenuItem = submenuItemSubMneuItemLink;\n                  setTimeout(function() {\n                    navMenu.animate({\n                      scrollTop:\n                        $(animateSubMenuItem).offset().top -\n                        navMenu.offset().top +\n                        navMenu.scrollTop() -\n                        60,\n                      duration: 200\n                    });\n                  }, 400);\n                }\n              });\n          }\n          if (!isItemActive) {\n            if (\n              $(menuItem)\n                .find('.megaNavigation-menu-item-link')\n                .hasClass('megaNavigation-submenu-visible')\n            ) {\n              $(menuItem)\n                .find('.megaNavigation-menu-item-link')\n                .removeClass('megaNavigation-submenu-visible');\n            }\n          }\n        });\n      }\n    } catch (err) {\n      // do nothing\n    }\n  }\n  hideMobileMenu() {\n    // utils.enableBodyScroll();\n    this.mobileMenuVisible = false;\n    this.$menuItemLinks.parent().removeClass('active-sub');\n    this.$el.removeClass(this.mobileMenuVisibleClass);\n    utils.$body.removeClass('mobilemenu-open');\n  }\n  showMobileMenu() {\n    // utils.disableBodyScroll();\n    this.$el.addClass(this.mobileMenuVisibleClass);\n    this.mobileMenuVisible = true;\n    utils.$body.addClass('mobilemenu-open');\n  }\n}\n\n$(document).ready(function() {\n    \n  if ($('#mhloginwffmdetail').length != 0) {\n    if (\n      $('#mhloginwffmdetail')\n        .val()\n        .trim() != ''\n    ) {\n      var wffmiduserdetails = $('#mhloginwffmdetail')\n        .val()\n        .replace('{', '')\n        .toLowerCase();\n      wffmiduserdetails = wffmiduserdetails.replace('}', '');\n      wffmiduserdetails = wffmiduserdetails.replace(/-/g, '');\n      if ($('#wffm' + wffmiduserdetails).length != 0) {\n        var wffmfirstfield =\n          '#wffm' + wffmiduserdetails + '_Sections_0__Fields_0__Id';\n        if ($(wffmfirstfield).length == 0) {\n          $('.wffmdetailpagebef').addClass('wffmdetailpagesub');\n          $('#UserDetailsLoginModal').modal('show');\n        }\n      }\n    }\n  }\n\n  if ($('.form-control-help-bs-tooltip').length != 0) {\n    $('.form-control-help-bs-tooltip').tooltip();\n  }\n  if ($('#mhErrorMessage').length != 0) {\n    var mhCustomerNumberSendNumbersError = $(\n      '#mhCustomerNumberSendNumbersError'\n    )\n      .val()\n      .trim();\n    var mhErrorMessage = $('#mhErrorMessage')\n      .val()\n      .trim();\n    var mhSendNumbersError = $('#mhSendNumbersError')\n      .val()\n      .trim();\n    if (\n      $('#NavViewUserDetailsModal').length != 0 &&\n      mhErrorMessage != '' &&\n      (mhCustomerNumberSendNumbersError == mhErrorMessage ||\n        mhSendNumbersError == mhErrorMessage)\n    ) {\n      $('#UserDetailsLoginModal').modal('show');\n    }\n  }\n  if ($('.emailloginerrormsg').length != 0) {\n    if ($('#login-tabs').length != 0) {\n      document.querySelector('#login-tabs').hidden = false;\n    }\n    if ($('#forgot-password').length != 0) {\n      document.querySelector('#forgot-password').hidden = true;\n    }\n    if ($('#loginbox-help').length != 0) {\n      document.querySelector('#loginbox-help').hidden = true;\n    }\n    if ($('.emailogintabcls').length != 0) {\n      $('.emailogintabcls').click();\n    }\n    $('#LoginToasterOverlay').modal('show');\n  } else if ($('.customernumerrormsg').length != 0) {\n    if ($('#login-tabs').length != 0) {\n      document.querySelector('#login-tabs').hidden = false;\n    }\n    if ($('#forgot-password').length != 0) {\n      document.querySelector('#forgot-password').hidden = true;\n    }\n    if ($('#loginbox-help').length != 0) {\n      document.querySelector('#loginbox-help').hidden = true;\n    }\n    if ($('.cnlogintab').length != 0) {\n      $('.cnlogintab').click();\n    }\n    $('#LoginToasterOverlay').modal('show');\n  } else if ($('.emailforgotpassworderror').length != 0) {\n    mhCustomerNumberSendNumbersError = $('#mhCustomerNumberSendNumbersError');\n    mhCustomerNumberSendNumbersError.val().trim();\n    mhErrorMessage = $('#mhErrorMessage');\n    mhErrorMessage.val().trim();\n    mhSendNumbersError = $('#mhSendNumbersError');\n    mhSendNumbersError.val().trim();\n\n    if (mhErrorMessage != '' && mhSendNumbersError != mhErrorMessage) {\n      if ($('#login-tabs').length != 0) {\n        document.querySelector('#login-tabs').hidden = true;\n      }\n\n      if ($('#forgot-password').length != 0) {\n        document.querySelector('#forgot-password').hidden = false;\n      }\n\n      if ($('#loginbox-help').length != 0) {\n        document.querySelector('#loginbox-help').hidden = true;\n      }\n\n      $('#LoginToasterOverlay').modal('show');\n    }\n  }\n\n  $('.back-from-forgotpasswordwffm').click(function() {\n    if ($('#EmailToRemindPassword').length != 0) {\n      $('.close').click();\n      if ($('#login-tabs').length != 0) {\n        document.querySelector('#login-tabs').hidden = false;\n      }\n      if ($('#forgot-password').length != 0) {\n        document.querySelector('#forgot-password').hidden = true;\n      }\n      if ($('#loginbox-help').length != 0) {\n        document.querySelector('#loginbox-help').hidden = true;\n      }\n      $('#LoginToasterOverlay').modal('show');\n    }\n  });\n\n  $('.back-from-forgotpassword').click(function() {\n    $('#login-box-header').html($('#mhLoginBoxHeader').val());\n    $('#login-box-header-text').html($('#mhLoginBoxHeaderText').val());\n  });\n\n  $('.showForgotPasswordcls').click(function() {\n    $('#login-box-header').html($('#mhForgotPasswordHeader').val());\n    $('#login-box-header-text').html($('#mhForgotPasswordHeaderText').val());\n  });\n  $('.showLoginHrlpcls').click(function() {\n    $('#login-box-header').html($('#mhLoginHelpHeader').val());\n    $('#login-box-header-text').html($('#mhLoginHelpHeaderText').val());\n  });\n\n  $('.login-button-box').click(function() {\n    $('#login-box-header').html($('#mhLoginBoxHeader').val());\n    $('#login-box-header-text').html($('#mhLoginBoxHeaderText').val());\n    if ($('#login-tabs').length != 0) {\n      document.querySelector('#login-tabs').hidden = false;\n    }\n    if ($('#forgot-password').length != 0) {\n      document.querySelector('#forgot-password').hidden = true;\n    }\n    if ($('#loginbox-help').length != 0) {\n      document.querySelector('#loginbox-help').hidden = true;\n    }\n  });\n\n  $('#showForgotPasswordprivate').click(function() {\n    $('#mhForgotPasswordtype').val('SubmittingPasswordReminder');\n  });\n\n  $('#showForgotPasswordCustomernum').click(function() {\n    $('#mhForgotPasswordtype').val('SubmittingPasswordReminderCn');\n  });\n\n  function CreateEmailLoginEmailValidation() {\n    if (\n      $('#mCreateEmailLoginEmail')\n        .val()\n        .trim() == ''\n    ) {\n      $('#mCreateEmailLoginEmail-error').html(\n        $('#mCreateEmailLoginEmailRequired').val()\n      );\n      $('#mCreateEmailLoginEmail-error').show();\n    } else if (\n      !validEmailpattern.test(\n        $('#mCreateEmailLoginEmail')\n          .val()\n          .trim()\n      )\n    ) {\n      $('#mCreateEmailLoginEmail-error').html(\n        $('#mCreateEmailLoginEmailInvalid').val()\n      );\n      $('#mCreateEmailLoginEmail-error').show();\n    } else {\n      $('#mCreateEmailLoginEmail-error').hide();\n    }\n  }\n\n  function CreateEmailLoginPasswordValidation() {\n    if (\n      $('#mCreateEmailLoginPassword')\n        .val()\n        .trim() == ''\n    ) {\n      $('#mCreateEmailLoginPassword-error').html(\n        $('#mCreateEmailLoginPasswordRequired').val()\n      );\n      $('#mCreateEmailLoginPassword-error').show();\n    } else if (\n      $('#mCreateEmailLoginPassword')\n        .val()\n        .trim().length <= 5\n    ) {\n      $('#mCreateEmailLoginPassword-error').html(\n        $('#mCreateEmailLoginPasswordInvalid').val()\n      );\n      $('#mCreateEmailLoginPassword-error').show();\n    } else {\n      $('#mCreateEmailLoginPassword-error').hide();\n    }\n  }\n\n  if ($('#showmodaldk').val() == 'true') {\n    $.get('/api/sitecore/Login/GetEmailModalData').then(function(result) {\n      if (result.doNotShowModal == true) {\n        $('.close').click();\n        $('#showmodaldk').remove();\n      }\n      if (\n        result.pointOfDeliveryNumber != null &&\n        result.doNotShowModal == false\n      ) {\n        var validEmailpattern = /^\\b[A-Z0-9._%-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}\\b$/i;\n        $('#LoginEmailEncourageModal').modal('show');\n        $('[data-toggle=\"tooltip\"]').tooltip();\n        $('#mCreateEmailLoginEmail').val(result.email);\n        $('#hmcustomerNumber').val(result.customerNumber);\n        $('#hmpointOfDelivery').val(result.pointOfDeliveryNumber);\n        if (\n          $('#mCreateEmailLoginEmail')\n            .val()\n            .trim() != ''\n        ) {\n          $('#mCreateEmailLoginEmail')\n            .prev()\n            .addClass('is-active');\n        }\n        $('#mCreateEmailLoginEmail').focusin(function() {\n          if (\n            !$('#mCreateEmailLoginEmail')\n              .prev()\n              .hasClass('is-active')\n          ) {\n            $('#mCreateEmailLoginEmail')\n              .prev()\n              .addClass('is-active');\n          }\n        });\n        $('#mCreateEmailLoginEmail').focusout(function() {\n          if (\n            $('#mCreateEmailLoginEmail')\n              .val()\n              .trim() != ''\n          ) {\n            if (\n              !$('#mCreateEmailLoginEmail')\n                .prev()\n                .hasClass('is-active')\n            )\n              $('#mCreateEmailLoginEmail')\n                .prev()\n                .addClass('is-active');\n          } else {\n            $('#mCreateEmailLoginEmail')\n              .prev()\n              .removeClass('is-active');\n          }\n        });\n        $('#mCreateEmailLoginPassword').focusin(function() {\n          if (\n            !$('#mCreateEmailLoginPassword')\n              .prev()\n              .hasClass('is-active')\n          ) {\n            $('#mCreateEmailLoginPassword')\n              .prev()\n              .addClass('is-active');\n          }\n        });\n        $('#mCreateEmailLoginPassword').focusout(function() {\n          if (\n            $('#mCreateEmailLoginPassword')\n              .val()\n              .trim() != ''\n          ) {\n            if (\n              !$('#mCreateEmailLoginPassword')\n                .prev()\n                .hasClass('is-active')\n            )\n              $('#mCreateEmailLoginPassword')\n                .prev()\n                .addClass('is-active');\n          } else {\n            $('#mCreateEmailLoginPassword')\n              .prev()\n              .removeClass('is-active');\n          }\n        });\n\n        $('#mCreateEmailLoginClose').click(function() {\n          $('.close').click();\n        });\n        $('#mCreateEmailLoginSave').click(function() {\n          CreateEmailLoginEmailValidation();\n          CreateEmailLoginPasswordValidation();\n          if (\n            validEmailpattern.test(\n              $('#mCreateEmailLoginEmail')\n                .val()\n                .trim()\n            ) &&\n            $('#mCreateEmailLoginPassword')\n              .val()\n              .trim().length > 5\n          ) {\n            $('#mCreateEmailLoginEmail-error').hide();\n            $('#mCreateEmailLoginPassword-error').hide();\n            $.post(\n              '/api/sitecore/Login/CreateLogin',\n              {\n                email: $('#mCreateEmailLoginEmail')\n                  .val()\n                  .trim(),\n                password: $('#mCreateEmailLoginPassword')\n                  .val()\n                  .trim(),\n                customerNumber: $('#hmcustomerNumber')\n                  .val()\n                  .trim(),\n                pointOfDelivery: $('#hmpointOfDelivery')\n                  .val()\n                  .trim(),\n                doNotShowModal: false\n              },\n              function(result) {\n                if (result.ResponseCode == 1) {\n                  $('.close').click();\n                } else if (result.ResponseCode == 2) {\n                  $('#mCreateEmailLoginEmail-error').html(\n                    $('#mCreateEmailAlreadyExistErrorMessage').val()\n                  );\n                  $('#mCreateEmailLoginEmail-error').show();\n                } else {\n                  $('#mCreateEmailLoginEmail-error').html(\n                    $('#mCreateEmailErrorMessage').val()\n                  );\n                  $('#mCreateEmailLoginEmail-error').show();\n                }\n              }\n            );\n          }\n        });\n\n        $('#mCreateEmailLoginEmail').on(\n          'keyup keypress blur change',\n          function(/* e */) {\n            CreateEmailLoginEmailValidation();\n          }\n        );\n\n        $('#mCreateEmailLoginPassword').on(\n          'keyup keypress blur change',\n          function(/* e */) {\n            CreateEmailLoginPasswordValidation();\n          }\n        );\n\n        $('.mCreateloginShowhide').click(function() {\n          if (\n            $('.mCreateloginShowhide').html() ==\n            $('#hmCreateEmailLoginPasswordShow')\n              .val()\n              .trim()\n          ) {\n            $('.mCreateloginShowhide').html(\n              $('.mCreateloginShowhide').attr('data-hide-msg')\n            );\n            changeType($('.mCreateloginShowhide').prev('input'), 'text');\n          } else {\n            $('.mCreateloginShowhide').html(\n              $('.mCreateloginShowhide').attr('data-show-msg')\n            );\n            changeType($('.mCreateloginShowhide').prev('input'), 'password');\n          }\n        });\n\n        var changeType = function(x, type) {\n          if (x.prop('type') == type) return x; //That was easy.\n          try {\n            return x.prop('type', type);\n          } catch (e) {\n            var html = $('<div>')\n              .append(x.clone())\n              .html();\n            // eslint-disable-next-line no-useless-escape\n            var regex = /type=(\\\")?([^\\\"\\s]+)(\\\")?/; //matches type=text or type=\"text\"\n            //If no match, we add the type attribute to the end; otherwise, we replace\n            var tmp = $(\n              html.match(regex) == null\n                ? html.replace('>', ' type=\"' + type + '\">')\n                : html.replace(regex, 'type=\"' + type + '\"')\n            );\n            //Copy data from old element\n            tmp.data('type', x.data('type'));\n            var events = x.data('events');\n            var cb = (function(events) {\n              return function() {\n                //Bind all prior events\n                for (let i in events) {\n                  var y = events[i];\n                  for (let j in y) tmp.bind(i, y[j].handler);\n                }\n              };\n            })(events);\n            x.replaceWith(tmp);\n            setTimeout(cb, 10); //Wait a bit to call function\n            return tmp;\n          }\n        };\n      }\n    });\n  }\n\n  function FirstTimeNemoLoginEmailValidation() {\n    if (\n      $('#mNemoFirstTimeLoginEmail')\n        .val()\n        .trim() != ''\n    ) {\n      if (\n        !validEmailpattern.test(\n          $('#mNemoFirstTimeLoginEmail')\n            .val()\n            .trim()\n        )\n      ) {\n        $('#mNemoFirstTimeLoginEmail-error').html(\n          $('#mNemoFirstTimeLoginEmailInvalid').val()\n        );\n        $('#mNemoFirstTimeLoginEmail-error').show();\n      } else {\n        $('#mNemoFirstTimeLoginEmail-error').hide();\n      }\n    } else {\n      $('#mNemoFirstTimeLoginEmail-error').hide();\n    }\n  }\n\n  function FirstTimeNemoLoginPasswordValidation() {\n    if (\n      $('#mNemoFirstTimeLoginPassword')\n        .val()\n        .trim() == ''\n    ) {\n      $('#mNemoFirstTimeLoginPassword-error').html(\n        $('#mNemoFirstTimeLoginPasswordRequired').val()\n      );\n      $('#mNemoFirstTimeLoginPassword-error').show();\n    } else if (\n      $('#mNemoFirstTimeLoginPassword')\n        .val()\n        .trim().length <= 5\n    ) {\n      $('#mNemoFirstTimeLoginPassword-error').html(\n        $('#mNemoFirstTimeLoginPasswordInvalid').val()\n      );\n      $('#mNemoFirstTimeLoginPassword-error').show();\n    } else {\n      $('#mNemoFirstTimeLoginPassword-error').hide();\n    }\n  }\n\n  function changeType(x, type) {\n    if (x.prop('type') == type) return x; //That was easy.\n    try {\n      return x.prop('type', type);\n    } catch (e) {\n      var html = $('<div>')\n        .append(x.clone())\n        .html();\n      // eslint-disable-next-line no-useless-escape\n      var regex = /type=(\\\")?([^\\\"\\s]+)(\\\")?/; //matches type=text or type=\"text\"\n      //If no match, we add the type attribute to the end; otherwise, we replace\n      var tmp = $(\n        html.match(regex) == null\n          ? html.replace('>', ' type=\"' + type + '\">')\n          : html.replace(regex, 'type=\"' + type + '\"')\n      );\n      //Copy data from old element\n      tmp.data('type', x.data('type'));\n      var events = x.data('events');\n      var cb = (function(events) {\n        return function() {\n          //Bind all prior events\n          for (let i in events) {\n            var y = events[i];\n            for (let j in y) tmp.bind(i, y[j].handler);\n          }\n        };\n      })(events);\n      x.replaceWith(tmp);\n      setTimeout(cb, 10); //Wait a bit to call function\n      return tmp;\n    }\n  }\n\n  if ($('#FirstTimeNemoModal').length != 0) {\n    var validEmailpattern = /^\\b[A-Z0-9._%-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}\\b$/i;\n    $('[data-toggle=\"tooltip\"]').tooltip();\n    $('#mNemoFirstTimeLoginEmail').val($('#NemoUserEmail').text());\n    if (\n      $('#mNemoFirstTimeLoginEmail')\n        .val()\n        .trim() != ''\n    ) {\n      $('#mNemoFirstTimeLoginEmail')\n        .prev()\n        .addClass('is-active');\n    }\n\n    $('#mNemoFirstTimeLoginSave').click(function() {\n      FirstTimeNemoLoginEmailValidation();\n      FirstTimeNemoLoginPasswordValidation();\n      var checkEmail = true;\n      if (\n        $('#mNemoFirstTimeLoginEmail')\n          .val()\n          .trim() != ''\n      ) {\n        checkEmail = validEmailpattern.test(\n          $('#mNemoFirstTimeLoginEmail')\n            .val()\n            .trim()\n        );\n      }\n      if (\n        checkEmail &&\n        $('#mNemoFirstTimeLoginPassword')\n          .val()\n          .trim().length > 5\n      ) {\n        $('#mNemoFirstTimeLoginEmail-error').hide();\n        $('#mCreateEmailLoginPassword-error').hide();\n\n        $.post(\n          '/api/feature/customer/UpdateNemoLogin',\n          {\n            primaryPerson: {\n              email: $('#mNemoFirstTimeLoginEmail')\n                .val()\n                .trim()\n            },\n            password: $('#mNemoFirstTimeLoginPassword')\n              .val()\n              .trim()\n          },\n          function(/* result */) {\n            $('.close').click();\n          }\n        );\n      }\n    });\n\n    $('#mNemoFirstTimeLoginEmail').on(\n      'keyup keypress blur change',\n      function(/* e */) {\n        FirstTimeNemoLoginEmailValidation();\n      }\n    );\n\n    $('#mNemoFirstTimeLoginPassword').on(\n      'keyup keypress blur change',\n      function(/* e */) {\n        FirstTimeNemoLoginPasswordValidation();\n      }\n    );\n\n    $('.mNemoFirstTimeloginShowhide').click(function() {\n      if (\n        $('.mNemoFirstTimeloginShowhide').html() ==\n        $('#hmNemoFirstTimeLoginPasswordShow')\n          .val()\n          .trim()\n      ) {\n        $('.mNemoFirstTimeloginShowhide').html(\n          $('.mNemoFirstTimeloginShowhide').attr('data-hide-msg')\n        );\n        changeType($('.mNemoFirstTimeloginShowhide').prev('input'), 'text');\n      } else {\n        $('.mNemoFirstTimeloginShowhide').html(\n          $('.mNemoFirstTimeloginShowhide').attr('data-show-msg')\n        );\n        changeType($('.mNemoFirstTimeloginShowhide').prev('input'), 'password');\n      }\n    });\n\n    $('#FirstTimeNemoLoginModal').modal('show');\n  }\n\n  $('#emailloginform').validate({\n    rules: {\n      Password: {\n        required: true\n        // another rule\n      },\n      Email: {\n        required: true\n      }\n    }\n  });\n\n  var windowWidth = utils.$win.width();\n  // back to top button show/hide\n  utils.$win.scroll(function() {\n    if ($(this).scrollTop() > 0) {\n      $('.headerSliderCorporate .headerSlider-top').addClass('slim');\n    } else {\n      $('.headerSliderCorporate .headerSlider-top').removeClass('slim');\n    }\n    setTimeout(() => {\n      if ($('.headerSliderCorporate .headerSlider-top').length > 0) {\n        document.documentElement.style.setProperty('--nav', `${$('.headerSliderCorporate .headerSlider-top').height()}px`);\n      }\n    }, 100);\n  });\n  // close all menus on window resize event\n  utils.$win.resize(function() {\n    if (utils.$win.width() != windowWidth) {\n      windowWidth = utils.$win.width();\n      $('.nav-overlay').click();\n      toggleOverflow();      \n    }\n  });\n\n  //mega menu navigation controlls\n  $('.headerMegaNavigation-menu-item-link').click(function() {\n    // if we have submenus\n    if (\n      $(this)\n        .parent()\n        .find('.megaNavigation-submenu-inner li').length > 0 &&\n      !$('.responsiveBackTo-menu').is(':visible') &&\n      !$(this)\n        .parent()\n        .hasClass('active')\n    ) {\n      \n      toggleOverflow(true);\n      $('.headerSlider').addClass('nav-opened'); //show overlay\n      $('.megaNavigation-submenu').removeClass('active');\n      $('.headerMegaNavigation-menu-item').removeClass('active');\n      $('.headerMegaNavigation-menu').addClass('active');\n      $(this)\n        .parent()\n        .find('.megaNavigation-submenu')\n        .addClass('active');\n      $(this)\n        .parent()\n        .addClass('active');\n      $('.responsiveBackTo-menu').addClass('active');\n      $('.totop').addClass('hidden');\n      return false;\n    }\n  });\n\n  // overlay controls\n  $('.nav-overlay').click(function() {\n    $('.totop').removeClass('hidden');\n    $('.headerSlider').removeClass('nav-opened headerSlider-navigation-open');\n    $('.headerMegaNavigation')\n      .find('*')\n      .removeClass('active');\n    $('.responsive-tools').removeClass('search-opened');\n    $('.headerMenu-icon').removeClass('navigation-active');\n    \n    toggleOverflow();\n  });\n\n  // responsive search open\n  $('.responsive-tools .headerSearch-icon').click(function() {\n    if ($('.search-opened').length > 0) {\n      $('.headerSlider').removeClass('nav-opened');\n      toggleOverflow();\n      \n    } else {\n      $('.headerSlider').addClass('nav-opened');\n      toggleOverflow(true);\n      \n    }\n    $('.headerSlider').removeClass('headerSlider-navigation-open');\n    $(' .headerMenu-icon').removeClass('navigation-active');\n    $('.responsive-tools').toggleClass('search-opened');\n  });\n\n  // responsive menu open\n  $('.responsive-tools .headerMenu-icon').click(function() {\n    \n    if ($(this).hasClass('navigation-active')) {      \n      $('.headerSlider').removeClass('nav-opened');\n      $('.headerSlider').removeClass('headerSlider-navigation-open');   \n      toggleOverflow();\n            \n    } else {\n      $('.headerSlider').addClass('nav-opened');\n      $('.headerSlider').addClass('headerSlider-navigation-open');     \n      toggleOverflow(true);\n    }\n    $('.responsive-tools').removeClass('search-opened');\n    $(this).toggleClass('navigation-active');\n    \n  });\n\n  // back to menu button click\n  $('.responsiveBackTo-menu').click(function() {    \n    $(this).removeClass('active');\n    $('.headerMegaNavigation-menu-item').removeClass('active');\n    $('.headerMegaNavigation-menu').removeClass('active');\n  });\n\n  $(document).on('show.bs.modal', '.modal', function() {    \n    if ($('.modal-backdrop').length > -1) {\n      $('.modal-backdrop')\n        .not(':first')\n        .remove();\n    }\n  });\n\n  $('.emailloginshowhide').click(function() {\n    if (\n      $('.emailloginshowhide').html() ==\n      $('#mhShowPasswordval')\n        .val()\n        .trim()\n    ) {\n      $('.emailloginshowhide').html(\n        $('.emailloginshowhide').attr('data-hide-msg')\n      );\n      changetxtType($('.emailloginshowhide').prevAll('input'), 'text');\n    } else {\n      $('.emailloginshowhide').html(\n        $('.emailloginshowhide').attr('data-show-msg')\n      );\n      changetxtType($('.emailloginshowhide').prevAll('input'), 'password');\n    }\n  });\n\n  $('.customernumbershowhode').click(function() {\n    if (\n      $('.customernumbershowhode').html() ==\n      $('#mhShowPasswordval')\n        .val()\n        .trim()\n    ) {\n      $('.customernumbershowhode').html(\n        $('.customernumbershowhode').attr('data-hide-msg')\n      );\n      changetxtType($('.customernumbershowhode').prevAll('input'), 'text');\n    } else {\n      $('.customernumbershowhode').html(\n        $('.customernumbershowhode').attr('data-show-msg')\n      );\n      changetxtType($('.customernumbershowhode').prevAll('input'), 'password');\n    }\n  });\n\n  function toggleOverflow(addOverflow) {\n    const overflowClass = \"overflow-hidden\";  \n    if (addOverflow) {\n      $('body').addClass(overflowClass);\n    } else {\n      $('body').removeClass(overflowClass);\n    }\n  }\n  \n  function changetxtType(x, type) {\n    if (x.prop('type') == type) return x; //That was easy.\n    try {\n      return x.prop('type', type);\n    } catch (e) {\n      var html = $('<div>')\n        .append(x.clone())\n        .html();\n      // eslint-disable-next-line no-useless-escape\n      var regex = /type=(\\\")?([^\\\"\\s]+)(\\\")?/; //matches type=text or type=\"text\"\n      //If no match, we add the type attribute to the end; otherwise, we replace\n      var tmp = $(\n        html.match(regex) == null\n          ? html.replace('>', ' type=\"' + type + '\">')\n          : html.replace(regex, 'type=\"' + type + '\"')\n      );\n      //Copy data from old element\n      tmp.data('type', x.data('type'));\n      var events = x.data('events');\n      var cb = (function(events) {\n        return function() {\n          //Bind all prior events\n          for (let i in events) {\n            var y = events[i];\n            for (let j in y) tmp.bind(i, y[j].handler);\n          }\n        };\n      })(events);\n      x.replaceWith(tmp);\n      setTimeout(cb, 10); //Wait a bit to call function\n      return tmp;\n    }\n  }\n\n  const isCommmunicationHeader = $('.communication-toolbox.headerSliderCorporate');\n\n  if (isCommmunicationHeader.length === 1) {\n    $('html').addClass('communication-toolbox');\n    $('main').css('padding-bottom', $('main > div.communication-toolbox').height());\n  }\n});\n","/**\r\n * Class: HeaderClassic\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\nimport { emitter } from '../base/emitter/emitter';\r\nimport { responsive } from '../base/responsive/responsive';\r\nimport * as utils from '../base/utils/utils';\r\nimport MegaNavigation from '../megaNavigation/megaNavigation';\r\n\r\nexport default class HeaderClassic {\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.headerClassic'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    //headervars\r\n    this.offsetYClass = 'header-offsetY';\r\n    this.$navigation = this.$el.find('.megaNavigation');\r\n    this.headerClassicTop = this.$el.find('.headerClassic-top');\r\n    this.FIREFOX = /Firefox/i.test(navigator.userAgent);\r\n    if (this.$el.length) {\r\n      this.init();\r\n    }\r\n  }\r\n  init() {\r\n    if (\r\n      !utils.$body.hasClass('is-experience-editing') &&\r\n      !utils.$body.hasClass('is-experience-preview')\r\n    ) {\r\n      $('.headerClassic-spacer').height($(this.$el).height());\r\n    }\r\n    this.bindEvents();\r\n    this.megaNavigation = new MegaNavigation({\r\n      //FIXME: before, the megamenu was saved globally. consider making it singleton if we need it: = m.megaNavigation\r\n      el: '.megaNavigation'\r\n    });\r\n    utils.fixExperienceEditorNavigation(this.$el);\r\n  }\r\n  bindEvents() {\r\n    var self = this;\r\n\r\n    emitter.on('responsive/sizechange', function(size) {\r\n      if (size == 'small') {\r\n        self.onScrollUp();\r\n      }\r\n    });\r\n    emitter.on('scroll', function(obj) {\r\n      let isMobile = responsive.getSize() === 'small';\r\n      let hasQuickLinks = self.headerClassicTop.find('a').length;\r\n      if (Math.abs(obj.direction) > 1 && !isMobile && hasQuickLinks) {\r\n        if (obj.direction > 0) {\r\n          self.onScrollUp();\r\n        } else if (obj.direction < 0 && obj.top > 40) {\r\n          self.onScrollDown();\r\n        }\r\n      }\r\n    });\r\n\r\n    emitter.on('resize', function(/* size */) {\r\n      if (\r\n        !utils.$body.hasClass('is-experience-editing') &&\r\n        !utils.$body.hasClass('is-experience-preview')\r\n      ) {\r\n        $('.headerClassic-spacer').height($(self.$el).height());\r\n      }\r\n    });\r\n  }\r\n  onScrollUp() {\r\n    if (this.FIREFOX) {\r\n      //fix for firefox menu displacement when scrolling\r\n      var self = this;\r\n      var top =\r\n        $('.header')\r\n          .first()\r\n          .height() - 33;\r\n      $('.active-sub').each(function() {\r\n        var itm = $(this)\r\n          .find('.megaNavigation-submenu')\r\n          .first();\r\n        self.setParentTransition(\r\n          itm,\r\n          'top',\r\n          '200ms',\r\n          'cubic-bezier(0, 0.27, 0.215, 0.975)',\r\n          function() {\r\n            itm.css('top', top);\r\n          }\r\n        );\r\n      });\r\n    }\r\n\r\n    utils.$body.removeClass(this.offsetYClass);\r\n  }\r\n  onScrollDown() {\r\n    if (!utils.$body.hasClass('megaNavigation-menu-visible')) {\r\n      if (this.FIREFOX) {\r\n        //fix for firefox menu displacement when scrolling\r\n        var self = this;\r\n        var top =\r\n          $('.header-megaNavigation')\r\n            .first()\r\n            .height() + 1;\r\n        $('.active-sub').each(function() {\r\n          var itm = $(this)\r\n            .find('.megaNavigation-submenu')\r\n            .first();\r\n          self.setParentTransition(\r\n            itm,\r\n            'top',\r\n            '200ms',\r\n            'cubic-bezier(0, 0.27, 0.215, 0.975)',\r\n            function() {\r\n              itm.css('top', top);\r\n            }\r\n          );\r\n        });\r\n      }\r\n      utils.$body.addClass(this.offsetYClass);\r\n    }\r\n  }\r\n\r\n  setParentTransition(id, prop, delay, style, callback) {\r\n    $(id).css({ '-webkit-transition': prop + ' ' + delay + ' ' + style });\r\n    $(id).css({ '-moz-transition': prop + ' ' + delay + ' ' + style });\r\n    $(id).css({ '-o-transition': prop + ' ' + delay + ' ' + style });\r\n    $(id).css({ transition: prop + ' ' + delay + ' ' + style });\r\n    callback();\r\n  }\r\n}\r\n","/**\n * Class: HeaderSearch\n */\nimport $ from 'jquery';\nimport { emitter } from '../base/emitter/emitter';\nimport { $win } from '../base/utils/utils';\n\nexport default class HeaderSearch {\n  constructor(config) {\n    this.config = $.extend(\n      {\n        el: '.headerSearch'\n      },\n      config\n    );\n\n    this.$el = $(this.config.el);\n\n    this.$search = this.$el;\n\n    this.$corporate$searchForm = this.$search.parent('.header-search-ov');\n\n    if (this.$corporate$searchForm.length == 0) {\n      this.$searchClose = this.$el.find('.headerSearch-close');\n      this.$searchIcon = this.$el.find('.headerSearch-icon');\n      // this.$searchForm = this.$search.find('.headerSearch-form');\n      this.$searchForm = this.$el.parent('.header-search');\n      this.$searchFormInput = this.$searchForm.find('input');\n      this.$searchInput = this.$el.find('.headerSearch-input');\n    } else {\n      this.$searchFormInput = this.$corporate$searchForm.find('input');\n    }\n    if (this.$el.length) {\n      this.init();\n    }\n  }\n\n  init() {\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    var self = this;\n    var searchFormInput = this.$searchFormInput;\n\n    if (this.$corporate$searchForm.length == 0) {\n      this.$searchIcon.on({\n        click: function(e) {\n          if (searchFormInput.val() === '') {\n            e.preventDefault();\n            self.showSearch();\n          } else {\n            self.createSearchRequest();\n          }\n        }\n      });\n      this.$searchIcon.keyup(function(e) {\n        if (e.keyCode == 32) {\n          // user has pressed space, show the search-box\n          self.showSearch();\n          e.stopPropagation();\n        }\n      });\n      this.$search.on({\n        click: function(e) {\n          e.stopPropagation();\n        }\n      });\n      this.$searchClose.on({\n        click: function(/* e */) {\n          self.hideSearch();\n        }\n      });\n      this.$searchFormInput.on({\n        blur: function(/* e */) {\n          self.hideSearch();\n        }\n      });\n      emitter.on('keyEvent', function(key) {\n        if (key == 'escape') {\n          self.hideSearch();\n        }\n      });\n\n      this.$searchForm.on({\n        submit: function(e) {\n          e.preventDefault();\n          self.createSearchRequest();\n          return false;\n        }\n      });\n    } else {\n      this.$corporate$searchForm.on({\n        submit: function(e) {\n          e.preventDefault();\n          self.createSearchRequest();\n          return false;\n        }\n      });\n    }\n  }\n\n  showSearch() {\n    var self = this;\n    this.$search.addClass('headerSearch-visible');\n    // this.$searchIcon.hide();\n    // this.$searchForm.show();\n    this.$searchFormInput.focus();\n    $win.one({\n      click: function(/* e */) {\n        self.hideSearch();\n      }\n    });\n  }\n\n  hideSearch() {\n    this.$search.removeClass('headerSearch-visible');\n    // this.$searchIcon.show();\n    // this.$searchForm.hide();\n  }\n\n  createSearchRequest() {\n    document.cookie = 'RedrawTable=true';\n    document.location = '/search?search=' + this.$searchFormInput.val();\n  }\n}\n","/**\n * Class: HeaderSlider\n * Description: Her goes description\n */\nimport $ from 'jquery';\nimport { emitter } from '../base/emitter/emitter';\nimport { responsive } from '../base/responsive/responsive';\nimport * as utils from '../base/utils/utils';\nimport MegaNavigation from '../megaNavigation/megaNavigation';\n\nexport default class HeaderSlider {\n  /**\n   * @param {number} param this is param.\n   * @return {number} this is return.\n   */\n  constructor(config) {\n    // put in defaults here\n    //defaults\n    this.config = $.extend(\n      {\n        el: '.headerSlider'\n      },\n      config\n    );\n    this.$el = $(this.config.el);\n    this.offsetYClass = 'headerSlider-offsetY';\n    this.$desktopTrigger = this.$el.find(\n      '.headerSlider-navigation-trigger-desktop'\n    );\n    //this.$desktopTrigger = this.$el.find('.nav-trigger');\n    this.$navigation = this.$el.find('.megaNavigation');\n    this.menuVisibleClass = 'headerSlider-navigation-open';\n\n    // menuItems\n    this.$menuItems = this.$el.find('.megaNavigation-menu-item');\n    this.$menuItemLinks = this.$el.find('.megaNavigation-menu-item-link');\n    this.menuVisible = false;\n    if (this.$el.length) {\n      this.init();\n    }\n  }\n  init() {\n    this.megaNavigation = new MegaNavigation({\n      //FIXME: before, the megamenu was saved globally. consider making it singleton if we need it: = m.megaNavigation\n      el: '.megaNavigation',\n      menuItemStayOnHover: true\n    });\n    this.bindEvents();\n    utils.fixExperienceEditorNavigation(this.$el);\n    utils.$body.addClass('has-slider-menu');\n  }\n  bindEvents() {\n    var self = this;\n    this.$el.keyup(function(e) {\n      if (e.keyCode == 27) {\n        e.preventDefault();\n        self.hideDesktopMenu();\n      }\n    });\n    this.$desktopTrigger.on({\n      click: function(/* e */) {\n        self.toggleDesktopMenu();\n      }\n    });\n    this.$desktopTrigger.keyup(function(e) {\n      if (e.keyCode == 32) {\n        self.toggleDesktopMenu();\n        e.stopPropagation();\n      }\n    });\n    emitter.on('responsive/sizechange', function(size) {\n      if (size == 'small') {\n        // self.onScrollUp();\n        self.hideDesktopMenu();\n      } else {\n        self.onScrollUp();\n      }\n    });\n    // this.$searchInput.on(\"awesomplete-open\", function() {\n    // \tself.$searchInput.parent().addClass('awesomplete-open');\n    // });\n    // $searchInput.on(\"awesomplete-close\", function() {\n    // \tself.$searchInput.parent().removeClass('awesomplete-open');\n    // });\n    emitter.on('scroll', function(obj) {\n      if (Math.abs(obj.direction) > 1 && responsive.getSize() == 'small') {\n        if (obj.direction > 0) {\n          self.onScrollUp();\n        } else if (obj.direction < 0 && obj.top > 40) {\n          self.onScrollDown();\n        }\n      }\n    });\n  }\n  onScrollUp() {\n    this.$el.removeClass(this.offsetYClass);\n  }\n  onScrollDown() {\n    if (!this.$navigation.hasClass('megaNavigation-menu-visible')) {\n      this.$el.addClass(this.offsetYClass);\n    }\n  }\n\n  toggleDesktopMenu() {\n    if (this.menuVisible) {\n      this.hideDesktopMenu();\n    } else {\n      this.showDesktopMenu();\n      this.showDesktopSubMenuSelctedLink();\n    }\n  }\n  showDesktopMenu() {\n    utils.disableBodyScroll();\n    this.$el.addClass(this.menuVisibleClass);\n    this.menuVisible = true;\n  }\n  hideDesktopMenu() {\n    utils.enableBodyScroll();\n    this.$el.removeClass(this.menuVisibleClass);\n    this.menuVisible = false;\n  }\n  showDesktopSubMenuSelctedLink() {\n    try {\n      this.$menuItemLinks.parent().removeClass('active-sub');\n      this.$menuItemLinks.removeClass('megaNavigation-submenu-visible');\n      var navMenu = this.$el.find('.megaNavigation-menu');\n      var animateSubMenuItem;\n      this.$menuItems.each(function(menuItemindx, menuItem) {\n        var isItemActive = false;\n        if (!isItemActive) {\n          $(menuItem)\n            .find('.megaNavigation-submenu-item-link')\n            .each(function(submenuItemLinkIndx, submenuItemLink) {\n              if (\n                $(submenuItemLink).hasClass(\n                  'megaNavigation-submenu-item-link-active'\n                )\n              ) {\n                //$(menuItem).find('.megaNavigation-menu-item-link').addClass(\"megaNavigation-submenu-visible\");\n                if (!$(menuItem).hasClass('active-sub')) {\n                  $(menuItem).addClass('active-sub');\n                }\n                isItemActive = true;\n                animateSubMenuItem = submenuItemLink;\n                setTimeout(function() {\n                  navMenu.animate({\n                    scrollTop:\n                      $(animateSubMenuItem).offset().top -\n                      navMenu.offset().top +\n                      navMenu.scrollTop() -\n                      60,\n                    duration: 200\n                  });\n                }, 400);\n              }\n            });\n          $(menuItem)\n            .find('.megaNavigation-submenu-item-submenu-item-link')\n            .each(function(\n              submenuItemSubMenuItemLinkIndx,\n              submenuItemSubMneuItemLink\n            ) {\n              if (\n                $(submenuItemSubMneuItemLink).hasClass(\n                  'megaNavigation-item-active'\n                )\n              ) {\n                if (!$(menuItem).hasClass('active-sub')) {\n                  $(menuItem).addClass('active-sub');\n                }\n                isItemActive = true;\n                animateSubMenuItem = submenuItemSubMneuItemLink;\n                setTimeout(function() {\n                  navMenu.animate({\n                    scrollTop:\n                      $(animateSubMenuItem).offset().top -\n                      navMenu.offset().top +\n                      navMenu.scrollTop() -\n                      60,\n                    duration: 200\n                  });\n                }, 400);\n              }\n            });\n        }\n        if (!isItemActive) {\n          if (\n            $(menuItem)\n              .find('.megaNavigation-menu-item-link')\n              .hasClass('megaNavigation-submenu-visible')\n          ) {\n            $(menuItem)\n              .find('.megaNavigation-menu-item-link')\n              .removeClass('megaNavigation-submenu-visible');\n          }\n        }\n      });\n    } catch (err) {\n      // do nothing\n    }\n  }\n}\n","/**\r\n * Class: HeroSlider\r\n */\r\nimport $ from 'jquery';\r\nimport { emitter } from '../base/emitter/emitter';\r\nimport { responsive } from '../base/responsive/responsive';\r\nimport * as utils from '../base/utils/utils';\r\n\r\nexport default class HeroSlider {\r\n  constructor(config) {\r\n    this.config = $.extend(\r\n      {\r\n        el: '.heroSlider'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    this.$closeBtn = this.$el.find('.heroSlider-close');\r\n    this.$heroContent = this.$el.find('.heroSlider-content');\r\n    this.showSlideAt = this.$el.offset().top;\r\n    this.slideIsVisible = true;\r\n    this.$video = this.$el.find('video');\r\n    this.videoLoaded = false;\r\n    this.headerSlider = $('.headerSlider').length;\r\n    var headerSliderSpacerHeight = utils.$body\r\n      .find('.headerSlider-spacer')\r\n      .height();\r\n    var headerClassicSpacerHeight = utils.$body\r\n      .find('.header.headerClassic')\r\n      .height();\r\n    this.headerSpacerHeight = 0;\r\n    this.offset = 5;\r\n    if ($.isNumeric(headerSliderSpacerHeight)) {\r\n      this.headerSpacerHeight = headerSliderSpacerHeight;\r\n    } else if ($.isNumeric(headerClassicSpacerHeight)) {\r\n      this.headerSpacerHeight = headerClassicSpacerHeight;\r\n    }\r\n    if (this.$el.length) {\r\n      this.init();\r\n    }\r\n  }\r\n  init() {\r\n    var self = this;\r\n    this.bindEvents();\r\n\r\n    // hide content when scrolled down over a certain point on the page;\r\n    emitter.on('scroll', function(obj) {\r\n      //if (responsive.getSize() !== 'small') {\r\n      //    var cutoff = utils.$win.scrollTop();\r\n      //    if(cutoff >= 40) {\r\n      //        cutoff = cutoff + 40;\r\n      //    }\r\n      //    cutoff = cutoff + self.headerSpacerHeight;\r\n\r\n      //    if (self.showSlideAt < cutoff) {\r\n      //        self.hideSlide();\r\n      //    } else if (self.showSlideAt >= cutoff){\r\n      //        self.showSlide();\r\n      //    }\r\n      //}\r\n      var offset = self.offset;\r\n      if (utils.$win.height() < self.$el.height()) {\r\n        offset = self.$el.height() - utils.$win.height() + 100;\r\n      }\r\n      if (responsive.getSize() !== 'small') {\r\n        if (obj.top > self.showSlideAt + offset && self.slideIsVisible) {\r\n          self.hideSlide();\r\n        } else if (\r\n          obj.top < self.showSlideAt + offset &&\r\n          !self.slideIsVisible\r\n        ) {\r\n          self.showSlide();\r\n        }\r\n      }\r\n    });\r\n\r\n    emitter.on('resize', function(/* obj */) {\r\n      self.setShowSlideAt();\r\n      utils.$win.scroll();\r\n    });\r\n\r\n    setTimeout(function() {\r\n      self.showSlide();\r\n    }, 1500);\r\n\r\n    if (this.$video.length) {\r\n      // this is some weird quirk on safari that makes the video element too high. Therefore we force a repaint.\r\n      this.$video.on('timeupdate', function() {\r\n        if (!self.videoLoaded) {\r\n          self.videoLoaded = true;\r\n          self.$video.css('display', 'inline');\r\n          self.$video.css('display', 'block');\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  setShowSlideAt() {\r\n    this.showSlideAt = this.$el.offset().top;\r\n  }\r\n\r\n  bindEvents() {\r\n    var self = this;\r\n    this.$closeBtn.on({\r\n      click: function(/* e */) {\r\n        self.$el.addClass('heroSlider-content-hidden');\r\n      }\r\n    });\r\n  }\r\n\r\n  showSlide() {\r\n    this.$el.removeClass('heroSlider-content-hidden');\r\n    this.slideIsVisible = true;\r\n  }\r\n\r\n  hideSlide() {\r\n    if (!this.$el.hasClass('slider-always-visible')) {\r\n      this.$el.addClass('heroSlider-content-hidden');\r\n      this.slideIsVisible = false;\r\n    }\r\n  }\r\n}\r\n","import FontFaceOnload from 'fontfaceonload';\r\nimport $ from 'jquery';\r\n\r\nexport default class Icons {\r\n  constructor() {\r\n    this.init();\r\n  }\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    // var self = this;\r\n    FontFaceOnload('dong-maine', {\r\n      success: function() {\r\n        $('.show-icon-onfontload').removeClass('show-icon-onfontload');\r\n      },\r\n      error: function() {\r\n        $('.show-icon-onfontload').removeClass('show-icon-onfontload');\r\n      },\r\n      timeout: 1000\r\n    });\r\n  }\r\n}\r\n","import $ from 'jquery';\nimport InViewPort from '../base/inViewPort/inViewPort';\nimport { responsive } from '../base/responsive/responsive';\nimport { emitter } from '../base/emitter/emitter';\nimport Swiper from 'swiper';\n\nexport default class ImageSlider {\n  constructor(config) {\n    this.config = $.extend({}, config);\n    this.$el = $(this.config.el);\n    this.youtubeIds = [];\n    this.isYouTubeReady = false;\n    this.isYouTubeInitialized = false;\n    this.isMobile = responsive.getSize() === 'small';\n\n    this.$swiperContainer = this.$el.find(\n      this.config.id || '.swiper-container'\n    );\n\n    window.addEventListener('load', event => {\n      $('.imageSlider .swiper-button-prev').animate({ opacity: 100 }, 2000);\n      $('.imageSlider .swiper-button-next').animate({ opacity: 100 }, 2000);\n    });\n\n    emitter.on('video/youtube-ready', () => {\n      if (!this.isYouTubeInitialized) {\n        this.$el.find('.swiper-youtube-control').on('click', this.toggleYoutube.bind(this));\n        this.isYouTubeInitialized = true;\n      }\n\n      this.isYouTubeReady = true;\n    })\n\n    this.initSlider();\n  }\n\n  initSlider() {\n    // If slider is on communication toolbox in one column container then add offset to previous button\n    var communicationToolboxLayout = $(\n      '.communication-toolbox.headerSliderCorporate'\n    );\n    this.$swiperContainer.each(function() {\n      var adjustLeftArrow =\n        communicationToolboxLayout.length > 0 &&\n        $(this).closest('.col-12').length > 0 &&\n        $(this).closest('.col-12')[0].className == 'col-12';\n      if (adjustLeftArrow) {\n        $(this)\n          .find('.swiper-button-prev')\n          .addClass('offset-lg-2');\n      }\n    });\n\n    var self = this;\n\n    var swiperInstance = new Swiper(this.$swiperContainer[0], {\n      // Optional parameters\n      initialSlide: 1,\n      direction: 'horizontal',\n      loop: this.$swiperContainer[0].dataset.loopCarousel === 'true',\n      slidesPerView: 'auto',\n      slidesOffsetBefore: 32,\n      spaceBetween: 32,\n      centeredSlides: true,\n      variableWidth: true,\n      observer: true,\n      observeParents: true,\n\n      // Navigation arrows\n      nextButton: '.swiper-button-next',\n      prevButton: '.swiper-button-prev',\n      onSlideChangeStart: self.updateText.bind(self),\n      onInit: self.onInit.bind(self),\n      breakpoints: {\n        // when window width is <= 768\n        768: {\n          initialSlide: 0,\n          slidesOffsetBefore: 0,\n          spaceBetween: 10\n        }\n      },\n    });\n  }\n\n  onInit(e) {\n    this.updateText(e);\n\n    if (!$('body').hasClass('is-experience-editing')) {\n      let colInView = new InViewPort({\n        el: e.wrapper[0],\n        inViewinitedClass: 'in-viewport-inited',\n        inViewClass: 'was-in-viewport',\n        inViewCurrentClass: 'in-viewport',\n        eventName: 'columnInView',\n        offsetBottom: -200,\n        offsetTop: -200\n      });\n    }\n\n    // remove duplicate youtube slide when swiper is loopable\n    this.$el.find('.swiper-slide-duplicate > iframe').remove();\n\n    const control = '&controls=' + (this.isMobile ? '0' : '1');\n\n    this.$el.find('.teaser-video-iframe').each((index, iframe) => {\n      iframe.id += '-' + (index + 1).toString();\n      this.youtubeIds.push(iframe.id);\n\n      setTimeout(() => iframe.setAttribute('src', iframe.src + control), 300);\n    });\n  }\n  \n  toggleYoutube(e) {\n    const youtubeVideo = YT.get(e.target.nextElementSibling.id);\n\n    if (youtubeVideo) {\n      if (youtubeVideo.getPlayerState() !== 1) {\n        youtubeVideo.playVideo();\n      } else {\n        youtubeVideo.pauseVideo();\n      }\n    }\n  }\n\n  updateText(e) {\n    var id = '.swiper-description';\n    if (this.config && this.config.id) {\n      id = this.config.id + '-description';\n    }\n\n    var activeIndex = e.realIndex;\n\n    $(e.slides).each((index, slide) => {\n      var video = $(slide).find('div.video-js');\n\n      if (video.length > 0 && video[0].player) {\n        video[0].player.pause();\n      }\n\n      var youtube = $(slide).find('.teaser-video-iframe');\n\n      if (youtube.length > 0 && this.isYouTubeReady) {\n        const player = YT.get(youtube[0].id);\n        \n        if (player && typeof player.pauseVideo === 'function') {\n          player.pauseVideo();\n        }\n      }\n    });\n\n    var $sliderDescriptions = $(e.container)\n      .closest('.imageSlider')\n      .find(id + ' .description');\n    $sliderDescriptions.each(function(index, description) {\n      $(description).css('display', index === activeIndex ? 'block' : 'none');\n    });\n  }\n}\n","/**\n * Class: Interactive Timeline\n */\nimport { emitter } from '../base/emitter/emitter';\nimport TweenMax from 'gsap/src/uncompressed/TweenMax';\n\nexport default class InteractiveTimeline {\n\t/**\n\t * @param {number} param this is param.\n\t * @return {number} this is return.\n\t */\n  constructor(config) { // put in defaults here\n    //defaults\n    this.config = $.extend({\n      el: '.interactive-timeline',\n      contentBaseUrl: '/'\n    }, config);\n    this.$el = $(this.config.el);\n    this.$anchorContainer = this.$el.find('.interactive-timeline-anchor-container');\n    this.anchorClass = '.timeline-anchor';\n    this.anchorClassActive = 'timeline-anchor-active';\n    this.ctaClass = '.link-arrow';\n    this.$anchors = this.$el.find(this.anchorClass);\n    this.$anchorContentContainer = this.$el.find('.interactive-timeline-anchor-content-container');\n    this.anchorContentClass = '.interactive-timeline-anchor-content';\n    this.anchorContentClassActive = 'interactive-timeline-anchor-content-active';\n    this.$anchorContents = this.$el.find(this.anchorContentClass);\n    this.$mobileSelect = this.$el.find('.select-anchors select');\n    this.activeId = 1;\n    this.animateClass = '';\n    this.direction = '';\n    this.maxHeight = this.$el.data('maxHeight');\n    this.$btnUp = this.$el.find('.timeline-anchor-container-arrow-up');\n    this.$btnDown = this.$el.find('.timeline-anchor-container-arrow-down');\n    this.$leftContainer = this.$el.find('.timeline-main-left');\n    this.$scrollContainer = this.$el.find('.timeline-main-left-inner');\n    this.$modalDialog = this.$el.find('.interactive-timeline-modal');\n    this.$modalDialogVisible = false;\n    this.$modalDialogTitle = this.$modalDialog.find('.timeline-modal-header-title');\n    this.$modalDialogClose = this.$modalDialog.find('.timeline-modal-header-close');\n    this.$modalDialogContent = this.$modalDialog.find('.timeline-modal-content');\n    this.$iframe = this.$modalDialog.find('iframe');\n    this.activeIframeUrl = '';\n    this.touchstartX = 0;\n    this.touchstartY = 0;\n    this.touchendX = 0;\n    this.touchendY = 0;\n    this.defaultImage = $(\".teaser-img\").first().css('background-image');\n\n\t\tthis.loadedContainer = [];\n\t\t\n\t\tif (this.$el.length){\t\t\t\t\n\t\t\tthis.externalAnchor = $('a[name]').is(':empty')? $('a[name]'): null;\t\n      this.init();\n    }\n  }\n  init() {\n    this.bindEvents();\n    var activeId = 0;\n\n    if (this.externalAnchor) {\n      this.externalAnchorIEfix(this.externalAnchor);\n    }\n\n    if (window.location.hash && !this.matchAnchorHash()) {\n      var hashtag = window.location.hash.substring(1);\n      activeId = this.$el.find('[data-tagid=' + hashtag + ']').attr('data-id');\n    }\n    else {\n      activeId = this.$el.find(\".\" + this.anchorContentClassActive).attr('data-id');\n    }\n\n    this.$modalDialog.detach();\n    $('main').append(this.$modalDialog);\n\n    this.toggleActive(activeId);\n  }\n\n  bindEvents() {\n    var self = this;\n\n    this.$el.bind('touchstart', function (event) {\n        self.touchstartX = event.changedTouches[0].screenX;\n        self.touchstartY = event.changedTouches[0].screenY;\n      });\n\n    this.$el.bind('touchend', function (event) {\n        self.touchendX = event.changedTouches[0].screenX;\n        self.touchendY = event.changedTouches[0].screenY;\n        self.handleGesture();\n    });\n    \n    window.addEventListener('popstate', self.stateChanged.bind(self));\n\n    window.addEventListener('hashchange', self.hashChanged.bind(self));\n\n    this.$el.on({\n      click: function (e) {\n        const id = $(this).data('id');\n        self.toggleActive(id, true);\n        self.updateMobileTimeline();\n      }\n    }, this.anchorClass);\n    this.$btnUp.on({\n      click: function (e) {\n        self.scrollTimelineUp($(this));\n      }\n    })\n    this.$btnDown.on({\n      click: function (e) {\n        self.scrollTimelineDown($(this));\n      }\n    })\n    this.$mobileSelect.on({\n      change: function (e) {\n        self.toggleActive($(this).val(), true);\n      }\n    })\n\n    this.$el.find(this.ctaClass).on('click', function (e) {\n      self.openModal(this.dataset['title'], this.dataset['url']);\n    });\n\n    this.$modalDialogClose.on('click', function () {\n      window.history.back();\n    });\n\n    this.$modalDialog.on('transitionend', self.modalShown.bind(self));\n\n    this.$iframe.on('load', self.frameLoaded.bind(self));\n\n    $(document).ready(function () {\n      var trueheight = $(\".timeline-main-left.has-overflow\").height() - 30;\n      var trueheightstring = trueheight + \"px\";\n      if (navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1) {\n        $(\".timeline-main-left-inner\").css({\n          \"maxHeight\": trueheight\n        });\n        ;\n      }\n    });\n  }\n  updateMobileTimeline() {\n    if(this.$anchorContainer.width() === 3000){\n      const activeElement = this.$el.find(\".\" + this.anchorClassActive);\n      let xOffset = -38 * (activeElement.index() === 0) ? 0 : activeElement.index() - 1;\n\n      TweenMax.to(this.$anchorContainer, 0.2, {\n        \"margin-left\": (-38 * xOffset) + 'vw'\n      });\n    }\n  }\n  handleGesture() {\n    if (this.touchendX < this.touchstartX) {\n        const activeElement = this.$el.find(\".\" + this.anchorClassActive);\n\n        const nextID = activeElement.next().data('id');\n        if(nextID) {\n          this.toggleActive(nextID, true);\n          this.updateMobileTimeline();\n        }\n    }\n\n    if (this.touchendX > this.touchstartX) {\n      const activeElement = this.$el.find(\".\" + this.anchorClassActive);\n\n      const previousID = activeElement.prev().data('id');\n      if(previousID) {\n        this.toggleActive(previousID, true);\n        this.updateMobileTimeline();\n      }\n    }\n  }\n  externalAnchorIEfix($el) {\n    //IE fix\n    $el.attr(\"id\", $el.attr(\"name\")).css('display', 'inline-block');\n  }\n  matchAnchorHash() {\n    var match = false;\n    if (this.externalAnchor) {\n      this.externalAnchor.each(function () {\n        if ($(this).attr('name') === window.location.hash.substring(1)) {\n          match = true;\n        }\n      });\n    }\n    return match;\n  }\n  disableAllArrows() {\n    this.$btnUp.removeClass('timeline-arrow-disabled');\n    this.$btnDown.removeClass('timeline-arrow-disabled');\n  }\n  scrollTimelineUp($arrow) {\n    var self = this;\n    var scrollTop = this.$scrollContainer.scrollTop() - this.$scrollContainer.height();\n    this.$scrollContainer.animate({ scrollTop: scrollTop }, '100', 'swing', function () {\n      self.disableAllArrows();\n      if (self.$scrollContainer.scrollTop() == 0) {\n        $arrow.addClass('timeline-arrow-disabled');\n      }\n    });\n  }\n  scrollTimelineDown($arrow) {\n    var self = this;\n    var scrollTop = this.$scrollContainer.scrollTop() + this.$scrollContainer.height() - 60;\n    this.$scrollContainer.animate({ scrollTop: scrollTop }, '100', 'swing', function () {\n      self.disableAllArrows();\n      if (self.$scrollContainer.scrollTop() >= self.$anchorContainer.outerHeight() - self.$scrollContainer.outerHeight() - 60) {\n        $arrow.addClass('timeline-arrow-disabled');\n      }\n    });\n  }\n  toggleActive(id, changed) {\n    var self = this;\n    this.$mobileSelect.val(id);\n    this.resetActive(id);\n    this.setActive(id, changed);\n    self.lastId = id;\n\n    this.updateMobileTimeline();\n  }\n  setActive(id, changed) {\n    const activeElements = this.getElementsById(id);\n    activeElements.$anchor.addClass(this.anchorClassActive);\n\n    activeElements.$content.addClass('interactive-timeline-anchor-content-active');\n\n    const cloneReference = $( \".teaser-media > :first-child\").clone().empty().appendTo( \".teaser-media\" );\n    const imageURL = activeElements.$anchor.data('url');\n    if(imageURL) {\n      $(\".teaser-img\").first().css(\"background-image\", \"url('\"+ activeElements.$anchor.data('url') +\"')\");\n      setTimeout(function() {\n        $(\".teaser-media\").css(\"display\", \"block\");\n      }, 1000);\n    }else if(this.defaultImage){\n      $(\".teaser-img\").first().css(\"background-image\", this.defaultImage);\n      $(\".teaser-media\").css(\"display\", \"block\");\n    }\n    setTimeout(function() {\n        cloneReference.remove();\n      }, 1000);\n\n    if (!!activeElements.$content.attr('data-tagid') && !this.matchAnchorHash()) {\n      window.location.hash = activeElements.$content.attr('data-tagid');\n    }\n\n    if (!!activeElements.$content.attr('data-tagid') && changed === true) {\n      window.location.hash = activeElements.$content.attr('data-tagid');\n    }\n    this.activeId = id;\n  }\n  resetActive(id) {\n    var $activeContent = this.$el.find(\".\" + this.anchorContentClassActive);\n    var $activeAnchor = this.$el.find(\".\" + this.anchorClassActive);\n    $activeContent.removeClass(this.anchorContentClassActive);\n    $activeAnchor.removeClass(this.anchorClassActive);\n\n  }\n  getElementsById(id) {\n    return {\n      $anchor: this.$anchorContainer.find('[data-id=' + id + ']'),\n      $content: this.$anchorContentContainer.find('[data-id=' + id + ']')\n    }\n  }\n  openModal(title, url) {\n    if (this.$iframe.attr('data-src') !== url) {\n      this.$modalDialogContent.addClass('loading');\n      this.$iframe.attr('data-src', url);\n    }\n\n    this.$modalDialogTitle.text(title);\n\n    window.history.replaceState({ ...window.history.state, type: 'page' }, document.title);\n    window.history.pushState({ ...window.history.state, type: 'modal', src: url }, document.title);\n\n    this.modalDialogVisible = true;\n\n    this.$modalDialog.removeClass('closed').addClass('open');\n  }\n  closeModal() {\n    this.$modalDialog.removeClass('open').addClass('closed');\n\n    this.modalDialogVisible = false;\n  }\n  modalShown() {\n    if (this.modalDialogVisible && this.$iframe.attr('data-src') !== this.activeIframeUrl) {\n      this.$iframe.contents()[0].location.replace(this.$iframe.attr('data-src'));\n      this.activeIframeUrl = this.$iframe.attr('data-src');\n    }\n  }\n  frameLoaded() {\n    this.$modalDialogContent.removeClass('loading');\n    \n    var base = document.createElement('base');\n    base.setAttribute('target', '_blank');\n\n    this.$iframe.contents().find('head').append(base);\n  }\n  stateChanged() {\n    if (!window.history.state) {\n      return;\n    }\n\n    const type = window.history.state.type;\n    const src = window.history.state.src;\n\n    if (this.modalDialogVisible) {\n      if (type === 'modal' || type ==='page') {\n        this.closeModal();\n      }\n    } else {\n      if (type === 'modal') {\n        if (this.activeIframeUrl !== src) {\n          this.$iframe.attr('data-src', src);\n        }\n\n        this.$modalDialog.removeClass('closed').addClass('open');\n        this.modalDialogVisible = true;\n      }\n    }\n  }\n  hashChanged(e) {\n    const activeHash = this.$el.find('.' + this.anchorContentClassActive).data('tagid');\n    const currentHash = window.location.hash.replace('#', '');\n    const currentId = this.$el.find(this.anchorContentClass + '[data-tagid=' + currentHash + ']').data('id');\n\n    if (activeHash !== currentHash) {\n      this.toggleActive(currentId, false);\n    }\n  }\n}\n","/**\n * Class: JobSearchHero\n */\nimport $ from \"jquery\";\n\nexport default class JobSearchHero {\n  constructor(config) {\n    this.config = $.extend(\n      {\n        $el: \".job-search-hero\"\n      },\n      config\n    );\n\n    this.$multiselect = this.config.$el.find(\".dropdown__select\");\n    this.$submitButton = this.config.$el.find(\".job-search-hero__btn\");\n    this.preselected = this.config.$el\n      .find(\".multiSelectDropdown\")\n      .data(\"preselected\");\n\n    this.init();\n  }\n\n  init() {\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    this.$submitButton.on(\"click\", () => {\n      this.updateUrl();\n    });\n  }\n\n  updateUrl() {\n    let hash = this.preselected ? this.preselected : \"\";\n    this.$multiselect.each(function() {\n      let $selected = $(this).find(\"option:selected\");\n      let selectedIds = [];\n\n      if ($selected.length > 0) {\n        hash += $(this).data(\"selectorId\") + \"=\";\n        $selected.each((index, option) => {\n          selectedIds.push(option.dataset[\"id\"]);\n        });\n\n        hash += selectedIds.join(\",\") + \"&\";\n      }\n    });\n\n    let href = this.$submitButton.attr(\"href\");\n\n    if (href) {\n      href += (href.match(/\\?/) ? \"&\" : \"#\") + hash;\n      this.$submitButton.attr(\"href\", href);\n    }\n  }\n}\n","/**\r\n * Class: Link\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\n\r\nexport default class Link {\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend({}, config);\r\n    this.$el = $(this.config.el);\r\n    if (this.$el.length) {\r\n      this.init();\r\n    }\r\n  }\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n  bindEvents() {\r\n    $('a[href*=\\\\#]:not([href=\\\\#])').click(function() {\r\n      if (\r\n        location.pathname.replace(/^\\//, '') ==\r\n          this.pathname.replace(/^\\//, '') ||\r\n        location.hostname == this.hostname\r\n      ) {\r\n        var target = $(this.hash);\r\n        let headerHeight =\r\n          $('.headerClassic-bottom').height() +\r\n          $('.headerClassic-top').height();\r\n        if (!headerHeight) {\r\n          headerHeight =\r\n            $('.headerSlider').height() + $('.headerSlider-spacer').height();\r\n        }\r\n        target = target.length\r\n          ? target\r\n          : $('[name=' + this.hash.slice(1) + ']');\r\n\r\n        target = target.first().parent();\r\n\r\n        headerHeight += 20;\r\n\r\n        let scrollTo = target.offset().top;\r\n        if (headerHeight) {\r\n          scrollTo -= headerHeight;\r\n        }\r\n\r\n        if (target.length) {\r\n          $('html,body').animate(\r\n            {\r\n              scrollTop: scrollTo\r\n            },\r\n            400\r\n          );\r\n          return false;\r\n        }\r\n      }\r\n    });\r\n\r\n    $('.skip').click(function(/* event */) {\r\n      var skipTo = '#' + this.href.split('#')[1];\r\n\r\n      $(skipTo)\r\n        .attr('tabindex', -1)\r\n        .on('blur focusout', function() {\r\n          $(this).removeAttr('tabindex');\r\n        })\r\n        .focus();\r\n    });\r\n  }\r\n}\r\n","/**\n * Class: Link List\n */\nimport $ from 'jquery';\n\nexport default class List {\n  /**\n   * @param {number} param this is param.\n   * @return {number} this is return.\n   */\n  constructor(config) {\n    // put in defaults here\n    //defaults\n    this.config = $.extend(\n      {\n        el: '.list'\n      },\n      config\n    );\n\n    this.$el = $(this.config.el);\n    if (this.$el.length) {\n      this.init();\n    }\n  }\n\n  init() {\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    this.$el.on('click', 'a.list-header-column-view-toggle-list', function(\n      event\n    ) {\n      event.preventDefault();\n      var list = $(this).parents('.list-items');\n      if (list.hasClass('list-type-cards')) {\n        var originalListType = list.data('originalListType');\n        if (!originalListType) {\n          originalListType = 'list';\n        }\n        list.data('originalListType', originalListType);\n        list.removeClass('list-type-cards');\n        list.addClass('list-type-' + originalListType);\n      }\n    });\n\n    this.$el.on('click', 'a.list-header-column-view-toggle-cards', function(\n      event\n    ) {\n      event.preventDefault();\n      var list = $(this).parents('.list-items');\n      if (!list.hasClass('list-type-cards')) {\n        var originalListType = 'list';\n        if (list.hasClass('list-type-table')) {\n          originalListType = 'table';\n        }\n        list.data('originalListType', originalListType);\n        list.removeClass('list-type-list list-type-table');\n        list.addClass('list-type-cards');\n      }\n    });\n\n    const collapseable = $(this.$el).hasClass('list--collapseable');\n\n    if(collapseable && $( window ).width() < 960) {\n      $(this.$el).first('.list-title').click(\n          function() { \n            console.log('clicked', this);\n            $(this).closest('.list').toggleClass('list--toggle');\n          }\n      );\n    }\n\n    if($( window ).width() < 960 && ($(this.$el).parent().hasClass('article-placeholder-right') || $(this.$el).parent().hasClass('article-placeholder-left'))) {\n      $(this.$el).parent().addClass('align-top');\n    }\n  }\n}\n","/**\r\n * Class: ListFilters\r\n */\r\nimport $ from 'jquery';\r\nimport { $win, $body } from '../base/utils/utils';\r\n\r\nexport default class ListFilters {\r\n  constructor(config) {\r\n    this.config = $.extend(\r\n      {\r\n        el: '.listFilters'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    this.$mobileApply = this.$el.find('.listFilters-apply-filters');\r\n    this.$mobileTrigger = this.$el.find('.listFilters-mobileTrigger');\r\n    this.$mobileFilterWrapper = this.$el.find('.list-filters-wrapper');\r\n    this.$mobileFilterHeaderText = this.$el.find('.list-filters-text');\r\n    this.mobileFiltersOpenClass = 'listFilters-mobile-open';\r\n    this.mobileFiltersOpen = false;\r\n    this.init();\r\n\r\n    if ($win.width() <= 768) {\r\n      this.$mobileFilterWrapper.addClass('btn');\r\n    }\r\n  }\r\n\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    var self = this;\r\n    this.$mobileFilterWrapper.on({\r\n      click: function(/* e */) {\r\n        if (!self.mobileFiltersOpen) {\r\n          if (!$('.list-filters-text').is(':hidden')) {\r\n            self.openMobileFilters();\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    this.$mobileApply.on({\r\n      click: function(e) {\r\n        self.closeMobileFilters();\r\n        e.stopImmediatePropagation();\r\n      }\r\n    });\r\n\r\n    $('.listFilters-mobileTrigger-open').on({\r\n      click: function(e) {\r\n        self.closeMobileFilters();\r\n        e.stopImmediatePropagation();\r\n      }\r\n    });\r\n\r\n    $win.resize(function() {\r\n      if ($win.width() <= 768) {\r\n        if (!self.mobileFiltersOpen) {\r\n          self.$mobileFilterWrapper.removeClass('btn').addClass('btn');\r\n        } else {\r\n          self.$mobileFilterWrapper.removeClass('btn');\r\n        }\r\n      } else {\r\n        self.$mobileFilterWrapper.removeClass('btn');\r\n      }\r\n    });\r\n  }\r\n\r\n  resetParentTransform() {\r\n    this.$el.parent().css('transform', '');\r\n    this.$el.parent().css('transition-duration', '');\r\n  }\r\n\r\n  removeParentTransform() {\r\n    this.$el.parent().css('transition-duration', '0ms');\r\n    this.$el.parent().css('transform', 'none');\r\n  }\r\n\r\n  openMobileFilters() {\r\n    var self = this;\r\n    this.removeParentTransform();\r\n    setTimeout(function() {\r\n      self.$mobileFilterWrapper.removeClass('btn');\r\n      self.$mobileFilterHeaderText.hide();\r\n      self.$el.addClass(self.mobileFiltersOpenClass);\r\n      self.mobileFiltersOpen = true;\r\n      $body.css('overflow', 'hidden');\r\n    }, 200);\r\n  }\r\n\r\n  closeMobileFilters() {\r\n    this.resetParentTransform();\r\n    this.$el.removeClass(this.mobileFiltersOpenClass);\r\n    this.$mobileFilterHeaderText.show();\r\n    this.$mobileFilterWrapper.addClass('btn');\r\n    this.mobileFiltersOpen = false;\r\n    $body.css('overflow', 'auto');\r\n  }\r\n}\r\n","/**\r\n * Class: Login\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\nimport Accordions from '../accordion/accordion';\r\nimport Form from '../form/form';\r\nimport { $win } from '../base/utils/utils';\r\n\r\nexport default class Login {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.login'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    this.$loginBtn = this.$el.find('.login-button');\r\n    this.$logoutLink = this.$el.find('.logout-button-link');\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    var self = this;\r\n    this.customValidationRules();\r\n    this.$loginBtn.one('shown.bs.popover', function() {\r\n      var $popoverAccordiionNode = self.$el.find('.popover');\r\n      Accordions.bindClickToAccordions($popoverAccordiionNode);\r\n\r\n      self.$el.on('keyup', '#CustomerNumber', function() {\r\n        const $customerNumber = $(this);\r\n        var pod = self.$el.find(\r\n          \"label[for='PointOfDeliveryNumber'] span:first-child\"\r\n        );\r\n        var label = self.$el.find('#PointOfDeliveryNumber');\r\n\r\n        if ($customerNumber.val().length < 6) {\r\n          pod.text(label.data('five'));\r\n        }\r\n\r\n        if ($customerNumber.val().length === 6) {\r\n          pod.text(label.data('six'));\r\n        }\r\n\r\n        if ($customerNumber.val().length === 8) {\r\n          pod.text(label.data('eight'));\r\n        }\r\n\r\n        if ($customerNumber.val().length === 9) {\r\n          pod.text(label.data('nine'));\r\n        }\r\n      });\r\n\r\n      self.$el.on('click', '.login-show-password-reminder.em', function() {\r\n        self.$el.find('.login-password-reminder').show();\r\n        self.$el.find('.login-email-section').hide();\r\n        $('input#EmailToRemindPassword.form-control.text-box.single-line').val(\r\n          $('input#Email.form-control.text-box.single-line').val()\r\n        );\r\n        $(\r\n          'input#EmailToRemindPassword.form-control.text-box.single-line'\r\n        ).focus();\r\n      });\r\n\r\n      self.$el.on('click', '.login-show-password-reminder.cn', function() {\r\n        self.$el.find('.login-password-reminder-cn').show();\r\n        self.$el.find('.login-customerno-section').hide();\r\n        $(\r\n          'input#EmailToRemindPasswordCn.form-control.text-box.single-line'\r\n        ).focus();\r\n      });\r\n\r\n      self.$el.on(\r\n        'click',\r\n        '.login-password-reminder .login-show-password-back-btn',\r\n        function() {\r\n          self.$el.find('.login-password-reminder').hide();\r\n          self.$el.find('.login-email-section').show();\r\n        }\r\n      );\r\n\r\n      self.$el.on(\r\n        'click',\r\n        '.login-password-reminder-cn .login-show-password-back-btn',\r\n        function() {\r\n          self.$el.find('.login-password-reminder-cn').hide();\r\n          self.$el.find('.login-customerno-section').show();\r\n        }\r\n      );\r\n\r\n      self.$el.on('click', 'button[name=submittingPrivateData]', function() {\r\n        $('input#Email.form-control.text-box.single-line').val(\r\n          $('input#Email.form-control.text-box.single-line')\r\n            .val()\r\n            .replace(/\\s/g, '')\r\n        );\r\n\r\n        if (\r\n          $('input#Email.form-control.text-box.single-line').val() != '' &&\r\n          $('input#Password.form-control.text-box.single-line').val() != '' &&\r\n          $('[id=EmailToRemindPassword]').is(':focus') == false\r\n        ) {\r\n          self.$el.find('.div-form-check').hide();\r\n          self.$el.find('.privatelogin').hide();\r\n          self.$el.find('.login-show-password-reminder').hide();\r\n          self.$el.find('.form-check').hide();\r\n          self.$el.find('.login-form-email').hide();\r\n          self.$el.find('.login-form-password').hide();\r\n          self.$el.find('.text-danger').hide();\r\n          self.$el.find('.login-message').hide();\r\n          self.$el.find('.loader-private').show();\r\n        }\r\n      });\r\n\r\n      self.$el.on('click', 'button[name=submittingBusinessData]', function() {\r\n        if (\r\n          $('input#CustomerNumber.form-control.text-box.single-line').val() !=\r\n            '' &&\r\n          $(\r\n            'input#PointOfDeliveryNumber.form-control.text-box.single-line'\r\n          ).val() != '' &&\r\n          $('[id=EmailToRemindPasswordCn]').is(':focus') == false\r\n        ) {\r\n          self.$el.find('.div-form-check').hide();\r\n          self.$el.find('.businesslogin').hide();\r\n          self.$el.find('.login-show-password-reminder').hide();\r\n          self.$el.find('.form-check').hide();\r\n          self.$el.find('.form-business .form-check').hide();\r\n          self.$el.find('.login-form-custnumber').hide();\r\n          self.$el.find('.login-form-pod').hide();\r\n          self.$el.find('.text-danger').hide();\r\n          self.$el.find('.login-message').hide();\r\n          self.$el.find('.loader-bussiness').show();\r\n        }\r\n      });\r\n\r\n      $('input#Password.form-control.text-box.single-line').focus(function() {\r\n        $('input#Password.form-control.text-box.single-line').prop(\r\n          'type',\r\n          'password'\r\n        );\r\n      });\r\n\r\n      self.$el.on('click', '.login-email-section .show-password', function() {\r\n        var $passwordField = self.$el.find('#Password');\r\n        var $hideBtn = $(this);\r\n        if ($hideBtn.attr('data-shown') === '') {\r\n          $passwordField.attr('type', 'text');\r\n          $hideBtn.attr('data-shown', 'true');\r\n          $hideBtn.html($hideBtn.attr('data-hide-msg'));\r\n        } else {\r\n          $passwordField.attr('type', 'password');\r\n          $hideBtn.attr('data-shown', '');\r\n          $hideBtn.html($hideBtn.attr('data-show-msg'));\r\n        }\r\n      });\r\n\r\n      self.$el.on(\r\n        'click',\r\n        '.login-customerno-section .show-password',\r\n        function() {\r\n          var $passwordField = self.$el.find('#PointOfDeliveryNumber');\r\n          var $hideBtn = $(this);\r\n          if ($hideBtn.attr('data-shown') === '') {\r\n            $passwordField.attr('type', 'text');\r\n            $hideBtn.attr('data-shown', 'true');\r\n            $hideBtn.html($hideBtn.attr('data-hide-msg'));\r\n          } else {\r\n            $passwordField.attr('type', 'password');\r\n            $hideBtn.attr('data-shown', '');\r\n            $hideBtn.html($hideBtn.attr('data-show-msg'));\r\n          }\r\n        }\r\n      );\r\n    });\r\n\r\n    this.$loginBtn.on('show.bs.popover', function(/* e */) {\r\n      self.$loginBtn.addClass('active');\r\n    });\r\n\r\n    this.$loginBtn.on('shown.bs.popover', function(/* e */) {\r\n      self.initFormValidation();\r\n      self.initFormValidationEmail();\r\n\r\n      new Form({\r\n        el: self.$el.find('.form')\r\n      });\r\n      self.$loginBtn.addClass('active');\r\n\r\n      self.$el\r\n        .find('.form-control-help-bs-tooltip')\r\n        .tooltip({ viewport: '.popover' });\r\n    });\r\n\r\n    this.$loginBtn.on('hidden.bs.popover', function(e) {\r\n      self.$loginBtn.removeClass('active');\r\n\r\n      if (self.$loginBtn.hasClass('active')) {\r\n        self.$loginBtn.removeClass('active');\r\n        console.log(e.target);\r\n      }\r\n    });\r\n\r\n    $(document).ready(function() {\r\n      self.$loginBtn.on('click', function(e) {\r\n        // Makes link button clickable for logout\r\n        console.log(e.target);\r\n        self.$loginBtn.popover('toggle');\r\n        if (\r\n          self.$logoutLink.length > 0 &&\r\n          !$(e.target).hasClass('logout-button-link')\r\n        ) {\r\n          window.location.href = self.$logoutLink.attr('href');\r\n        }\r\n      });\r\n    });\r\n\r\n    self.$el.on('click', '.popover-content .login-menu', function(/* event */) {\r\n      self.$loginBtn.trigger('click');\r\n    });\r\n\r\n    $('.showLogin').on('click', function(e) {\r\n      e.preventDefault();\r\n      console.log(e.target);\r\n\r\n      if (\r\n        $win.width() <= 768 &&\r\n        typeof self.$loginBtn[0].lastChild.classList == 'undefined'\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      self.$loginBtn.trigger('click');\r\n    });\r\n\r\n    // TODO: never ever use setTimeout for sth like this, don't even look at this, have to change it!\r\n    if (\r\n      typeof window.LoginDataObject !== 'undefined' &&\r\n      JSON.parse(window.LoginDataObject.IsPostback)\r\n    ) {\r\n      setTimeout(function() {\r\n        if (\r\n          $win.width() <= 768 &&\r\n          typeof self.$loginBtn[0].lastChild.classList == 'undefined'\r\n        ) {\r\n          return;\r\n        }\r\n        self.$loginBtn.trigger('click');\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  initFormValidation() {\r\n    this.$el.find('form').validate({\r\n      rules: {\r\n        Email: {\r\n          required: true,\r\n          customEmailAndCustomerNumber: true\r\n        },\r\n        Password: {\r\n          required: true\r\n        },\r\n        EmailToRemindPassword: {\r\n          required: true,\r\n          email: true\r\n        },\r\n        EmailToRemindPasswordCn: {\r\n          required: true,\r\n          email: true\r\n        },\r\n        CustomerNumber: {\r\n          required: true,\r\n          customerNumber: true\r\n        },\r\n        PointOfDeliveryNumber: {\r\n          required: true\r\n          //pointOfDeliveryNumber: true\r\n        }\r\n      },\r\n      unhighlight: function(/* element */) {\r\n        $('#Email').keyup(function() {\r\n          $('input#Password.form-control.text-box.single-line.password').val(\r\n            ''\r\n          );\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  initFormValidationEmail() {\r\n    this.$el.find('form.email-form').validate({\r\n      rules: {\r\n        Email: {\r\n          required: true,\r\n          customEmailAndCustomerNumber: true\r\n        },\r\n        Password: {\r\n          required: true\r\n        },\r\n        EmailToRemindPassword: {\r\n          required: true,\r\n          email: true\r\n        }\r\n      },\r\n      unhighlight: function(/* element */) {\r\n        $('#Email').keyup(function() {\r\n          $('input#Password.form-control.text-box.single-line.password').val(\r\n            ''\r\n          );\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  customValidationRules() {\r\n    $.validator.addMethod(\r\n      'customerNumber',\r\n      function(value /* , element */) {\r\n        if (\r\n          // eslint-disable-next-line no-empty-character-class\r\n          /((^K?\\s*(\\d\\s*){5,8}\\d[\\s]*$)|(^(\\d[ -]*){5}\\d$))|((^(\\d[]*){8}\\d$)|(^(\\d[]*){5}\\d$))/.test(\r\n            value\r\n          )\r\n        ) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      'Invalid Customer Number'\r\n    );\r\n    $.validator.addMethod(\r\n      'pointOfDeliveryNumber',\r\n      function(value /* , element */) {\r\n        if (/^\\d[\\d ]*\\d$/.test(value)) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      'Invalid Point of delivery number'\r\n    );\r\n    $.validator.addMethod(\r\n      'customEmailAndCustomerNumber',\r\n      function(value /* , element */) {\r\n        //if(/((^K?(\\d[ -]*){6,8}\\d$)|(^(\\d[ -]*){5}\\d$))|(^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$)/.test(value)){\r\n        if (\r\n          // eslint-disable-next-line no-useless-escape\r\n          /(^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$)/.test(\r\n            value\r\n          )\r\n        ) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      'Invalid Customer Number or email'\r\n    );\r\n  }\r\n}\r\n","/**\r\n * Class: moving-form\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\n\r\nexport default class MovingForm {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    this.config = $.extend(\r\n      {\r\n        el: '.moving-form'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    this.$allTogglableFieldsets = this.$el.find('fieldset[data-show-if]'); //all fieldsets\r\n    if (this.$el.length) {\r\n      this.init();\r\n    }\r\n  }\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n  bindEvents() {\r\n    let thiz = this;\r\n    this.$allTogglableFieldsets.find('select').on('change', function() {\r\n      //hide any levels below the currently changed level\r\n\r\n      // let currentLevel = parseInt(this.closest(\"fieldset\").getAttribute('data-level'));\r\n      // currentLevel = currentLevel+1; //all levels below the changed one should be hidden again\r\n      // if(currentLevel < 3){\r\n      // while(currentLevel < 3){\r\n      // let elemntsOnLevel = thiz.$el.find('[data-level=\"'+currentLevel+'\"]');\r\n      // elemntsOnLevel.addClass('hidden-xs-up');\r\n      // elemntsOnLevel.find('select').val(\"\"); //reset values for selects being re-hidden\r\n      // currentLevel = currentLevel+1;\r\n      // }\r\n      // }\r\n\r\n      // Hide all selects further down the DOM tree\r\n      let current = $(this).closest('fieldset');\r\n      current = current.next();\r\n      while (current.length) {\r\n        current.addClass('hidden-xs-up');\r\n        current.find('select').val('');\r\n        current = current.next();\r\n      }\r\n\r\n      //toggle content\r\n      thiz.$el\r\n        .find('div[data-show-if]')\r\n        .not('[data-show-if~=\"' + this.value + '\"]')\r\n        .addClass('hidden-xs-up'); //hide content that doesn't have the current show-if-attributes\r\n      thiz.$el\r\n        .find('[data-show-if~=\"' + this.value + '\"]')\r\n        .removeClass('hidden-xs-up');\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Class: MultiNarrative\r\n * Description: Here goes description\r\n */\r\nimport $ from 'jquery';\r\nimport { responsive } from '../base/responsive/responsive';\r\nimport Swiper from 'swiper';\r\n\r\nexport default class MultiNarrative {\r\n  constructor(config) {\r\n    //defaults\r\n    this.config = $.extend({}, config);\r\n    this.$el = $(this.config.el);\r\n    this.$heightel = this.$el.find('.same-height');\r\n    this.$options = this.$el.find('.narrative-option');\r\n    this.$narrativeBodies = this.$el.find('.narrative-body');\r\n    this.$narrativeCtas = this.$el.find('.narrative-cta');\r\n    this.$narrativeImgs = this.$el.find('.narrative-img');\r\n    this.$mediaTrack = this.$el.find('.narrative-media-track');\r\n    this.$contentTrack = this.$el.find('.narrative-content-track');\r\n    this.$swiperContainer = this.$el.find('.swiper-container');\r\n\r\n    this.$narrativeContent = this.$el.find('[data-narrative-content]');\r\n\r\n    this.init();\r\n  }\r\n  init() {\r\n    this.bindEvents();\r\n    this.setupSwiper();\r\n    this.setTracks();\r\n  }\r\n  setTracks() {\r\n    this.$mediaTrack.css('width', this.$options.length * 100 + '%');\r\n    this.$contentTrack.css('width', this.$options.length * 100 + '%');\r\n  }\r\n  switchContent(swiper) {\r\n    var position = 100 / swiper.slides.length;\r\n    this.$mediaTrack.css(\r\n      'transform',\r\n      'translate3d(-' + swiper.activeIndex * position + '%,0,0)'\r\n    );\r\n    this.$contentTrack.css(\r\n      'transform',\r\n      'translate3d(-' + swiper.activeIndex * position + '%,0,0)'\r\n    );\r\n  }\r\n  setupSwiper() {\r\n    var self = this;\r\n    this.swiper = new Swiper(this.$swiperContainer, {\r\n      direction: 'horizontal',\r\n      initialSlide: 1,\r\n      slidesPerView: 3,\r\n      breakpoints: {\r\n        993: {\r\n          slidesPerView: 1\r\n        }\r\n      },\r\n      nextButton: '.swiper-button-next',\r\n      prevButton: '.swiper-button-prev',\r\n      onInit: function(swiper) {\r\n        self.switchContent(swiper);\r\n      },\r\n      onSlideChangeStart: function(swiper) {\r\n        if (swiper.currentBreakpoint !== 'max') {\r\n          self.switchContent(swiper);\r\n        }\r\n      },\r\n      onClick: function(swiper, e) {\r\n        if (responsive.getSize() !== 'small') {\r\n          //for some reason, swiper need both onClick and onTap to work properly (one is not enough)\r\n          if (\r\n            !$(e.srcElement).hasClass('swiper-button-next') &&\r\n            !$(e.srcElement).hasClass('swiper-button-prev') &&\r\n            !$(e.srcElement)\r\n              .parent()\r\n              .hasClass('active')\r\n          ) {\r\n            swiper.activeIndex = swiper.clickedIndex;\r\n            swiper.update();\r\n            self.switchContent(swiper);\r\n          }\r\n        }\r\n      },\r\n      onTap: function(swiper, e) {\r\n        if (responsive.getSize() !== 'small') {\r\n          //for some reason, swiper need both onClick and onTap to work properly (one is not enough)\r\n          if (\r\n            !$(e.srcElement).hasClass('swiper-button-next') &&\r\n            !$(e.srcElement).hasClass('swiper-button-prev') &&\r\n            !$(e.srcElement)\r\n              .parent()\r\n              .hasClass('active')\r\n          ) {\r\n            swiper.activeIndex = swiper.clickedIndex;\r\n            swiper.update();\r\n            self.switchContent(swiper);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // Disable possibility to drag the entire swiper-container\r\n    this.swiper.disableTouchControl();\r\n  }\r\n\r\n  bindEvents() {\r\n    var self = this;\r\n    if (\r\n      /MSIE (\\d+\\.\\d+);/.test(navigator.userAgent) ||\r\n      navigator.userAgent.indexOf('Trident/') > -1\r\n    ) {\r\n      // Fixes link jump on IE\r\n      $(this.$narrativeBodies).on('mouseenter', function() {\r\n        self.$narrativeBodies.each(function() {\r\n          var parentHeight = $(this)\r\n            .parent()\r\n            .height();\r\n          $(this).css('height', parentHeight);\r\n        });\r\n      });\r\n      $(this.$narrativeBodies).on('mouseleave', function() {\r\n        self.$narrativeBodies.each(function() {\r\n          $(this).css('height', '100%');\r\n        });\r\n      });\r\n    }\r\n  }\r\n}\r\n","import $ from \"jquery\";\n\nexport default class SelectDropdown {\n  constructor(config) {\n    this.config = Object.assign({}, config);\n    this.element = this.config.el;\n    this.selectElement = this.element.querySelector(\"select\");\n    this.toggle = this.element.querySelector(\".dropdown-toggle\");\n    this.dropdownMenu = this.element.querySelector(\".dropdown-menu\");\n    this.dropdownMenuWrapper = this.dropdownMenu.querySelector(\n      \".dropdown-items-wrapepr\"\n    );\n    this.optionsMenu = this.element.querySelector(\".dropdown-options\");\n    this.displayText = this.element.querySelector(\".dropdown-display-text\");\n    this.displayTextAddition = this.element.querySelector(\n      \".dropdown-display-addition\"\n    );\n    this.displayIcon = this.element.querySelector(\".dropdown-display-icon\");\n\n    this.placeholder =\n      this.config.placeholder || this.selectElement.getAttribute(\"placeholder\");\n    this.focusedItem = null;\n    this.jumpKeywords = \"\";\n    this.jumpToTimer = null;\n    this.disabled = false;\n    this.keepOpen = false;\n    this.isMultiSelect = false;\n    this.showIcon = this.element.dataset[\"showicon\"] === \"true\";\n    this.selectedValues = [];\n    this.detachMenu = this.element.dataset[\"detachmenu\"] !== \"false\";\n    this.direction = \"\";\n\n    this.init();\n  }\n\n  init() {\n    this.bindEvents();\n    this.setupElements();\n    this.renderDisplay();\n  }\n\n  setupElements() {\n    Object.defineProperty(this.element, \"value\", {\n      get: () => {\n        return this.selectedValues;\n      }\n    });\n\n    Object.defineProperty(this.element, \"disabled\", {\n      get: () => {\n        return this.disabled;\n      },\n      set: disabled => {\n        this.disabled = disabled;\n\n        if (disabled) {\n          this.toggle.setAttribute(\"disabled\", \"disabled\");\n        } else {\n          this.toggle.removeAttribute(\"disabled\", \"disabled\");\n        }\n      }\n    });\n\n    Object.defineProperty(this.element, \"direction\", {\n      set: direction => {\n        this.direction = direction;\n      }\n    });\n\n    if (this.detachMenu) {\n      this.detach();\n    }\n  }\n\n  detach() {\n    this.element.removeChild(this.dropdownMenu);\n    document.body.appendChild(this.dropdownMenu);\n\n    this.dropdownMenu.style.width = this.element.offsetWidth + 'px';\n  }\n\n  handleSelectItem(e) {\n    if (e instanceof MouseEvent) {\n      this.selectItem(e.target);\n    } else if (this.focusedItem) {\n      this.selectItem(this.focusedItem.element);\n    } else {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  toggleSelectedItem(item) {\n    const value = item.dataset[\"value\"];\n\n    const menuItems = this.dropdownMenu.querySelectorAll(`.dropdown-item`);\n\n    let selectedIndex = -1;\n\n    for (let i = 0; i < this.selectElement.options.length; i++) {\n      if (this.selectElement.options[i].value === value) {\n        this.selectElement.options[i].selected = true;\n        menuItems[i].classList.add(\"selected\");\n        item.setAttribute(\"aria-selected\", \"true\");\n        selectedIndex = i;\n      } else {\n        this.selectElement.options[i].selected = false;\n        menuItems[i].classList.remove(\"selected\");\n      }\n    }\n\n    return selectedIndex;\n  }\n\n  selectItem(e) {\n    const target = e;\n\n    if (target.hasAttribute(\"disabled\")) {\n      return;\n    }\n\n    const selectedIndex = this.toggleSelectedItem(target);\n\n    this.focusedItem = { element: target, index: selectedIndex };\n\n    this.buildSelectedOptions();\n    this.renderDisplay();\n\n    $(this.element).trigger(\"change\", { selectedValues: this.selectedValues });\n\n    if (!this.keepOpen) {\n      this.closeMenu();\n    }\n  }\n\n  buildSelectedOptions() {\n    this.selectedValues = [this.selectElement.value];\n  }\n\n  renderDisplay() {\n    const selectedOptions = [];\n\n    for (let i = 0; i < this.selectElement.children.length; i++) {\n      const option = this.selectElement.children[i];\n\n      if (!option.selected) {\n        continue;\n      }\n\n      selectedOptions.push(option);\n    }\n\n    this.displayTextAddition.textContent = \"\";\n\n    if (selectedOptions.length === 0) {\n      this.displayText.textContent = this.placeholder;\n      this.element.setAttribute(\"title\", this.placeholder);\n\n      return;\n    }\n\n    this.displayText.textContent = selectedOptions[0].text;\n    this.element.setAttribute(\"title\", selectedOptions[0].text);\n\n    if (selectedOptions.length > 1) {\n      this.displayTextAddition.textContent = `+ ${selectedOptions.length - 1}`;\n    }\n\n    if (this.showIcon) {\n      this.displayIcon.src = selectedOptions[0].dataset[\"image\"];\n    }\n  }\n\n  updateDropdownPosition() {\n    const offset = this.element.getBoundingClientRect();\n\n    this.dropdownMenu.style.width = `${offset.width}px`;\n    this.dropdownMenu.style.left = `${offset.left}px`;\n  }\n\n  keydown(e) {\n    switch (e.which) {\n      case 38:\n        //up arrow\n        this.focusPreviousItem();\n        e.preventDefault();\n        e.stopPropagation();\n        break;\n\n      case 40:\n        //down arrow\n        this.focusNextItem();\n        e.preventDefault();\n        e.stopPropagation();\n        break;\n\n      case 13: //enter\n        this.handleSelectItem(e);\n        break;\n\n      case 27:\n      case 9:\n        //escape and tab\n        this.closeMenu();\n        break;\n\n      default:\n        this.jumpToOptions(e.key);\n        break;\n    }\n  }\n\n  jumpToOptions(keys) {\n    this.jumpKeywords += keys;\n\n    let activeIndex = 0;\n\n    if (this.focusedItem) {\n      activeIndex = this.focusedItem.index + 1;\n    }\n\n    let foundItem = this.findMatchingOption(\n      this.optionsMenu.children,\n      activeIndex\n    );\n\n    if (!foundItem) {\n      // wrap around to top\n      foundItem = this.findMatchingOption(this.optionsMenu.children, 0);\n    }\n\n    if (foundItem) {\n      const foundIndex = Array.prototype.indexOf.call(\n        this.optionsMenu.children,\n        foundItem\n      );\n      this.dropdownMenuWrapper.scrollTop = foundItem.offsetTop;\n      this.focusItem(foundItem, foundIndex);\n    } else {\n      this.jumpKeywords = \"\";\n    }\n\n    if (this.jumpToTimer) {\n      clearTimeout(this.jumpToTimer);\n    }\n\n    this.jumpToTimer = setTimeout(() => {\n      this.jumpKeywords = \"\";\n    }, 300);\n  }\n\n  findMatchingOption(list, startIndex) {\n    for (let i = startIndex; i < list.length; i++) {\n      const item = list[i];\n      if (\n        item.textContent\n          .toLowerCase()\n          .indexOf(this.jumpKeywords.toLowerCase()) === 0\n      ) {\n        return item;\n      }\n    }\n\n    return null;\n  }\n\n  focusNextItem() {\n    if (!this.focusedItem) {\n      const currentItem = this.dropdownMenu.querySelector(\"li\");\n\n      if (currentItem) {\n        this.focusItem(currentItem, 0);\n      }\n\n      return false;\n    }\n\n    const item = this.focusedItem.element;\n    const nextItem = item.nextElementSibling;\n\n    if (nextItem) {\n      const nextIndex = Array.prototype.indexOf.call(\n        item.parentElement.children,\n        nextItem\n      );\n      return this.focusItem(nextItem, nextIndex);\n    }\n\n    return false;\n  }\n\n  focusPreviousItem() {\n    if (!this.focusedItem) {\n      return false;\n    }\n\n    const item = this.focusedItem.element;\n    const previousItem = item.previousElementSibling;\n\n    if (previousItem) {\n      const previousIndex = Array.prototype.indexOf.call(\n        item.parentElement.children,\n        previousItem\n      );\n      return this.focusItem(previousItem, previousIndex);\n    }\n\n    return false;\n  }\n\n  focusItem(item, index) {\n    if (this.focusedItem) {\n      this.focusedItem.element.classList.remove(\"focused\");\n    }\n\n    item.classList.add(\"focused\");\n\n    this.focusedItem = { element: item, index: index };\n\n    if (\n      this.dropdownMenuWrapper.scrollHeight >\n      this.dropdownMenuWrapper.clientHeight\n    ) {\n      const activeElement = this.focusedItem.element;\n      const itemBottom = activeElement.offsetTop + activeElement.offsetHeight;\n      const scrollBottom =\n        this.dropdownMenuWrapper.clientHeight +\n        this.dropdownMenuWrapper.scrollTop;\n\n      if (itemBottom > scrollBottom) {\n        // scroll down to focused item\n        this.dropdownMenuWrapper.scrollTop =\n          itemBottom - this.dropdownMenuWrapper.offsetHeight;\n      } else if (activeElement.offsetTop < this.dropdownMenuWrapper.scrollTop) {\n        // scroll up to focused item\n        this.dropdownMenuWrapper.scrollTop = activeElement.offsetTop;\n      }\n    }\n\n    return this.focusedItem;\n  }\n\n  initOptions() {\n    const fragment = document.createDocumentFragment();\n\n    this.selectedValues.length = 0;\n\n    const options = this.selectElement.children;\n\n    for (let i = 0; i < options.length; i++) {\n      const li = document.createElement(\"li\");\n      li.className = \"dropdown-item\";\n      li.textContent = options[i].textContent;\n\n      Object.assign(li.dataset, options[i].dataset);\n\n      li.dataset[\"value\"] = options[i].value;\n\n      if (options[i].selected) {\n        li.classList.add(\"selected\");\n        li.setAttribute(\"aria-selected\", \"true\");\n        this.selectedValues.push(options[i].value);\n      }\n\n      const image = li.dataset[\"image\"];\n\n      if (image) {\n        const imageElement = this.generateImage(image);\n        li.insertBefore(imageElement, li.childNodes[0]);\n      }\n\n      fragment.appendChild(li);\n    }\n\n    this.optionsMenu.innerHTML = \"\";\n    this.optionsMenu.appendChild(fragment);\n\n    this.element.disabled = options.length === 0 || this.selectElement.disabled;\n\n    this.renderDisplay();\n  }\n\n  generateImage(imageUrl) {\n    const image = document.createElement(\"img\");\n    image.className = \"dropdown-item-icon\";\n    image.src = imageUrl;\n\n    return image;\n  }\n\n  initOptionsData(data) {\n    const optionsFragment = document.createDocumentFragment();\n\n    data.options.forEach(o => {\n      const option = new Option(o.text, o.value);\n\n      if (o.data) {\n        Object.assign(option.dataset, o.data);\n      }\n\n      optionsFragment.appendChild(option);\n    });\n\n    this.selectElement.options.length = 0;\n    this.selectElement.appendChild(optionsFragment);\n\n    this.initOptions();\n  }\n\n  closeMenu() {\n    this.dropdownMenu.style.display = \"none\";\n    this.element.classList.remove(\"open\");\n    this.toggle.removeAttribute(\"aria-expanded\");\n    this.focusedItem = null;\n\n    const focusedItems = this.optionsMenu.querySelectorAll(\n      \".dropdown-item.focused\"\n    );\n\n    for (let i = 0; i < focusedItems.length; i++) {\n      focusedItems[i].classList.remove(\"focused\");\n    }\n  }\n\n  showMenu(e) {\n    const offset = e.target.getBoundingClientRect();\n    const $dropdownMenu = $(this.dropdownMenu);\n    let top = 0;\n    let dropdownDirection = \"bottom\";\n\n    if (!this.direction) {\n      const spaceAbove = offset.top - $dropdownMenu.outerHeight();\n      const spaceBelow = window.innerHeight - (offset.top + offset.height) - $dropdownMenu.outerHeight();\n  \n      if (spaceBelow < 0 && spaceAbove > spaceBelow) {\n        dropdownDirection = \"top\";\n      }\n    } else {\n      dropdownDirection = this.direction;\n    }\n\n    // check bottom screen\n    if (this.detachMenu) {\n      if (dropdownDirection === \"top\") {\n        top = offset.top + window.pageYOffset - $dropdownMenu.outerHeight();\n      } else  {\n        top = $(document).scrollTop() + offset.bottom;\n      }\n    } else {\n      if (dropdownDirection === \"top\") {\n        top = -$dropdownMenu.outerHeight();\n      } else {\n        top = offset.height;\n      }\n    }\n\n    if (dropdownDirection === \"top\") {\n      $dropdownMenu.addClass(\"dropdown-menu-open--top\");\n      this.element.classList.add(\"dropdown-menu-open--top\");\n    } else {\n      $dropdownMenu.removeClass(\"dropdown-menu-open--top\");\n      this.element.classList.remove(\"dropdown-menu-open--top\");\n    }\n\n    $dropdownMenu.css({\n      display: \"block\",\n      top: top\n    });\n\n    // realign left when menu causes scrollbar to appear when visible\n    let left = e.target.getBoundingClientRect().left;\n\n    if (!this.detachMenu) {\n      left = 0;\n    }\n\n    $dropdownMenu.css({\n      width: e.target.getBoundingClientRect().width,\n      left: left\n    });\n  }\n\n  handleMobileSelection() {\n    this.renderDisplay();\n  }\n\n  selectItemByData(e, data) {\n    if (!data || !data.options) {\n      return;\n    }\n\n    data.options.forEach(d => {\n      const option = this.selectElement.querySelector(`[data-id=\"${d}\"]`);\n\n      if (!option) {\n        return;\n      }\n\n      option.selected = true;\n\n      const menuItem = this.dropdownMenu.querySelector(`[data-id=\"${d}\"]`);\n\n      if (menuItem) {\n        menuItem.setAttribute(\"aria-selected\", \"true\");\n        menuItem.classList.add(\"selected\");\n\n        if (!this.isMultiSelect) {\n          this.selectedValues.length = 0;\n        }\n\n        if (!this.selectedValues.indexOf(option.value) === -1) {\n          this.selectedValues.push(option.value);\n        }\n      }\n    });\n\n    this.renderDisplay();\n  }\n\n  bindEvents() {\n    // display opened dropdown menu on the correct position\n    $(this.element).on(\"shown.bs.dropdown\", this.showMenu.bind(this));\n\n    $(this.element).on(\"hide.bs.dropdown\", this.closeMenu.bind(this));\n\n    $(this.element).on(\"select-data\", this.selectItemByData.bind(this));\n\n    $(this.element).on(\"init-options-data\", (e, data) =>\n      this.initOptionsData(data)\n    );\n\n    $(this.element).on(\n      \"update-dropdown-position\",\n      this.updateDropdownPosition.bind(this)\n    );\n\n    window.addEventListener(\"resize\", this.closeMenu.bind(this));\n\n    // handle option selection\n    this.dropdownMenu.addEventListener(\"click\", e => {\n      if (e.target.nodeName.toLowerCase() === \"li\") {\n        this.handleSelectItem(e);\n\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    });\n\n    this.dropdownMenu.addEventListener(\"keydown\", this.keydown.bind(this));\n\n    this.toggle.addEventListener(\"keydown\", this.keydown.bind(this));\n\n    // handle option selection on mobile\n    this.selectElement.addEventListener(\n      \"change\",\n      this.handleMobileSelection.bind(this)\n    );\n\n    $(() => {\n      this.initOptions();\n      $(this.element).trigger(\"load\");\n    });\n  }\n}\n","import SelectDropdown from \"../selectDropdown/selectDropdown\";\n\nexport default class MultiSelectDropdown extends SelectDropdown {\n  constructor(config) {\n    super(config);\n\n    this.selectedOptionsMenu = null;\n\n    this.keepOpen = true;\n    this.isMultiSelect = true;\n  }\n\n  handleMobileSelection() {\n    this.renderDisplay();\n    this.buildSelectedOptions();\n  }\n\n  handleSelectItem(e) {\n    if (e instanceof MouseEvent) {\n      this.selectItem(e.target);\n      this.buildSelectedOptions();\n    } else {\n      if (!this.focusedItem) {\n        return;\n      }\n\n      const parent = this.focusedItem.element.parentElement;\n\n      this.selectItem(this.focusedItem.element);\n\n      this.buildSelectedOptions();\n  \n      if (parent.classList.contains(\"dropdown-selected-options\")) {\n        if (parent.children.length >= 1) {\n          this.focusItem(parent.children[0]);\n        } else {\n          this.focusItem(parent.nextElementSibling.querySelector(\"li\"));\n        }\n      }\n    }\n    \n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  toggleSelectedItem(item) {\n    const value = item.dataset[\"value\"];\n    const selected = item.classList.contains(\"selected\");\n    let selectedIndex = -1;\n\n    for (let i = 0; i < this.selectElement.options.length; i++) {\n      if (this.selectElement.options[i].value === value) {\n        selectedIndex = i;\n        break;\n      }\n    }\n\n    const menuItems = this.dropdownMenu.querySelectorAll(\n      `.dropdown-item[data-value=\"${value}\"]`\n    );\n\n    selected\n      ? item.removeAttribute(\"aria-selected\")\n      : item.setAttribute(\"aria-selected\", \"true\");\n    item.classList.toggle(\"selected\");\n\n    for (let i = 0; i < menuItems.length; i++) {\n      if (selected) {\n        menuItems[i].removeAttribute(\"aria-selected\");\n        menuItems[i].classList.remove(\"selected\");\n      }\n    }\n\n    this.selectElement.options[selectedIndex].selected = !selected;\n\n    return selectedIndex;\n  }\n\n  buildSelectedOptions() {\n    const fragment = document.createDocumentFragment();\n\n    this.selectedValues.length = 0;\n\n    for (let i = 0; i < this.selectElement.children.length; i++) {\n      const option = this.selectElement.children[i];\n\n      if (!option.selected) {\n        continue;\n      }\n\n      const li = document.createElement(\"li\");\n      li.dataset[\"value\"] = option.value;\n      li.textContent = option.textContent;\n      li.className = \"dropdown-item selected\";\n      li.setAttribute(\"aria-selected\", \"true\");\n\n      this.selectedValues.push(option.value);\n\n      fragment.appendChild(li);\n    }\n\n    this.selectedOptionsMenu.innerHTML = \"\";\n    this.selectedOptionsMenu.appendChild(fragment);\n  }\n\n  focusNextItem() {\n    const newFocusedItem = super.focusNextItem();\n    const item = this.focusedItem;\n\n    if (!newFocusedItem && item && item.element.parentElement.classList.contains(\"dropdown-selected-options\")) {\n      const selectedFirstChild = item.element.parentElement.nextElementSibling.querySelector(\n        \"li\"\n      );\n\n      if (selectedFirstChild) {\n        this.focusItem(selectedFirstChild, 0);\n      }\n    }\n  }\n\n  focusPreviousItem() {\n    const newFocusedItem = super.focusPreviousItem();\n    const item = this.focusedItem;\n\n    if (!newFocusedItem && item && item.element.parentElement.classList.contains(\"dropdown-options\")) {\n      const selectedLastChild = item && item.element.parentElement.previousElementSibling.querySelector(\n        \"li:last-child\"\n      );\n\n      if (selectedLastChild) {\n        this.focusItem(selectedLastChild, 0);\n      }\n    }\n  }\n\n  initOptions() {\n    super.initOptions();\n\n    const selectedFragment = document.createDocumentFragment();\n    const selectedOptions = this.optionsMenu.querySelectorAll('.selected');\n\n    for (let i = 0; i < selectedOptions.length; i++) {\n      selectedFragment.appendChild(selectedOptions[i].cloneNode(true));\n    }\n\n    this.selectedOptionsMenu = this.dropdownMenu.querySelector(\n      \".dropdown-selected-options\"\n    );\n\n    this.selectedOptionsMenu.innerHTML = \"\";\n    this.selectedOptionsMenu.appendChild(selectedFragment);\n\n    this.buildSelectedOptions();\n  }\n\n  selectItemByData(e, data) {\n    super.selectItemByData(e, data);\n    \n    this.buildSelectedOptions();\n  }\n}\n","/**\r\n * Class: CustomLogin\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\nimport 'jquery-validation';\r\n\r\nexport default class CustomLogin {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.newloginbox'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    //this.$loginBtn = this.$el.find('.login-button');\r\n    //this.$logoutLink = this.$el.find('.logout-button-link');\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.initFormValidation();\r\n    this.bindEvents();\r\n  }\r\n\r\n  bindEvents() {\r\n    var self = this;\r\n    this.newLoginBoxValidationRules();\r\n    self.$el.on('click', 'button[name=submittingPrivateData]', function() {\r\n      $('input#Email.form-control.text-box.single-line').val(\r\n        $('input#Email.form-control.text-box.single-line')\r\n          .val()\r\n          .replace(/\\s/g, '')\r\n      );\r\n\r\n      if (\r\n        $('input#Email.form-control.text-box.single-line').val() != '' &&\r\n        $('input#Password.form-control.text-box.single-line').val() != '' &&\r\n        $('[id=EmailToRemindPassword]').is(':focus') == false\r\n      ) {\r\n        self.$el.find('.div-form-check').hide();\r\n        self.$el.find('.privatelogin').hide();\r\n        self.$el.find('.login-show-password-reminder').hide();\r\n        self.$el.find('.form-check').hide();\r\n        self.$el.find('.login-form-email').hide();\r\n        self.$el.find('.login-form-password').hide();\r\n        self.$el.find('.text-danger').hide();\r\n        self.$el.find('.login-message').hide();\r\n        self.$el.find('.loader-private').show();\r\n      }\r\n    });\r\n\r\n    self.$el.on('click', 'button[name=submittingBusinessData]', function() {\r\n      if (\r\n        $('input#CustomerNumber.form-control.text-box.single-line').val() !=\r\n          '' &&\r\n        $(\r\n          'input#PointOfDeliveryNumber.form-control.text-box.single-line'\r\n        ).val() != '' &&\r\n        $('[id=EmailToRemindPasswordCn]').is(':focus') == false\r\n      ) {\r\n        self.$el.find('.div-form-check').hide();\r\n        self.$el.find('.businesslogin').hide();\r\n        self.$el.find('.login-show-password-reminder').hide();\r\n        self.$el.find('.form-check').hide();\r\n        self.$el.find('.form-business .form-check').hide();\r\n        self.$el.find('.login-form-custnumber').hide();\r\n        self.$el.find('.login-form-pod').hide();\r\n        self.$el.find('.text-danger').hide();\r\n        self.$el.find('.login-message').hide();\r\n        self.$el.find('.loader-bussiness').show();\r\n      }\r\n    });\r\n  }\r\n\r\n  initFormValidation() {\r\n    this.$el.find('form').validate({\r\n      rules: {\r\n        Email: {\r\n          required: true,\r\n          customEmailAndCustomerNumber: true\r\n        },\r\n        Password: {\r\n          required: true\r\n        }\r\n      },\r\n      unhighlight: function(/* element */) {\r\n        $('#Email').keyup(function() {\r\n          $('input#Password.form-control.text-box.single-line.password').val(\r\n            ''\r\n          );\r\n        });\r\n      }\r\n    });\r\n    this.$el.find('.customerNumberform').validate({\r\n      rules: {\r\n        CustomerNumber: {\r\n          required: true,\r\n          customerNumber: true\r\n        },\r\n        PointOfDeliveryNumber: {\r\n          required: true\r\n          //pointOfDeliveryNumber: true\r\n        }\r\n      },\r\n      unhighlight: function(/* element */) {\r\n        $('#Email').keyup(function() {\r\n          $('input#Password.form-control.text-box.single-line.password').val(\r\n            ''\r\n          );\r\n        });\r\n      }\r\n    });\r\n    this.$el.find('.forgotEmailPasswordForm').validate({\r\n      rules: {\r\n        EmailToRemindPassword: {\r\n          required: true,\r\n          customEmailAndCustomerNumber: true\r\n        }\r\n      },\r\n      unhighlight: function(/* element */) {\r\n        $('#Email').keyup(function() {\r\n          $('input#Password.form-control.text-box.single-line.password').val(\r\n            ''\r\n          );\r\n        });\r\n      }\r\n    });\r\n    this.$el.find('.forgotCustomerNumberPasswordForm').validate({\r\n      rules: {\r\n        EmailToRemindPasswordCn: {\r\n          required: true,\r\n          customerNumber: true\r\n        }\r\n      },\r\n      unhighlight: function(/* element */) {\r\n        $('#Email').keyup(function() {\r\n          $('input#Password.form-control.text-box.single-line.password').val(\r\n            ''\r\n          );\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  newLoginBoxValidationRules() {\r\n    $.validator.addMethod(\r\n      'customerNumber',\r\n      function(value /*, element */) {\r\n        if (\r\n          /((^K?\\s*(\\d\\s*){5,8}\\d[\\s]*$)|(^(\\d[ -]*){5}\\d$))|((^(\\d[\\s]*){8}\\d$)|(^(\\d[\\s]*){4}\\d$))/.test(\r\n            value\r\n          )\r\n        ) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      'Invalid Customer Number'\r\n    );\r\n    $.validator.addMethod(\r\n      'pointOfDeliveryNumber',\r\n      function(value /* element */) {\r\n        if (/^\\d[\\d ]*\\d$/.test(value)) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      'Invalid Point of delivery number'\r\n    );\r\n    $.validator.addMethod(\r\n      'customEmailAndCustomerNumber',\r\n      function(value /* , element */) {\r\n        //if(/((^K?(\\d[ -]*){6,8}\\d$)|(^(\\d[ -]*){5}\\d$))|(^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$)/.test(value)){\r\n        if (\r\n          // eslint-disable-next-line no-useless-escape\r\n          /(^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$)/.test(\r\n            value\r\n          ) ||\r\n          /((^K?\\s*(\\d\\s*){5,8}\\d[\\s]*$)|(^(\\d[ -]*){5}\\d$))|((^(\\d[\\s]*){8}\\d$)|(^(\\d[\\s]*){4}\\d$))/.test(\r\n            value\r\n          )\r\n        ) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      'Invalid Customer Number or email'\r\n    );\r\n  }\r\n}\r\n","import $ from 'jquery';\n\nexport default class OrderFlow {\n  constructor(config) {\n    this.orderFlow = null;\n    this.steps = null;\n    this.link = null;\n    this.config = $.extend(\n      {\n        el: '.orderflow'\n      },\n      config\n    );\n    this.$el = $(this.config.el);\n\n    if (this.$el.length) {\n      this.init();\n    }\n  }\n  init(/* options */) {\n    this.orderflow = $('div.orderflow');\n    this.link = $('a.megaNavigation-item-active')\n      .siblings('ul.megaNavigation-submenu')\n      .find('a.megaNavigation-submenu-item-link-active');\n    this.bindEvents();\n  }\n  bindEvents() {\n    // var self = this;\n\n    var to = this.link.attr('href');\n\n    this.link.on('click', function() {\n      this.orderflow = $('div.orderflow');\n      this.steps = $('div.orderflow-centered > div.stepindicator');\n      if (this.orderflow.length > 0 && this.steps.length == 0) {\n        window.location = to;\n      }\n    });\n  }\n}\n","import { emitter } from \"../base/emitter/emitter\";\n\nexport default class PageLanguageSwitcher {\n  constructor(config) {\n    this.config = Object.assign({}, config);\n    this.element = this.config.el.get(0);\n    this.parentElement = this.element.parentElement;\n    this.dropdownElement = this.element.querySelector(\n      \".selectDropdown.dropdown\"\n    );\n    this.parentElementChildIndex = [].indexOf.call(\n      this.parentElement.children,\n      this.element\n    );\n    this.dropdownMenu = this.element.querySelector(\n      \".pageLanguageSwitcher-dropdown-menu\"\n    );\n    this.selectElement = this.element.querySelector(\"select\");\n    this.dropdownOptions = this.dropdownMenu.querySelector(\".dropdown-options\");\n    this.displayText = this.element.querySelector(\".dropdown-display-text\");\n    this.floatingButtonClass = \"pageLanguageSwitcher--floating\";\n    this.floatingButtonHiddenClass = \"pageLanguageSwitcher--hidden\";\n    this.floatingButtonShowClass = \"pageLanguageSwitcher--show\";\n    this.isFloating = false;\n    this.storageKey = \"language_switch_scroll_position\";\n    this.footerElement = document.querySelector(\"footer\");\n    this.visible = true;\n\n    this.bindEvents();\n    this.setupElements();\n  }\n\n  setupElements() {\n    // to make the dropdown stay on top of component below\n    $(this.element)\n      .closest(\"section\")\n      .get(0).style.zIndex = 1;\n\n    const scrollPosition = localStorage.getItem(this.storageKey);\n\n    if (scrollPosition) {\n      window.scrollTo(0, +scrollPosition);\n      localStorage.removeItem(this.storageKey);\n    }\n  }\n\n  renderDesktopButton() {\n    if (this.isFloating) {\n      document.body.removeChild(this.element);\n      this.parentElement.insertBefore(\n        this.element,\n        this.parentElement.children[this.parentElementChildIndex]\n      );\n    }\n\n    this.element.classList.remove(this.floatingButtonClass);\n    this.dropdownMenu.classList.remove(this.floatingButtonClass);\n    this.isFloating = false;\n    this.visible = true;\n    this.dropdownElement.direction = \"bottom\";\n    this.element.style.display = \"block\";\n    this.renderLongText();\n  }\n\n  renderMobileFloatingButton() {\n    if (!this.isFloating) {\n      this.parentElement.removeChild(this.element);\n      this.element.classList.add(this.floatingButtonClass);\n      this.dropdownMenu.classList.add(this.floatingButtonClass);\n      document.body.appendChild(this.element);\n      this.dropdownElement.direction = \"top\";\n\n      this.isFloating = true;\n      this.renderShortText();\n    }\n  }\n\n  updateDisplayText() {\n    const selectedItem = this.dropdownOptions.querySelector(\n      \".dropdown-item.selected\"\n    );\n\n    if (selectedItem) {\n      this.displayText.textContent = selectedItem.textContent;\n    }\n  }\n\n  renderShortText() {\n    const items = this.dropdownOptions.querySelectorAll(\".dropdown-item\");\n\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].dataset.shortDisplayText) {\n        const shortText = items[i].dataset.shortDisplayText;\n        this.selectElement.children[i].textContent = shortText;\n        items[i].childNodes[items[i].childNodes.length - 1].textContent = shortText;\n      }\n    }\n\n    this.updateDisplayText();\n  }\n\n  renderLongText() {\n    const items = this.dropdownOptions.querySelectorAll(\".dropdown-item\");\n\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].dataset.displayText) {\n        const displayText = items[i].dataset.displayText;\n        this.selectElement.children[i].textContent = displayText;\n\n        items[i].childNodes[items[i].childNodes.length - 1].textContent = displayText;\n      }\n    }\n\n    this.updateDisplayText();\n  }\n\n  languageChanged(e, data) {\n    localStorage.setItem(this.storageKey, window.scrollY);\n    window.location = data.selectedValues[0];\n  }\n\n  toggleFloatingButtonVisible() {\n    if (!this.isFloating) {\n      return;\n    }\n\n    const scrollPosition = window.scrollY;\n    const offset = document.body.offsetHeight - this.footerElement.offsetHeight;\n\n    if (window.innerHeight + scrollPosition >= offset) {\n      this.visible = false;\n      this.element.classList.add(this.floatingButtonHiddenClass);\n    } else {\n      if (!this.visible) {\n        this.visible = true;\n        this.element.classList.remove(this.floatingButtonHiddenClass);\n        this.element.style.display = \"block\";\n        this.element.classList.add(this.floatingButtonShowClass);\n      }\n    }\n  }\n\n  dropdownLoaded() {\n    if (this.isFloating) {\n      this.renderShortText();\n    } else {\n      this.renderLongText();\n    }\n  }\n\n  animationEnded(e) {\n    if (!this.visible) {\n      this.element.style.display = \"none\";\n      this.element.classList.remove(this.floatingButtonHiddenClass);\n    } else {\n      this.element.classList.remove(this.floatingButtonShowClass);\n    }\n  }\n\n  bindEvents() {\n    emitter.on(\"responsive/sizechange\", size => {\n      if (size === \"small\") {\n        this.renderMobileFloatingButton();\n      } else {\n        this.renderDesktopButton();\n      }\n    });\n\n    window.addEventListener(\n      \"scroll\",\n      this.toggleFloatingButtonVisible.bind(this)\n    );\n\n    this.element.addEventListener(\n      \"animationend\",\n      this.animationEnded.bind(this)\n    );\n\n    $(this.dropdownElement).on(\"change\", this.languageChanged.bind(this));\n\n    $(this.dropdownElement).on(\"load\", this.dropdownLoaded.bind(this));\n  }\n}\n","import { combineReducers, compose, createStore } from 'redux';\r\nimport debounce from 'lodash/debounce';\r\n\r\nconst componentClassName = 'related-reads';\r\nconst contentClassName = `${componentClassName}__content`;\r\nconst articlesClassName = `${componentClassName}__articles`;\r\nconst articleClassName = `${componentClassName}__article`;\r\nconst articleDisabledClassName = `${articleClassName}--disabled`;\r\nconst slideActionClassName = `${componentClassName}__slideAction`;\r\nconst slideActionNextClassName = `${slideActionClassName}--next`;\r\nconst slideActionPreviousClassName = `${slideActionClassName}--previous`;\r\nconst slideActionShowClassName = `${slideActionClassName}--show`;\r\n\r\nconst defaultOptions = {\r\n  className: {\r\n    component: componentClassName,\r\n    content: contentClassName,\r\n    articles: articlesClassName,\r\n    article: articleClassName,\r\n    articleDisabled: articleDisabledClassName,\r\n    slideAction: slideActionClassName,\r\n    slideActionNext: slideActionNextClassName,\r\n    slideActionPrevious: slideActionPreviousClassName,\r\n    slideActionShow: slideActionShowClassName,\r\n  }\r\n};\r\n\r\nconst actionName = {\r\n  NEXT: 'next',\r\n  PREVIOUS: 'previous'\r\n}\r\n\r\nconst initArticlesState = ($nodes) => Array.from($nodes).map(($el, index) => {\r\n  return {\r\n    $el,\r\n    index,\r\n    isActive: false\r\n  };\r\n});\r\n\r\nconst initButtonState = ($nodes, className) => Array.from($nodes).reduce((result, $el) => {\r\n  let objKey;\r\n  if ($el.classList.contains(className.slideActionNext)) {\r\n    objKey = actionName.NEXT;\r\n  } else if ($el.classList.contains(className.slideActionPrevious)) {\r\n    objKey = actionName.PREVIOUS;\r\n  }\r\n\r\n  result[objKey] = {\r\n    $el,\r\n    isActive: false\r\n  };\r\n\r\n  return result;\r\n}, {});\r\n\r\nconst elementIsInContainerView = ($element, $container) => {\r\n  const containerScroll = $container.scrollLeft;\r\n  const containerWidth = getWidth($container);\r\n  const elementPosition = $element.offsetLeft - containerScroll;\r\n  const elementWidth = getWidth($element);\r\n  const initialScrollPosition = 0;\r\n\r\n  return (\r\n    elementPosition >= initialScrollPosition &&\r\n    elementPosition + elementWidth <= containerWidth\r\n  );\r\n};\r\n\r\nconst getElementPropertyValue = ($element, property) => {\r\n  const computedStyle = window.getComputedStyle($element);\r\n  return parseFloat(computedStyle.getPropertyValue(property), 10);\r\n}\r\n\r\nconst getElementMarginRight = ($element) => {\r\n  return getElementPropertyValue($element, 'margin-right');\r\n}\r\n\r\nconst getWidth = ($el) => $el.getBoundingClientRect().width;\r\n\r\nconst maxItemInContainer = (childWidth, parentWidth, offset) => parseInt((parentWidth - offset) / childWidth, 10);\r\n\r\nconst numberOfElementCanFitInContainerView = ($element, $container) => maxItemInContainer(getWidth($element), getWidth($container), getElementMarginRight($element));\r\n\r\nconst getElementIndex = (element) => [...element.parentNode.children].indexOf(element);\r\n\r\nconst setupActiveArticle = (state, $container) => {\r\n  return state.map(item => {\r\n    item.isActive = elementIsInContainerView(item.$el, $container);\r\n    return item;\r\n  });\r\n};\r\n\r\nconst setActiveArticle = (state, indexes) => {\r\n  return state.map(item => {\r\n    item.isActive = indexes.includes(item.index);\r\n    return item;\r\n  });\r\n};\r\n\r\nfunction setupSlideAction(state, $container) {\r\n  let { next, previous } = state;\r\n\r\n  previous.isActive = $container.scrollLeft !== 0;\r\n  next.isActive = $container.scrollLeft !== $container.scrollLeft + getWidth($container);\r\n  return state;\r\n}\r\n\r\nfunction initSelf(self) {\r\n  let { className } = self.options;\r\n  self.$el = self.options.el;\r\n\r\n  self.classSelector = {\r\n    content: `.${className.content}`,\r\n    articles: `.${className.articles}`,\r\n    article: `.${className.article}`,\r\n    articleDisable: `.${className.articleDisabled}`,\r\n    slideAction: `.${className.slideAction}`,\r\n  }\r\n\r\n  self.$content = self.$el.querySelector(self.classSelector.content);\r\n  self.$articles = self.$el.querySelector(self.classSelector.articles);\r\n  self.$articleNodes = self.$articles.querySelectorAll(self.classSelector.article);\r\n  self.$slideActionNodes = self.$el.querySelectorAll(self.classSelector.slideAction);\r\n  self.scrollTo = {\r\n    scrollLeft: (pos) => {\r\n      // easing functions http://goo.gl/5HLl8\r\n      Math.easeInOutQuad = function (t, b, c, d) {\r\n        t /= d / 2;\r\n        if (t < 1) {\r\n          return c / 2 * t * t + b\r\n        }\r\n        t--;\r\n        return -c / 2 * (t * (t - 2) - 1) + b;\r\n      };\r\n\r\n      Math.easeInCubic = function (t, b, c, d) {\r\n        var tc = (t /= d) * t * t;\r\n        return b + c * (tc);\r\n      };\r\n\r\n      Math.inOutQuintic = function (t, b, c, d) {\r\n        var ts = (t /= d) * t,\r\n          tc = ts * t;\r\n        return b + c * (6 * tc * ts + -15 * ts * ts + 10 * tc);\r\n      };\r\n\r\n      // requestAnimationFrame for Smart Animating http://goo.gl/sx5sts\r\n      var requestAnimFrame = (function () {\r\n        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) { window.setTimeout(callback, 1000 / 60); };\r\n      })();\r\n\r\n      function scrollTo(to, callback, duration) {\r\n        // because it's so fucking difficult to detect the scrolling element, just move them all\r\n        function move(amount) {\r\n          self.$articles.scrollLeft = amount;\r\n        }\r\n        function position() {\r\n          return self.$articles.scrollLeft;\r\n        }\r\n        var start = position(),\r\n          change = to - start,\r\n          currentTime = 0,\r\n          increment = 20;\r\n        duration = (typeof (duration) === 'undefined') ? 500 : duration;\r\n        var animateScroll = function () {\r\n          // increment the time\r\n          currentTime += increment;\r\n          // find the value with the quadratic in-out easing function\r\n          var val = Math.easeInOutQuad(currentTime, start, change, duration);\r\n          // move the document.body\r\n          move(val);\r\n          // do the animation unless its over\r\n          if (currentTime < duration) {\r\n            requestAnimFrame(animateScroll);\r\n          } else {\r\n            if (callback && typeof (callback) === 'function') {\r\n              // the animation is done so lets callback\r\n              callback();\r\n            }\r\n          }\r\n        };\r\n        animateScroll();\r\n      }\r\n      return scrollTo(pos, () => {}, 400);\r\n    }\r\n  }\r\n};\r\n\r\nfunction setupEvents(self) {\r\n  const { $articles, store } = self;\r\n  const getState = store.getState;\r\n  const executor = {\r\n    next: (index) => index + 1,\r\n    previous: (index) => index - 1\r\n  }\r\n\r\n  const updateItem = (action) => {\r\n    const states = getState();\r\n    let { articles: articlesState } = states;\r\n    const activeArticles = articlesState.filter((item) => item.isActive);\r\n    const newIndexes = [];\r\n    if (action === actionName.NEXT && articlesState[articlesState.length - 1].isActive) {\r\n      return;\r\n    }\r\n    if (action === actionName.PREVIOUS && articlesState[0].isActive) {\r\n      return;\r\n    }\r\n    const maxElem = numberOfElementCanFitInContainerView(articlesState[0].$el, $articles);\r\n    const firstIndex = activeArticles[0].index;\r\n\r\n    for (let i = 0; i < maxElem; i++) {\r\n      const newIndex = executor[action](firstIndex + i);\r\n      if (newIndex < articlesState.length || newIndex >= 0) {\r\n        newIndexes.push(newIndex);\r\n      }\r\n    }\r\n\r\n    self.store.dispatch({\r\n      type: 'SET_ACTIVE_ELEMENTS',\r\n      payload: newIndexes\r\n    });\r\n  };\r\n\r\n  const findActionOnIndexState = (target, states) => {\r\n    const { articles: articlesState } = states;\r\n    const currentArticles = articlesState.filter(item => item.isActive);\r\n    const index = getElementIndex(target);\r\n    if (!target.classList.contains(self.options.className.articleDisabled)) {\r\n      return;\r\n    }\r\n    let action;\r\n    if (index > currentArticles[currentArticles.length - 1].index) {\r\n      action = actionName.NEXT;\r\n    }\r\n\r\n    if (index < currentArticles[0].index) {\r\n      action = actionName.PREVIOUS;\r\n    }\r\n    return action;\r\n  };\r\n\r\n  (() => {\r\n    self.$slideActionNodes.forEach(($el) => {\r\n      const action = $el.classList.contains(self.options.className.slideActionNext) ? actionName.NEXT : actionName.PREVIOUS;\r\n      $el.addEventListener('click', (e) => {\r\n        updateItem(action);\r\n      });\r\n    });\r\n  })();\r\n\r\n  (() => {\r\n    let currentDelta = 0;\r\n    $articles.addEventListener('wheel', (e) => {\r\n      e.preventDefault();\r\n    });\r\n\r\n    $articles.addEventListener('wheel', debounce((e) => {\r\n      currentDelta += (e.deltaY > 0 ? 1 : -1);\r\n      if (Math.abs(currentDelta) > 3) {\r\n        let action = currentDelta > 0 ? actionName.NEXT : actionName.PREVIOUS;\r\n        updateItem(action);\r\n        currentDelta = 0;\r\n      }\r\n    }), 400);\r\n  })();\r\n\r\n  (() => {\r\n    let currentPos;\r\n    let action;\r\n    let timeout;\r\n    let currentScroll;\r\n    let isTap;\r\n    let hasEnded;\r\n    let maxScrollDistance;\r\n    const tapDistance = 30;\r\n    const endMove = (e) => {\r\n      updateItem(action);\r\n    };\r\n\r\n    $articles.addEventListener('touchstart', (e) => {\r\n      e.preventDefault();\r\n      currentPos = e.touches[0].clientX;\r\n      currentScroll = $articles.scrollLeft;\r\n      isTap = true;\r\n      hasEnded = false;\r\n      maxScrollDistance = getWidth(self.$articles) * 0.25;\r\n    });\r\n\r\n    $articles.addEventListener('touchmove', (e) => {\r\n      if (hasEnded) return;\r\n      if (timeout) {\r\n        window.cancelAnimationFrame(timeout);\r\n      }\r\n\r\n      timeout = window.requestAnimationFrame(function () {\r\n        const offset = currentPos - e.touches[0].clientX;\r\n        action = offset > 0 ? actionName.NEXT : actionName.PREVIOUS;\r\n        isTap = Math.abs(offset) < tapDistance;\r\n\r\n        if (!isTap) {\r\n          $articles.scrollLeft = currentScroll + offset;\r\n        }\r\n\r\n        if (Math.abs(offset) > maxScrollDistance) {\r\n          endMove(e);\r\n          hasEnded = true;\r\n        }\r\n      });\r\n    });\r\n\r\n    $articles.addEventListener('touchend', (e) => {\r\n      if (isTap) {\r\n        const isAnchor = e.target.tagName === 'A';\r\n        const isDisabledArticle = e.target.classList.contains(self.options.className.articleDisabled);\r\n        if (isAnchor) {\r\n          e.target.click();\r\n        } else if (isDisabledArticle) {\r\n          const states = getState();\r\n          const action = findActionOnIndexState(e.target, states);\r\n          if (!action) return;\r\n\r\n          updateItem(action);\r\n        }\r\n      } else {\r\n        if (!hasEnded) {\r\n          endMove(e);\r\n        }\r\n      }\r\n    });\r\n  })();\r\n\r\n  (() => {\r\n    const states = getState();\r\n    const { articles: articlesState } = states;\r\n    articlesState.forEach(item => {\r\n      const { $el } = item;\r\n      $el.addEventListener('click', (e) => {\r\n        const states = getState();\r\n        const action = findActionOnIndexState(e.target, states);\r\n        if (!action) return;\r\n\r\n        updateItem(action);\r\n      });\r\n    })\r\n  })();\r\n\r\n  (() => {\r\n    let currentArticleWidth = getWidth(self.$articles);\r\n    window.addEventListener('resize', debounce((e) => {\r\n      const newArticleWidth = getWidth(self.$articles);\r\n      const articleWidthChanged = currentArticleWidth !== newArticleWidth;\r\n      currentArticleWidth = newArticleWidth;\r\n\r\n      if (articleWidthChanged) {\r\n        self.store.dispatch({\r\n          type: 'UPDATE_CONTAINER_WIDTH',\r\n          payload: getWidth($articles)\r\n        });\r\n      }\r\n    }), 100);\r\n  })();\r\n};\r\n\r\nfunction initStore() {\r\n  function articles(state, action) {\r\n    if (!state) {\r\n      state = setupActiveArticle(initArticlesState(this.$articleNodes), this.$articles);\r\n    }\r\n\r\n    switch (action.type) {\r\n      case 'SET_ACTIVE_ELEMENTS':\r\n        return action.payload && action.payload.length > 0 ? setActiveArticle(state, action.payload) : state;\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n\r\n  function buttons(state, action) {\r\n    if (!state) {\r\n      state = setupSlideAction(initButtonState(this.$slideActionNodes, this.options.className), this.$articles);\r\n    }\r\n\r\n    switch (action.type) {\r\n      case 'UPDATE_BUTTON':\r\n        state.next.isActive = typeof action.payload.next === 'boolean' ? action.payload.next : state.next.isActive;\r\n        state.previous.isActive = typeof action.payload.previous === 'boolean' ? action.payload.previous : state.previous.isActive;\r\n        return state;\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n\r\n  function position(state = 0, action) {\r\n    switch (action.type) {\r\n      case 'UPDATE_POSITION':\r\n        return action.payload;\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n\r\n  function lastAction(state = null, action) {\r\n    return action;\r\n  }\r\n\r\n  function containerWidth(state = null, action) {\r\n    switch (action) {\r\n      case 'UPDATE_CONTAINER_WIDTH':\r\n        return action.payload;\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n\r\n  const storeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n  this.store = createStore(combineReducers({\r\n    articles: articles.bind(this),\r\n    buttons: buttons.bind(this),\r\n    position: position.bind(this),\r\n    containerWidth: containerWidth.bind(this),\r\n    lastAction: lastAction.bind(this)\r\n  }), storeEnhancers());\r\n\r\n  return this.store;\r\n}\r\n\r\nfunction render() {\r\n  const self = this;\r\n  const { store, $articles } = self;\r\n  const state = store.getState();\r\n  let type = state.lastAction.type;\r\n\r\n  if (type.includes('INIT')) {\r\n    type = '@@INIT';\r\n  }\r\n\r\n  const rendering = {\r\n    '@@INIT': () => {\r\n      self.store.dispatch({\r\n        type: 'UPDATE_CONTAINER_WIDTH',\r\n        payload: getWidth($articles)\r\n      });\r\n\r\n    },\r\n    UPDATE_CONTAINER_WIDTH: () => {\r\n      const { articles: articlesState } = state;\r\n      const maxElem = numberOfElementCanFitInContainerView(articlesState[0].$el, $articles);\r\n      const activeArticles = articlesState.filter(item => item.isActive);\r\n      let firstArticleIndex = 0;\r\n      const indexes = [];\r\n\r\n      if (activeArticles) {\r\n        firstArticleIndex = activeArticles[0].index;\r\n      }\r\n\r\n      for (let i = 0; i < maxElem; i++) {\r\n        let nextIndex = i + firstArticleIndex;\r\n        if (nextIndex > articlesState.length) {\r\n          nextIndex = nextIndex - (i * 2);\r\n        }\r\n\r\n        indexes.push(nextIndex);\r\n      }\r\n\r\n      self.store.dispatch({\r\n        type: 'SET_ACTIVE_ELEMENTS',\r\n        payload: indexes\r\n      });\r\n    },\r\n    SET_ACTIVE_ELEMENTS: () => {\r\n      const { articles: articlesState } = state;\r\n      const { $articles } = self;\r\n      const activeArticles = articlesState.filter(item => item.isActive);\r\n      if (activeArticles.length === 0) return;\r\n\r\n      const activeArticlesWidth = activeArticles.reduce((result, item) => {\r\n        return result + getWidth(item.$el);\r\n      }, 0);\r\n      const elemMarginRight = getElementMarginRight(activeArticles[0].$el);\r\n      const activeArticlesWidthWithMargin = activeArticlesWidth + (elemMarginRight * (activeArticles.length - 1));\r\n      const activeArticlesLeftOffset = activeArticles[0].$el.offsetLeft - $articles.offsetLeft;\r\n      const offset = ($articles.clientWidth - activeArticlesWidthWithMargin) / 2;\r\n\r\n      articlesState.forEach((item) => {\r\n        if (item.isActive) {\r\n          item.$el.classList.remove(self.options.className.articleDisabled);\r\n        } else {\r\n          item.$el.classList.add(self.options.className.articleDisabled);\r\n        }\r\n      });\r\n\r\n      store.dispatch({\r\n        type: 'UPDATE_POSITION',\r\n        payload: activeArticlesLeftOffset - offset\r\n      });\r\n\r\n      store.dispatch({\r\n        type: 'UPDATE_BUTTON',\r\n        payload: {\r\n          next: !articlesState[articlesState.length - 1].isActive,\r\n          previous: !articlesState[0].isActive\r\n        }\r\n      });\r\n    },\r\n    UPDATE_BUTTON: () => {\r\n      const { buttons: buttonsState } = state;\r\n      for (const [action, item] of Object.entries(buttonsState)) {\r\n        if (item.isActive) {\r\n          item.$el.classList.add(self.options.className.slideActionShow);\r\n        } else {\r\n          item.$el.classList.remove(self.options.className.slideActionShow);\r\n        }\r\n      }\r\n    },\r\n    UPDATE_POSITION: () => {\r\n      const { position: positionState } = state;\r\n\r\n      self.scrollTo.scrollLeft(positionState);\r\n    }\r\n  }\r\n\r\n  typeof rendering[type] !== 'undefined' && rendering[type]();\r\n};\r\n\r\nexport default class RelatedReads {\r\n  constructor(options) {\r\n    this.options = {\r\n      ...defaultOptions,\r\n      ...options\r\n    };\r\n\r\n    initSelf(this);\r\n    (initStore.bind(this))();\r\n\r\n    const rendering = render.bind(this);\r\n    this.store.subscribe(rendering);\r\n    rendering();\r\n    setupEvents(this);\r\n  }\r\n};\r\n","import $ from 'jquery';\r\n\r\nexport default class Richtext {\r\n  constructor(config) {\r\n    this.config = $.extend(\r\n      {\r\n        el: '.richtext'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.bindEvents();\r\n    this.removeUnderlineFromAs();\r\n  }\r\n\r\n  bindEvents() {}\r\n\r\n  removeUnderlineFromAs() {\r\n    this.$el.find('a').each(function() {\r\n      $(this)\r\n        .has('span')\r\n        .css('text-decoration', 'none');\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Class: Search\r\n * Description: Type-ahead search function\r\n * Revision: 23032017\r\n * Notes: Animation tool could possible be exchanged with transitjs or velocityjs for better results.\r\n **/\r\n\r\nimport $ from 'jquery';\r\nimport 'typeahead.js';\r\nimport Bloodhound from 'typeahead.js';\r\n\r\nexport default class Search {\r\n  constructor(config) {\r\n    this.config = $.extend({}, config);\r\n\r\n    this.$el = $(this.config.el);\r\n    // Get inline-html settings\r\n    //this.$width = ($(this.$el).data('width') ? $(this.$el).data('width') + 'px' : '250px');\r\n\r\n    // Force the size of the input field dependant on data-width\r\n    // This adds easy implemented dynamic sizing - and it forces\r\n    // Twitter typeahead to match the size.\r\n    //$(this.$el).css({ width: this.$width });\r\n\r\n    // Initiate Bloodhound\r\n    this.states = new Bloodhound({\r\n      datumTokenizer: Bloodhound.tokenizers.whitespace,\r\n      queryTokenizer: Bloodhound.tokenizers.whitespace,\r\n      remote: {\r\n        url: '/api/search/ankiro/typeahead?phrase=%QUERY',\r\n        wildcard: '%QUERY',\r\n        filter: function(response) {\r\n          return response.List;\r\n        }\r\n      }\r\n    });\r\n    // Bind Typeahead\r\n    $(this.$el).typeahead(\r\n      {\r\n        minLength: 3,\r\n        highlight: true,\r\n        hint: false,\r\n        limit: 10\r\n      },\r\n      {\r\n        name: 'List',\r\n        //display: 'Term',\r\n        displayKey: function(states) {\r\n          return states.Term;\r\n        },\r\n        source: this.states\r\n      }\r\n    );\r\n\r\n    this.$twitterParent = this.$el.parents('.twitter-typeahead');\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    var self = this;\r\n\r\n    // Bind Search Button\r\n    // Dual-functionality to show field and to submit, when field is shown.\r\n    $('button.search-button').on('click', function(e) {\r\n      // Find the Nearest input wrapper\r\n      var elem = $(this).closest('.input-wrapper');\r\n\r\n      // Check wether or not the input field is visible\r\n      // Show if it isn't visibile and prevent default\r\n      // Default behaviour when the field is shown - else we can't search.\r\n      if (\r\n        $(elem)\r\n          .find('input')\r\n          .is(':visible')\r\n      ) {\r\n        //self.hideSearch(elem);\r\n      } else {\r\n        e.preventDefault();\r\n        self.showSearch(elem, self.$width);\r\n      }\r\n    });\r\n\r\n    // Register When Field Loses focus - and hides it.\r\n    // ** Wanted behaviour? **\r\n    $('.input-wrapper input').focusout(function(/* e */) {\r\n      var elem = $(this).closest('.input-wrapper');\r\n      self.hideSearch(elem);\r\n    });\r\n\r\n    // Bind Escape to hide Search Field\r\n    // Possibly clear search query (?)\r\n    $(document).keyup(function(e) {\r\n      var elem = $(self.$el).closest('.input-wrapper');\r\n\r\n      // Check if input is visible\r\n      if (\r\n        $(elem)\r\n          .find('input')\r\n          .is(':visible')\r\n      ) {\r\n        // Check for ESC hit\r\n        if (e.keyCode === 27) {\r\n          // Hide the search field\r\n          self.hideSearch(elem);\r\n        }\r\n      }\r\n    });\r\n\r\n    // this.$searchInput.on(\"typeahead:active\", function() {\r\n    //     //if a search has previously been made, and the search-field has been de-focused, remove old results.\r\n    // });\r\n    // this.$el is the inputfield for the searchbar\r\n    this.$el.on('typeahead:render', function() {\r\n      if (self.$twitterParent.find('.tt-open.tt-empty').length > 0) {\r\n        //no results\r\n        //console.log(\"open, no results, remove class\");\r\n        self.$el.parent().removeClass('awesomplete-open');\r\n      } else {\r\n        //console.log(\"open, has results, add class\");\r\n        self.$el.parent().addClass('awesomplete-open');\r\n\r\n        // This is used because the col-in-viewport has a transform property put on because of animate-in transition, that causes\r\n        // the dropdown to be hidden behind the preceeding row.\r\n        // therefor we remove the .col's transition and transform first time its clicked.\r\n        if (self.$el.parents('.col-in-viewport-inited').length !== 0) {\r\n          if (\r\n            !self.$el\r\n              .parents('.col-in-viewport-inited')\r\n              .hasClass('col-in-viewport-notransform')\r\n          ) {\r\n            self.$el\r\n              .parents('.col-in-viewport-inited')\r\n              .addClass('col-in-viewport-notransform');\r\n          }\r\n        }\r\n      }\r\n    });\r\n    this.$el.on('typeahead:close', function() {\r\n      //console.log(\"close\");\r\n      self.$el.parent().removeClass('awesomplete-open');\r\n      //console.log(\"emptying\");\r\n      self.$twitterParent.find('.tt-dataset.tt-dataset-List').empty(); //Comment this out if you want to keep the results in the DOM (for debugging)\r\n    });\r\n\r\n    this.$el.on('awesomplete-open', function() {\r\n      self.$el.parent().addClass('awesomplete-open');\r\n    });\r\n    this.$el.on('awesomplete-close', function() {\r\n      self.$el.parent().removeClass('awesomplete-open');\r\n    });\r\n  }\r\n\r\n  // Hide Search Field\r\n  // Subject to change.\r\n  hideSearch(elem) {\r\n    $(elem)\r\n      .find('input')\r\n      .fadeOut('fast');\r\n    $(elem)\r\n      .delay(300)\r\n      .animate({\r\n        width: '41px'\r\n      })\r\n      .delay(300)\r\n      .queue(function() {\r\n        $(elem)\r\n          .addClass('hidden')\r\n          .dequeue();\r\n      });\r\n  }\r\n\r\n  // Show Search Field\r\n  showSearch(elem, width) {\r\n    $(elem)\r\n      .stop()\r\n      .removeClass('hidden')\r\n      .delay(300)\r\n      .animate({\r\n        width: width\r\n      });\r\n    $(elem)\r\n      .find('input')\r\n      .stop()\r\n      .delay(500)\r\n      .fadeIn()\r\n      .delay(200)\r\n      .queue(function() {\r\n        $(elem)\r\n          .find('input')\r\n          .focus()\r\n          .dequeue();\r\n      });\r\n  }\r\n}\r\n","import InViewPort from \"../base/inViewPort/inViewPort\";\r\nimport { getElement } from \"../base/utils/utils\";\r\n\r\nconst defaultOptions = {};\r\n\r\nfunction initSection() {\r\n  new InViewPort({\r\n    el: this.$el,\r\n    inViewinitedClass: \"col-in-viewport-inited\",\r\n    inViewClass: \"col-was-in-viewport\",\r\n    inViewCurrentClass: \"col-in-viewport\",\r\n    eventName: \"columnInView\",\r\n    offsetBottom: -50,\r\n    offsetTop: 800\r\n  });\r\n}\r\n\r\nclass Section {\r\n  constructor(options) {\r\n    this.options = {\r\n      ...defaultOptions,\r\n      ...options\r\n    };\r\n\r\n    this.$el = getElement(this.options.el);\r\n\r\n    if (!this.$el) {\r\n      throw new Error(\"Selected section is not exist\");\r\n    }\r\n\r\n    initSection.bind(this)();\r\n  }\r\n}\r\n\r\nexport default Section;\r\n","/**\r\n * Class: Sitemap\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\n\r\nexport default class Sitemap {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.sitemap'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    this.$sitemapTop = this.$el.find('.sitemap-top');\r\n    this.$sitemapTopRow = this.$el.find(\r\n      '.sitemap-top > .row, .sitemap-top.row'\r\n    );\r\n    this.$expands = this.$el.find('.sitemap-expand');\r\n\r\n    if (this.$el.length) {\r\n      this.init();\r\n    }\r\n  }\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n  bindEvents() {\r\n    var self = this;\r\n    this.$expands.find('.expand-trigger').on({\r\n      click: function(/* e */) {\r\n        var $parent = $(this).parents('.expand');\r\n        if (!$parent.data('module').isVisible) {\r\n          self.closeAllexpands();\r\n        }\r\n        self.checkExpands();\r\n      }\r\n    });\r\n  }\r\n  closeAllexpands() {\r\n    $.each(this.$expands, function(i, el) {\r\n      $(el)\r\n        .data('module')\r\n        .close();\r\n    });\r\n  }\r\n  checkExpands() {\r\n    var allClosed = false;\r\n    $.each(this.$expands, function(i, el) {\r\n      if ($(el).data('module').isVisible) {\r\n        allClosed = true;\r\n      }\r\n    });\r\n    if (allClosed) {\r\n      this.$sitemapTop.removeClass('has-open-expand');\r\n      this.$sitemapTopRow.addClass('theme-blue');\r\n      this.$sitemapTopRow.removeClass('theme-white-blue');\r\n    } else {\r\n      this.$sitemapTop.addClass('has-open-expand');\r\n      this.$sitemapTopRow.removeClass('theme-blue');\r\n      this.$sitemapTopRow.addClass('theme-white-blue');\r\n    }\r\n  }\r\n}\r\n","/**\r\n * Class: Social\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\n\r\nexport default class Social {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) { // put in defaults here\r\n    this.config = $.extend({\r\n      el: '.social-media-feed'\r\n    },config);\r\n    this.$el = $(this.config.el);\r\n    this.init();\r\n  }\r\n  init() {\r\n    this.bindEvents();\r\n\r\n    this.initTwitter();\r\n    this.initColoredContentBanner();\r\n  }\r\n  bindEvents() {\r\n    // bind your events here.\r\n  }\r\n\r\n  initTwitter() {\r\n    setTimeout(() => {\r\n      const $twitter = this.$el.find('.twitter-feed');\r\n      if ($twitter.find('iframe').length === 0) {\r\n        $twitter.find('.twitter-timeline').addClass('social-media-feed--hide');\r\n        $twitter.find('.social-media-feed__fallback').removeClass('social-media-feed--hide');\r\n        $twitter.parent('.twitter').css('overflow', 'hidden');\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n  initColoredContentBanner() {\r\n    const $coloredContentBanner = this.$el\r\n      .filter('.fifty-percent-feed')\r\n      .parent('.coloredContentBox-cta');\r\n\r\n    if ($coloredContentBanner.length > 0) {\r\n      $coloredContentBanner.addClass('coloredContentBox-cta--social-media-fifty');\r\n    }\r\n  }\r\n}\r\n","/**\n * Class: Stock\n * Description: Component used in Horizontal Stock Teaser\n */\n\nimport $ from 'jquery';\nimport moment from 'moment';\nimport { DateFormatingOptions, getGlobalSettings } from '../base/utils/utils';\n\nexport default class Stock {\n  constructor(config) {\n    this.config = $.extend(\n      {\n        el: '.stock',\n        dongLast: '.stock-value',\n        dongDelta: '.stock-delta',\n        dongVolume: '.stock-volume-value',\n        dongLastDate: '.stock-latest-value',\n        omxLast: '.stock-index-value',\n        omxDelta: '.stock-index-delta',\n\n        apiAddress: '/api/stockfeed/dong',\n        apiPollingPeriod: 5000,\n        negativeClass: 'is-negative',\n        dateFormat: DateFormatingOptions.dateFormat,\n        numberLocale: getGlobalSettings('numberLocale')\n      },\n      config\n    );\n    this.$el = $(this.config.el);\n    this.$dongLast = this.$el.find(this.config.dongLast);\n    this.$dongDelta = this.$el.find(this.config.dongDelta);\n    this.$dongVolume = this.$el.find(this.config.dongVolume);\n    this.$dongLastDate = this.$el.find(this.config.dongLastDate);\n    this.$omxLast = this.$el.find(this.config.omxLast);\n    this.$omxDelta = this.$el.find(this.config.omxDelta);\n    this.lastData = null;\n\n    if (this.$el.length > 0) this.init();\n  }\n\n  init() {\n    this.sendRequest();\n  }\n\n  sendRequest() {\n    $.get({\n      url: this.config.apiAddress,\n      success: this.refilStockDataOnElement.bind(this),\n      error: this.requestFail.bind(this)\n    });\n  }\n\n  changeDataRegexReplacer(match, p1,p2, p3, p4, p5) {\n    return p1 + this.convertNumberFormat(p2, 2) + p3 + p4 + this.convertNumberFormat(p5, 2);\n  }\n\n  refilStockDataOnElement(data) {\n    var reponseCheckValue = JSON.stringify(data.response);\n    const changeDataRegex = /^(\\+|\\-)([\\d\\.]+)([\\s\\/[a-zA-Z]+)(\\+|\\-)([\\d\\.]+)/;\n\n    if (this.lastData != reponseCheckValue) {\n      this.lastData = reponseCheckValue;\n      this.$dongLast.text(this.convertNumberFormat(data.response.DongLast, 2));\n      this.$dongDelta.text(data.response.DongChange.replace(changeDataRegex, this.changeDataRegexReplacer.bind(this)));\n      this.proccessNegativeClass(this.$dongDelta, data.response.DongChange);\n      this.$dongVolume.text(this.convertNumberFormat(data.response.DongVolume));\n      var formattedDate = moment(data.response.Date).format(this.config.dateFormat);\n      this.$dongLastDate.html(formattedDate);\n      this.$omxLast.text(this.convertNumberFormat(data.response.OMXC20Last, 2));\n      this.$omxDelta.text(data.response.OMXC20Change.replace(changeDataRegex, this.changeDataRegexReplacer.bind(this)));\n      this.proccessNegativeClass(this.$omxDelta, data.response.OMXC20Change);\n    }\n\n    setTimeout(this.sendRequest.bind(this), 5000);\n  }\n\n  convertNumberFormat(str, decimalPlace = 0) {\n    const number = +str.replace(\",\", \"\");\n    return number.toLocaleString(this.config.numberLocale, {minimumFractionDigits: decimalPlace});  \n  }\n\n  proccessNegativeClass($elem, response) {\n    if (response.indexOf('-') > -1) {\n      $elem.addClass(this.config.negativeClass);\n    } else {\n      $elem.removeClass(this.config.negativeClass);\n    }\n  }\n\n  requestFail() {\n    setTimeout(this.sendRequest.bind(this), 5000);\n  }\n}\n","/**\r\n * Class: Table\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\nimport * as utils from '../base/utils/utils';\r\n\r\nexport default class Table {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(config) {\r\n    this.config = $.extend(\r\n      {\r\n        el: '.richtext'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    this.init();\r\n  }\r\n  init() {\r\n    this.bindEvents();\r\n    if (!utils.$body.hasClass('is-experience-editing')) {\r\n      this.fixRichtextTableHeader();\r\n      this.addMobileHeader();\r\n    }\r\n  }\r\n\r\n  fixRichtextTableHeader() {\r\n    this.$el.find('table').each(function() {\r\n      var thead = $(this).find('th');\r\n      $(this)\r\n        .find('tbody')\r\n        .find('tr')\r\n        .each(function() {\r\n          $(this)\r\n            .find('td')\r\n            .each(function(tdIndex) {\r\n              if (\r\n                typeof thead !== 'undefined' &&\r\n                typeof thead[tdIndex] !== 'undefined'\r\n              ) {\r\n                $(this).attr('data-label', $(thead[tdIndex]).text());\r\n              } else {\r\n                $(this).attr('data-label', '');\r\n              }\r\n            });\r\n        });\r\n    });\r\n  }\r\n\r\n  addMobileHeader(){\r\n    this.$el.find(\"table\").each(function() {\r\n        let mobileHeaderText = $(this).attr(\"summary\");\r\n        mobileHeaderText = mobileHeaderText ? mobileHeaderText.trim() : \"\"; // Cast falsible types to an empty string.\r\n        if (mobileHeaderText !== \"\") {\r\n          $(this).before(`<div class='table-mobile-head'>${mobileHeaderText}</div>`);\r\n        }\r\n    });\r\n  }\r\n\r\n  bindEvents() {\r\n    // bind your events here.\r\n\r\n    // Linking TR Rows with data-href attributes\r\n    $('tr[data-href]').on('click', function() {\r\n      document.location = $(this).data('href');\r\n    });\r\n  }\r\n}\r\n","/**\n * Class: Teaser\n * Description: Her goes description\n */\n// import {utils} from '../../js/main';\nimport $ from \"jquery\";\nimport { emitter } from \"../base/emitter/emitter\";\nimport Modernizr from \"modernizr\";\nimport { imageFallBack, getImageSize } from \"../base/utils/utils\";\nexport default class Teaser {\n  constructor(config) {\n    this.config = $.extend(\n      {\n        $el: \".image\"\n      },\n      config\n    );\n    this.$el = $(this.config.$el);\n    this.$imageTag = this.$el.find(\".image__element\");\n    this.$teaserSvgImage = this.$el.find(\".teaser-svg-image\");\n    this.isInfoGraphic = this.$imageTag.hasClass(\"infographic__image\");\n    this.init();\n  }\n  init() {\n    this.bindEvents();\n  }\n  bindEvents() {\n    var self = this;\n\n    // Fix for IE11. Converts to div element\n    if (\n      !Modernizr.objectfit &&\n      self.$teaserSvgImage.length === 0 &&\n      !this.isInfoGraphic\n    ) {\n      imageFallBack({ image: self.$imageTag });\n    }\n\n    if (self.$teaserSvgImage.length > 0 && !this.isInfoGraphic) {\n      // Fix for IE11. Scale svg images and keep div\n      if (!Modernizr.objectfit) {\n        const imageSize = getImageSize(self.$teaserSvgImage);\n\n        imageFallBack({\n          image: self.$teaserSvgImage,\n          width: imageSize.width,\n          height: imageSize.height,\n          cssClasses:\n            \"teaser-img background-image-center-center teaser-svg-image\",\n          svgDimensions: {\n            height: self.$teaserSvgImage.attr(\"data-svg-height\"),\n            width: self.$teaserSvgImage.attr(\"data-svg-width\")\n          }\n        });\n\n        emitter.on(\"resize\", function() {\n          let teaserImg = self.$el.find(\"div.teaser-svg-image\");\n          let imageSize = getImageSize(teaserImg);\n          teaserImg.css({\n            \"background-size\": `${imageSize.width}px ${imageSize.height}px `\n          });\n        });\n      } else {\n        emitter.on(\"resize\", function() {\n          let imageSize = getImageSize(self.$teaserSvgImage);\n          self.$teaserSvgImage.css({\n            width: imageSize.width,\n            height: imageSize.height\n          });\n        });\n      }\n    }\n  }\n}\n","/**\n * Class: TeaserMedium\n * Description: Her goes description\n */\n// import {utils} from '../../js/main';\nimport $ from \"jquery\";\nimport { emitter } from \"../base/emitter/emitter\";\n\nexport default class TeaserMedium {\n  constructor(config) {\n    this.config = $.extend(\n      {\n        $el: \".image\"\n      },\n      config\n    );\n    this.$el = $(this.config.$el);\n    this.init();\n  }\n  init() {\n    this.bindEvents();\n  }\n  bindEvents() {\n    var self = this;\n\n    $(function() {\n      TeaserMedium.setBackgroundSize($(this));\n    });\n\n    emitter.on(\"resize\", function() {\n      TeaserMedium.changeTwoColumnTeaserStyling(self.$el);\n    });\n  }\n\n  static changeTwoColumnTeaserStyling($el) {\n    var teaserImages = $el.find(\".teaser-svg-image\");\n    teaserImages.each(function() {      \n      TeaserMedium.setBackgroundSize($(this));\n    });\n  }\n\n  static setBackgroundSize($this) {    \n    var imgWidth = $this.data(\"svg-width\");\n    var imgHeight = $this.data(\"svg-height\");\n\n    var containerWidth = $this.parent().width();\n    var containerHeight = $this.parent().height();\n\n    var imgRatio = imgHeight / imgWidth;\n    var containerRatio = containerHeight / containerWidth;\n\n    var finalWidth;\n    var finalHeight;\n\n    if (containerRatio > imgRatio) {\n      finalHeight = containerHeight;\n      finalWidth = containerHeight / imgRatio;\n    } else {\n      finalWidth = containerWidth;\n      finalHeight = containerWidth * imgRatio;\n    }\n    $this.css(\"background-size\", finalWidth + \"px \" + finalHeight + \"px\");\n  }\n}\n","/**\n * Class: Timeline\n */\nimport { emitter } from '../base/emitter/emitter';\nimport videojs from 'video.js';\n\nexport default class Timeline {\n\t/**\n\t * @param {number} param this is param.\n\t * @return {number} this is return.\n\t */\n  constructor(config) { // put in defaults here\n    //defaults\n    this.config = $.extend({\n      el: '.timeline',\n      contentBaseUrl: '/'\n    }, config);\n    this.$el = $(this.config.el);\n    this.$anchorContainer = this.$el.find('.timeline-anchor-container');\n    this.anchorClass = '.timeline-anchor';\n    this.anchorClassActive = 'timeline-anchor-active';\n    this.$anchors = this.$el.find(this.anchorClass);\n    this.$anchorContentContainer = this.$el.find('.timeline-anchor-content-container');\n    this.anchorContentClass = '.timeline-anchor-content';\n    this.anchorContentClassActive = 'timeline-anchor-content-active';\n    this.$anchorContents = this.$el.find(this.anchorContentClass);\n    this.$mobileSelect = this.$el.find('.select-anchors select');\n    this.activeId = 1;\n    this.maxHeight = this.$el.data('maxHeight');\n    this.$btnUp = this.$el.find('.timeline-anchor-container-arrow-up');\n    this.$btnDown = this.$el.find('.timeline-anchor-container-arrow-down');\n    this.$leftContainer = this.$el.find('.timeline-main-left');\n    this.$scrollContainer = this.$el.find('.timeline-main-left-inner');\n\t\tthis.loadedContainer = [];\n\t\t\n\t\tif (this.$el.length){\t\t\t\t\n\t\t\tthis.externalAnchor = $('a[name]').is(':empty')? $('a[name]'): null;\t\n      this.init();\n    }\n  }\n  init() {\n    this.bindEvents();\n    this.setOverflow();\n    var activeId = 0;\n\tvar firstIds = this.$el.find('[data-tagid]:first').attr('data-id');\n\n    if (this.externalAnchor) {\n      this.externalAnchorIEfix(this.externalAnchor);\n    }\n\n    this.toggleActive(firstIds, false);\n\tif (window.location.hash && !this.matchAnchorHash()) {\n      var hashtag = window.location.hash.substring(1);\n      activeId = this.$el.find('[data-tagid=' + hashtag + '],[data-tagid-old=' + hashtag + ']').attr('data-id');\n    }\n    else {\n      activeId = this.$el.find(\".\" + this.anchorContentClassActive).attr('data-id');\n    }\n    this.toggleActive(activeId);\n  }\n  bindEvents() {\n    var self = this;\n    this.$el.on({\n      click: function (e) {\n        const id = $(this).data('id');\n        self.toggleActive(id, true);\n      }\n    }, this.anchorClass);\n    this.$btnUp.on({\n      click: function (e) {\n        self.scrollTimelineUp($(this));\n      }\n    })\n    this.$btnDown.on({\n      click: function (e) {\n        self.scrollTimelineDown($(this));\n      }\n    })\n    this.$mobileSelect.on({\n      change: function (e) {\n        self.toggleActive($(this).val(), true);\n      }\n    })\n    emitter.on('responsive/sizechange', function (size) {\n      if (size !== 'small') {\n        self.setOverflow();\n      }\n    });\n\n    $(document).ajaxSuccess(function () {\n      if ($('html').find(\".timeline\").length > 0) {\n        $(window).trigger(\"timeline-load\");\n      }\n    });\n\n    $(document).ready(function () {\n      var trueheight = $(\".timeline-main-left.has-overflow\").height() - 30;\n      var trueheightstring = trueheight + \"px\";\n      if (navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1) {\n        $(\".timeline-main-left-inner\").css({\n          \"maxHeight\": trueheight\n        });\n        ;\n      }\n    });\n  }\n  externalAnchorIEfix($el) {\n    //IE fix\n    $el.attr(\"id\", $el.attr(\"name\")).css('display', 'inline-block');\n  }\n  matchAnchorHash() {\n    var match = false;\n    if (this.externalAnchor) {\n      this.externalAnchor.each(function () {\n        if ($(this).attr('name') === window.location.hash.substring(1)) {\n          match = true;\n        }\n      });\n    }\n    return match;\n  }\n  disableAllArrows() {\n    this.$btnUp.removeClass('timeline-arrow-disabled');\n    this.$btnDown.removeClass('timeline-arrow-disabled');\n  }\n  scrollTimelineUp($arrow) {\n    var self = this;\n    var scrollTop = this.$scrollContainer.scrollTop() - this.$scrollContainer.height();\n    this.$scrollContainer.animate({ scrollTop: scrollTop }, '100', 'swing', function () {\n      self.disableAllArrows();\n      if (self.$scrollContainer.scrollTop() == 0) {\n        $arrow.addClass('timeline-arrow-disabled');\n      }\n    });\n  }\n  scrollTimelineDown($arrow) {\n    var self = this;\n    var scrollTop = this.$scrollContainer.scrollTop() + this.$scrollContainer.height() - 60;\n    this.$scrollContainer.animate({ scrollTop: scrollTop }, '100', 'swing', function () {\n      self.disableAllArrows();\n      if (self.$scrollContainer.scrollTop() >= self.$anchorContainer.outerHeight() - self.$scrollContainer.outerHeight() - 60) {\n        $arrow.addClass('timeline-arrow-disabled');\n      }\n    });\n  }\n  toggleActive(id, changed) {\n\tif (!id)\n\t\treturn;\n    this.$mobileSelect.val(id);\n    this.resetActive(id);\n    this.setActive(id, changed);\n    this.setOverflow();\n  }\n  setOverflow() {\n    if (this.$scrollContainer.outerHeight() < this.$anchorContainer.outerHeight()) {\n      this.$leftContainer.addClass('has-overflow');\n    } else {\n      this.$leftContainer.removeClass('has-overflow');\n    }\n\n  }\n  setActive(id, changed) {\n    var activeElements = this.getElementsById(id);\n\n    activeElements.$anchor.addClass(this.anchorClassActive);\n\n    activeElements.$content.addClass('timeline-anchor-content-active');\n    if (!!activeElements.$content.attr('data-tagid') && !this.matchAnchorHash() && changed !== false) {\n      window.location.hash = activeElements.$content.attr('data-tagid');\n    }\n\n    if (!!activeElements.$content.attr('data-tagid') && changed === true) {\n      window.location.hash = activeElements.$content.attr('data-tagid');\n    }\n    this.activeId = id;\n  }\n  resetActive(id) {\n    var $activeContent = this.$el.find(\".\" + this.anchorContentClassActive);\n    var $activeAnchor = this.$el.find(\".\" + this.anchorClassActive);\n    $activeContent.removeClass(this.anchorContentClassActive);\n    $activeAnchor.removeClass(this.anchorClassActive);\n  }\n  getElementsById(id) {\n    return {\n      $anchor: this.$anchorContainer.find('[data-id=' + id + ']'),\n      $content: this.$anchorContentContainer.find('[data-id=' + id + ']')\n    }\n  }\n}\n","/**\r\n * Class: TopTasks\r\n */\r\nimport $ from 'jquery';\r\nimport { emitter } from '../base/emitter/emitter';\r\nimport { responsive } from '../base/responsive/responsive';\r\nimport * as utils from '../base/utils/utils';\r\n\r\nexport default class TopTasks {\r\n  constructor(config) {\r\n    // put in defaults here\r\n    //defaults\r\n    this.config = $.extend(\r\n      {\r\n        el: '.topTasks'\r\n      },\r\n      config\r\n    );\r\n    this.$el = $(this.config.el);\r\n    this.$trigger = this.$el.find('.topTasks-trigger');\r\n    this.$expander = this.$el.find('.topTask-expander');\r\n    this.$list = this.$el.find('.topTasks-list');\r\n    this.$listItems = this.$list.find('.topTasks-task');\r\n    this.$back = this.$el.find('.topTasks-back');\r\n    this.showAt = -200;\r\n    this.alwaysFixed = this.$el.hasClass('topTasks-fixed-always');\r\n    this.IsFixed = false;\r\n    this.isVisible = false;\r\n\r\n    this.onExpanderClick = this.onExpanderClick.bind(this);\r\n\r\n    if (this.$el.length) {\r\n      this.init();\r\n    }\r\n  }\r\n  init() {\r\n    this.bindEvents();\r\n\r\n    this.maxItems = responsive.getSize() === 'small' ? 3 : 6;\r\n    var self = this;\r\n\r\n    this.$list.find('.topTasks-task').map(function(idx, listItem) {\r\n      if (idx < self.maxItems) {\r\n        $(listItem).attr('aria-hidden', 'false');\r\n      }\r\n    });\r\n\r\n    if (this.$listItems.length > this.maxItems) {\r\n      this.$expander.attr('aria-hidden', 'false');\r\n    }\r\n  }\r\n\r\n  bindEvents() {\r\n    var self = this;\r\n\r\n    this.$expander.on('click', event => this.onExpanderClick(event));\r\n\r\n    this.setShowAt();\r\n    this.$trigger.on({\r\n      click: function() {\r\n        if (!self.isVisible) {\r\n          // if mobile -> go to top\r\n          responsive.getSize() === 'small' ? self.goToTop() : self.show();\r\n        } else if (self.isVisible) {\r\n          self.hide();\r\n        }\r\n      }\r\n    });\r\n\r\n    this.$back.on({\r\n      click: function() {\r\n        self.hide();\r\n      }\r\n    });\r\n\r\n    emitter.on('resize', function() {\r\n      self.maxItems = responsive.getSize() === 'small' ? 3 : 6;\r\n\r\n      self.setShowAt();\r\n      utils.$win.scroll();\r\n      if (self.IsFixed) {\r\n        self.setFixed();\r\n      } else {\r\n        self.unsetFixed();\r\n      }\r\n\r\n      self.showTopTaskItems();\r\n    });\r\n\r\n    emitter.on('scroll', function(obj) {\r\n      if (self.IsFixed && self.isVisible) {\r\n        self.hide();\r\n      }\r\n      if (obj.top > self.showAt && !self.IsFixed) {\r\n        self.setFixed();\r\n      } else if (obj.top < self.showAt && self.IsFixed) {\r\n        self.unsetFixed();\r\n      }\r\n    });\r\n  }\r\n\r\n  onExpanderClick(event) {\r\n    event.preventDefault();\r\n\r\n    if (this.$expander.hasClass('expanded')) {\r\n      this.$expander.removeClass('expanded');\r\n    } else {\r\n      this.$expander.addClass('expanded');\r\n    }\r\n\r\n    this.showTopTaskItems();\r\n  }\r\n\r\n  showTopTaskItems() {\r\n    var self = this;\r\n    let isExpanded = this.$expander.hasClass('expanded');\r\n\r\n    this.$listItems.map(function(idx, listItem) {\r\n      var $listItem = $(listItem);\r\n      if (isExpanded) {\r\n        $listItem.attr('aria-hidden', 'false');\r\n      } else {\r\n        let hideTask = idx >= self.maxItems;\r\n        $listItem.attr('aria-hidden', hideTask);\r\n      }\r\n    });\r\n  }\r\n\r\n  setShowAt() {\r\n    this.showAt = Infinity; // Disable hiding of TopTasks\r\n  }\r\n\r\n  unsetFixed() {\r\n    this.$el.removeClass('topTasks-fixed');\r\n    if (!this.alwaysFixed) {\r\n      this.$el.css('margin-top', '');\r\n      utils.$main.css('margin-top', '');\r\n    }\r\n    this.IsFixed = false;\r\n  }\r\n\r\n  setFixed() {\r\n    this.$el.addClass('topTasks-fixed');\r\n    if (!this.alwaysFixed) {\r\n      if (\r\n        $('header').hasClass('headerSlider') &&\r\n        responsive.getSize() !== 'small'\r\n      ) {\r\n        this.$el.css('margin-top', -1 * this.$el.height() + 70);\r\n        utils.$main.css('margin-top', this.$el.height());\r\n      } else {\r\n        let headerMargin = $('header').hasClass('headerSlider') ? 0 : 30;\r\n        this.$el.css('margin-top', -1 * this.$el.height() - headerMargin);\r\n        utils.$main.css('margin-top', this.$el.height() - headerMargin);\r\n      }\r\n    }\r\n    this.IsFixed = true;\r\n  }\r\n\r\n  hide() {\r\n    this.$el.removeClass('topTasks-fixed-show');\r\n    this.isVisible = false;\r\n  }\r\n\r\n  show() {\r\n    this.$el.addClass('topTasks-fixed-show');\r\n    this.isVisible = true;\r\n  }\r\n\r\n  goToTop() {\r\n    $('html,body').scrollTop(0);\r\n  }\r\n}\r\n","/**\r\n * Class: Twitter\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\nimport { $win } from '../base/utils/utils';\r\n\r\nexport default class Twitter {\r\n  constructor(config) {\r\n    this.config = $.extend({}, config);\r\n    this.$el = $(this.config.el);\r\n    this.init();\r\n  }\r\n  init() {\r\n    this.bindEvents();\r\n  }\r\n  bindEvents() {\r\n    var self = this;\r\n    if (window.twttr) {\r\n      window.twttr.ready(function(twttr) {\r\n        twttr.events.bind('loaded', function() {\r\n          self.resizeTwitterIframe();\r\n        });\r\n      });\r\n      $win.resize(function() {\r\n        self.resizeTwitterIframe();\r\n      });\r\n    }\r\n  }\r\n\r\n  resizeTwitterIframe() {\r\n    var width = $('.twitter-feed').width();\r\n    var widthstring = width + 'px';\r\n    $('.twitter-feed iframe').css('width', widthstring);\r\n  }\r\n}\r\n","// Depended on bootstrap modal\nimport $ from 'jquery';\nimport { createElementFromHTML, getElement, isFunction, noop } from '../base/utils/utils';\nimport './videobox.scss';\n\nconst defaultOptions = {\n  modal: {\n    show: false,\n    focus: false\n  },\n  videoMuted: false,\n  videoControls: true,\n  videoEndClose: false,\n  onClose: noop,\n  onOpen: noop,\n  onClick: noop\n};\n\nconst className = {\n  video: 'videoBox__modal-video',\n  disabled: 'videoBox--disabled'\n}\n\nconst videoBoxTemplate = (props = defaultOptions) => `<div class=\"modal fade videoBox__modal\" tabindex=\"-1\" role=\"dialog\" style=\"display: none;\" aria-hidden=\"true\">\n  <div class=\"modal-dialog videoBox__modal-dialog\" role=\"document\">\n    <video\n      class=\"videoBox__modal-video\"\n      aria-label=\"\"\n      disablePictureInPicture\n      ${props.videoPoster ? 'poster=\"' + props.videoPoster + '\"' : ''}\n      ${String(props.videoControls).toLowerCase() === \"true\" ? \"controls\" : \"\"}\n      ${String(props.videoMuted).toLowerCase() === \"true\" ? \"muted\" : \"\"}\n      playsinline\n      src=\"${props.videoSource}\"\n      type=\"video/mp4\">\n    </video>\n    <button type=\"button\" class=\"videoBox__modal-close\" data-dismiss=\"modal\" aria-label=\"Close\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n</div>`;\n\nfunction initVideoBox() {\n  const $template = createElementFromHTML(videoBoxTemplate(this.options));\n\n  document.body.appendChild($template);\n  this.$videoModal = $($template);\n  this.$videoModal.modal(this.options.modal);\n  this.$video = this.$videoModal[0].querySelector(`.${className.video}`);\n}\n\nfunction elementClickHandler(e) {\n  e.preventDefault();\n  this.$videoModal.modal('show');\n\n  if (isFunction(this.options.onClick)) {\n    this.options.onClick(this, e);\n  }\n}\n\nfunction videoEndedHandler(e) {\n  console.log(this.options.videoEndClose);\n  if (String(this.options.videoEndClose).toLowerCase() === 'true') {\n    closeModal.bind(this)();\n  }\n}\n\nfunction openModal() {\n  this.$videoModal.modal('show');\n\n}\n\nfunction closeModal() {\n  this.$videoModal.modal('hide');\n}\n\nfunction playVideo() {\n  this.$video.play();\n}\n\nfunction pauseVideo() {\n  this.$video.pause();\n}\n\nfunction stopVideo() {\n  pauseVideo.bind(this)();\n  if (this.$video.currentTime) {\n    this.$video.currentTime = 0;\n  }\n}\n\nfunction setupEventListener() {\n  if (this.$el.addEventListener) {\n    this.$el.addEventListener('click', elementClickHandler.bind(this), false);\n  }\n\n  if (this.$videoModal) {\n    this.$videoModal.on('shown.bs.modal', (e) => {\n      this.$video.play();\n\n      if (isFunction(this.options.onOpen)) {\n        this.options.onOpen(this, e);\n      }\n    });\n\n    this.$videoModal.on('hide.bs.modal', (e) => {\n      this.$video.pause();\n\n      if (isFunction(this.options.onClose)) {\n        this.options.onClose(this, e);\n      }\n    });\n\n    this.$videoModal.on('hidden.bs.modal', (e) => {\n      this.$video.pause();\n    });\n\n    if (this.$video.addEventListener) {\n      this.$video.addEventListener('ended', videoEndedHandler.bind(this));\n    }\n  }\n}\n\nexport default class VideoBox {\n  constructor(_options) {\n    this.options = {\n      ...defaultOptions,\n      ..._options\n    };\n\n    this.$el = getElement(this.options.el);\n\n    if (!this.$el) {\n      console.warn('There is no valid node');\n      return;\n    }\n\n    if (!this.options.videoSource) {\n      console.warn('There is no video');\n      this.$el.classList.add(className.disabled);\n      this.$el.disabled = true;\n      return;\n    }\n\n    initVideoBox.bind(this)();\n    setupEventListener.bind(this)();\n  }\n\n  open() {\n    openModal.bind(this)();\n  }\n\n  close() {\n    closeModal.bind(this)();\n  }\n\n  play() {\n    playVideo.bind(this)();\n  }\n\n  pause() {\n    pauseVideo.bind(this)();\n  }\n\n  stop() {\n    stopVideo.bind(this)();\n  }\n}\n","const noop = () => { };\n\nconst defaultOptions = {\n  swipeLeft: noop,\n  swipeRight: noop,\n  swipeUp: noop,\n  swipeDown: noop\n};\n\nfunction getTouches(evt) {\n  return evt.touches;\n}\n\nfunction handleTouchStart(evt) {\n  const firstTouch = getTouches(evt)[0];\n  this.xDown = firstTouch.clientX;\n  this.yDown = firstTouch.clientY;\n};\n\nfunction handleTouchMove(evt) {\n  if (!this.xDown || !this.yDown) {\n    return;\n  }\n\n  var xUp = evt.touches[0].clientX;\n  var yUp = evt.touches[0].clientY;\n\n  var xDiff = this.xDown - xUp;\n  var yDiff = this.yDown - yUp;\n\n  if (Math.abs(xDiff) > Math.abs(yDiff)) {/*most significant*/\n    if (xDiff > 0) {\n      this.options.swipeLeft(this, evt);\n    } else {\n      this.options.swipeRight(this, evt);\n    }\n  } else {\n    if (yDiff > 0) {\n      this.options.swipeUp(this, evt);\n    } else {\n      this.options.swipeDown(this, evt);\n    }\n  }\n\n  /* reset values */\n  this.xDown = null;\n  this.yDown = null;\n};\n\nfunction bindEvents() {\n  if (this.$el.addEventListener) {\n    this.xDown = null;\n    this.yDown = null;\n\n    this.$el.addEventListener('touchstart', handleTouchStart.bind(this), false);\n    this.$el.addEventListener('touchmove', handleTouchMove.bind(this), false);\n  }\n}\n\nclass SwipeEvents {\n  constructor($el, _options) {\n    this.$el = $el;\n    this.options = {\n      ...defaultOptions,\n      ..._options\n    };\n\n    bindEvents.bind(this)();\n  }\n}\n\nexport default SwipeEvents;\n","import {\r\n  createElementFromHTML,\r\n  debounce,  \r\n  getDevice,  \r\n  getElement,\r\n  isElementInViewport,\r\n  isExperienceEditing,\r\n  scrollTo,\r\n  setupListenerOnViewportHeight\r\n} from \"../base/utils/utils\";\r\nimport Modernizr from \"modernizr\";\r\nimport VideoBox from \"../videobox/videobox\";\r\nimport SwipeEvents from \"../swipe-events/swipe-events\";\r\n\r\nconst className = {\r\n  videos: 'video-carousel__videos',\r\n  video: 'video-carousel__video',\r\n  videoShow: 'video-carousel__video--show',\r\n  list: 'video-carousel__list',\r\n  item: 'video-carousel__list-item',\r\n  content: 'video-carousel__content',\r\n  contentActive: 'video-carousel__content--active',\r\n  contentInactive: 'video-carousel__content--inactive',\r\n  itemActive: 'video-carousel__list-item--active',\r\n  itemInactive: 'video-carousel__list-item--inactive',\r\n  itemWrapper: 'video-carousel__item-wrapper',\r\n  listNextBtn: 'video-carousel__button-next',\r\n  listPrevBtn: 'video-carousel__button-prev',\r\n  progressBar: 'video-carousel__progressbar-playbar',\r\n  progressBarNoTransition: 'video-carousel__progressbar-playbar--no-transition',\r\n  itemThumbnail: 'video-carousel__item-thumbnail',\r\n  thumbnailImage: 'video-carousel__thumbnail-image',\r\n  buttonToaster: 'video-carousel__button-toaster'\r\n}\r\n\r\nconst defaultOptions = {\r\n  maxVideoDuration: 10,\r\n  offsetNavigation: '.headerSlider-top'\r\n};\r\n\r\nconst stopVideo = (video) => {\r\n  video.pause();\r\n  if (video.currentTime) {\r\n    video.currentTime = 0;\r\n  }\r\n  return video;\r\n}\r\n\r\nfunction videoErrorHandler(item) {\r\n  const duration = +this.options.maxVideoDuration * 1000;\r\n  const $progressBar = item.item.querySelector(`.${className.progressBar}`);\r\n\r\n  let start;\r\n  let percentage = 0;\r\n\r\n  function step(timestamp) {\r\n    if (start === undefined) start = timestamp;\r\n    const elapsed = timestamp - start;\r\n    percentage = Math.floor((100 * elapsed) / duration);\r\n\r\n    if (elapsed < duration) {\r\n      // Stop the animation after 2 seconds\r\n      $progressBar.style.transform = `scaleX(${percentage/100})`;\r\n      item.videoErrorTimer = window.requestAnimationFrame(step.bind(this));\r\n    } else {\r\n      percentage = 0;\r\n      nextItem.bind(this)();\r\n    }\r\n  }\r\n\r\n  item.videoErrorTimer = window.requestAnimationFrame(step.bind(this));\r\n}\r\n\r\nfunction initVideo(selectedItem) {\r\n  const { video, item } = selectedItem;\r\n\r\n  video.muted = true;\r\n  if (typeof video.disablePictureInPicture === 'boolean') {\r\n    video.disablePictureInPicture = true;\r\n  }\r\n  video.autoplay = false;\r\n  video.setAttribute('poster', video.dataset.poster);\r\n  video.src = video.dataset.src;\r\n\r\n  function videoTimeUpdateHandler(e) {\r\n    if (video.error) {\r\n      selectedItem.videoError = true;\r\n      videoErrorHandler.bind(this)(selectedItem);\r\n      return;\r\n    }\r\n\r\n    const $progressBar = item.querySelector(`.${className.progressBar}`);\r\n    let videoDuration = video.duration;\r\n    if (this.options.maxVideoDuration) {\r\n      videoDuration = video.duration < +this.options.maxVideoDuration ? video.duration : +this.options.maxVideoDuration;\r\n    }\r\n    let percentage = Math.floor(100 * video.currentTime / videoDuration);\r\n    if (percentage >= 100) {\r\n      percentage = 100;\r\n      $progressBar.style.transform = `scaleX(${percentage/100})`;\r\n      stopVideo(video);\r\n      nextItem.bind(this)();\r\n    } else {\r\n      $progressBar.style.transform = `scaleX(${percentage/100})`;\r\n    }\r\n  }\r\n\r\n  video.addEventListener('timeupdate', videoTimeUpdateHandler.bind(this), false);\r\n\r\n  selectedItem.hasInited = true;\r\n}\r\n\r\nfunction pauseItem() {\r\n  this.currentItem.video.pause();\r\n}\r\n\r\nfunction playItem() {\r\n  this.currentItem.video.play();\r\n}\r\n\r\nfunction nextItem() {\r\n  selectItem.bind(this)(this.currentItemIndex === this.itemList.length - 1 ? 0 : this.currentItemIndex + 1);\r\n}\r\n\r\nfunction prevItem() {\r\n  selectItem.bind(this)(this.currentItemIndex === 0 ? this.itemList.length - 1 : this.currentItemIndex - 1);\r\n}\r\n\r\nfunction selectItem(index) {\r\n  if (!this.progressBarRemove) {\r\n    clearTimeout(this.progressBarRemove);\r\n  }\r\n\r\n  if (!this.contentRemove) {\r\n    clearTimeout(this.contentRemove);\r\n  }\r\n\r\n  if (!this.itemRemove) {\r\n    clearTimeout(this.itemRemove);\r\n  }\r\n\r\n  const selectedItem = this.itemList[index];\r\n  const { currentItem } = this;\r\n\r\n  if (currentItem.videoError) {\r\n    window.cancelAnimationFrame(currentItem.videoErrorTimer);\r\n  }\r\n\r\n  if (selectedItem.videoError) {\r\n    videoErrorHandler.bind(this)(selectedItem);\r\n  }\r\n\r\n  currentItem.item.classList.remove(className.itemActive);\r\n  currentItem.item.classList.add(className.itemInactive);\r\n  currentItem.video.classList.remove(className.videoShow);\r\n  currentItem.content.classList.remove(className.contentActive);\r\n  currentItem.content.classList.add(className.contentInactive);\r\n  const $progressBar = currentItem.item.querySelector(`.${className.progressBar}`);\r\n  $progressBar.classList.add(className.progressBarNoTransition);\r\n  $progressBar.style.transform = \"scaleX(0)\";\r\n\r\n  function removeProgressBarHandler() {\r\n    $progressBar.classList.remove(className.progressBarNoTransition);\r\n    this.progressBarRemove = null;\r\n  }\r\n\r\n  function removeContentHandler() {\r\n    currentItem.content.classList.remove(className.contentInactive);\r\n    this.contentRemove = null;\r\n  }\r\n\r\n  function removeItemHandler() {\r\n    currentItem.item.classList.remove(className.itemInactive);\r\n    this.itemRemove = null;\r\n  }\r\n\r\n  this.progressBarRemove = setTimeout(removeProgressBarHandler.bind(this), 100);\r\n  this.contentRemove = setTimeout(removeContentHandler.bind(this), 400);\r\n  this.itemRemove = setTimeout(removeItemHandler.bind(this), 400);\r\n\r\n  stopVideo(currentItem.video);\r\n  \r\n  if (!selectedItem.hasInited) {\r\n    initVideo.bind(this)(selectedItem);\r\n  }\r\n  selectedItem.item.classList.add(className.itemActive);\r\n  selectedItem.video.classList.add(className.videoShow);\r\n  selectedItem.content.classList.add(className.contentActive);\r\n  this.currentItemIndex = index;\r\n  this.currentItem = selectedItem;\r\n  this.swiper.slideTo(this.currentItemIndex);\r\n\r\n  if (isElementInViewport(this.$el)) {\r\n    if (isExperienceEditing()) {\r\n      pauseItem.bind(this)();\r\n      return;\r\n    }\r\n    playItem.bind(this)();\r\n  }\r\n}\r\n\r\nfunction itemClickHandler(e) {\r\n  const clickedItem = e.currentTarget;\r\n  if (clickedItem.classList.contains(className.itemActive)) return;\r\n  const selectedItemIndex = this.itemList.findIndex(data => data.item === clickedItem);\r\n  if (selectedItemIndex === this.currentItemIndex) return;\r\n\r\n  const elBound = this.$el.getBoundingClientRect();\r\n\r\n  const position = () => {\r\n    return (\r\n      document.documentElement.scrollTop ||\r\n      document.body.parentNode.scrollTop ||\r\n      document.body.scrollTop\r\n    );\r\n  }\r\n\r\n  let offset = 0;\r\n  const $nav = getElement(this.options.offsetNavigation);\r\n  if ($nav) {\r\n    offset = $nav.clientHeight;\r\n  }\r\n  scrollTo(position() + elBound.top - offset, 400);\r\n  selectItem.bind(this)(selectedItemIndex);\r\n}\r\n\r\nfunction videoBoxOnOpenHandler() {\r\n  pauseItem.bind(this)();\r\n}\r\n\r\nfunction videoBoxOnCloseHandler() {\r\n  nextItem.bind(this)();\r\n}\r\n\r\nfunction mapItem(item, index) {\r\n  const { $el } = this;\r\n  const video = $el.querySelector(item.dataset.video);\r\n  const content = $el.querySelector(item.dataset.content);\r\n\r\n  if (isExperienceEditing()) {\r\n    const btnToChange = createElementFromHTML(`<button class=\"xp-vc-select-btn\" style=\"display: block; position: absolute; bottom: 0; z-index: 9999; height: 20px; left: 50%; transform: translateX(-50%); line-height: 20px; font-size: 12px; cursor: pointer;\">Select item</button>`);\r\n    item.appendChild(btnToChange);\r\n    const thisScope = this;\r\n    btnToChange.addEventListener('click', (e) => {\r\n      const selectedItem = e.currentTarget.closest(`.${className.item}`);\r\n      const selectedItemIndex = this.itemList.findIndex(data => data.item === selectedItem);\r\n      if (selectedItemIndex === this.currentItemIndex) return;\r\n      selectItem.bind(thisScope)(selectedItemIndex);\r\n    }, false);\r\n\r\n    item.querySelector(`.${'video-carousel__item-title'} span.scWebEditInput`).addEventListener('click', (e) => {\r\n      e.target.focus();\r\n    });\r\n    item.querySelector(`.${'video-carousel__item-subtitle'} span.scWebEditInput`).addEventListener('click', (e) => {\r\n      e.target.focus();\r\n    })\r\n  } else {\r\n    item.addEventListener('click', itemClickHandler.bind(this), false);\r\n  }\r\n\r\n  const $itemWrapper = item.querySelector(`.${className.itemWrapper}`);\r\n  $itemWrapper.style.left = `-${index * 100}%`;\r\n\r\n  let videoBox = null;\r\n  if (isExperienceEditing()) {\r\n  } else {\r\n    const $buttonToaster = content.querySelector(`.${className.buttonToaster}`);\r\n    videoBox = new VideoBox({\r\n      el: $buttonToaster,\r\n      ...$buttonToaster.dataset,\r\n      ... {\r\n        onOpen: videoBoxOnOpenHandler.bind(this),\r\n        onClose: videoBoxOnCloseHandler.bind(this)\r\n      }\r\n    });\r\n  }\r\n\r\n  return {\r\n    item: item,\r\n    video,\r\n    content,\r\n    videoBox\r\n  };\r\n};\r\n\r\nfunction fallback() {\r\n  let isLegacyEdge = getDevice() === \"MS Edge (EdgeHtml)\";\r\n\r\n  if (!Modernizr.objectfit || isLegacyEdge) {\r\n    const $thumbnailNodes = this.$el.querySelectorAll(`.${className.itemThumbnail}`);\r\n    $thumbnailNodes.forEach($thumbnail => {\r\n      const $thumbnailImg = $thumbnail.querySelector(`.${className.thumbnailImage}`);\r\n      const imgUrl = $thumbnailImg.src;\r\n      if (imgUrl) {\r\n        $thumbnail.style.backgroundImage = `url(\"${imgUrl}\")`;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction initVideoCarousel() {\r\n  const { $el } = this;\r\n\r\n  const $itemNodes = $el.querySelectorAll(`.${className.item}`);\r\n  const $contentList = $el.querySelector(`.${className.list}`);\r\n\r\n  this.itemList = [...$itemNodes].map(mapItem.bind(this));\r\n  this.currentItemIndex = this.itemList.findIndex(data => data.item.classList.contains(className.itemActive));\r\n  this.currentItemIndex = this.currentItemIndex < 0 ? 0 : this.currentItemIndex;\r\n  this.currentItem = this.itemList[this.currentItemIndex];\r\n\r\n  this.swiper = new Swiper($contentList, {\r\n    slidesPerView: 4,\r\n    slidesPerGroup: 4,\r\n    loop: false,\r\n    nextButton: $el.querySelector(`.${className.listNextBtn}`),\r\n    prevButton: $el.querySelector(`.${className.listPrevBtn}`),\r\n    followFinger: false,\r\n    breakpoints: {\r\n      768: {\r\n        slidesPerView: this.itemList.length,\r\n        slidesPerGroup: false\r\n      }\r\n    }\r\n  });\r\n\r\n  selectItem.bind(this)(this.currentItemIndex);\r\n  fallback.bind(this)();\r\n}\r\n\r\nfunction onVisibilityChange(el, callback) {\r\n  let old_visible;\r\n  return debounce(function(e) {\r\n    let visible = isElementInViewport(el);\r\n    if (visible != old_visible) {\r\n      old_visible = visible;\r\n      if (typeof callback == 'function') {\r\n        callback(e, old_visible);\r\n      }\r\n    }\r\n  }, 50);\r\n}\r\n\r\nfunction getCurrentVideo() {\r\n  return this.currentItem.video;\r\n}\r\n\r\nfunction scrollHandler() {\r\n  return onVisibilityChange(this.$el, (e, isVisible) => {\r\n    const $currentVideo = getCurrentVideo.bind(this)();\r\n\r\n    if (isVisible) {\r\n      if (isExperienceEditing()) {\r\n        $currentVideo.pause();\r\n        return;\r\n      }\r\n      $currentVideo.play();\r\n    } else {\r\n      $currentVideo.pause();\r\n    }\r\n  }).bind(this);\r\n};\r\n\r\nfunction handleVisibilityChange(e) {\r\n  const $currentVideo = getCurrentVideo.bind(this)();\r\n  const isVisible = document.visibilityState == \"visible\";\r\n\r\n  if (isVisible) {\r\n    if (isExperienceEditing()) {\r\n      $currentVideo.pause();\r\n      return;\r\n    }\r\n    $currentVideo.play();\r\n  } else {\r\n    $currentVideo.pause();\r\n  }\r\n}\r\n\r\nfunction swipeLeftHandler() {\r\n  if (this.itemList.length < 2) return;\r\n  nextItem.bind(this)();\r\n}\r\n\r\nfunction swipeRightHandler() {\r\n  if (this.itemList.length < 2) return;\r\n  prevItem.bind(this)();\r\n}\r\n\r\nfunction setupEventListener() {\r\n  if (window.addEventListener) {\r\n    setupListenerOnViewportHeight();\r\n    addEventListener('DOMContentLoaded', scrollHandler.bind(this)(), false);\r\n    addEventListener('load', scrollHandler.bind(this)(), false);\r\n    addEventListener('scroll', scrollHandler.bind(this)(), false);\r\n    addEventListener('resize', scrollHandler.bind(this)(), false);\r\n\r\n  }\r\n  \r\n  if (document.addEventListener) {\r\n    document.addEventListener('visibilitychange', handleVisibilityChange.bind(this), false);\r\n  }\r\n\r\n  new SwipeEvents(this.$el, {\r\n    swipeLeft: swipeLeftHandler.bind(this),\r\n    swipeRight: swipeRightHandler.bind(this)\r\n  });\r\n}\r\n\r\nexport default class VideoCarousel {\r\n  constructor(options) {\r\n    this.options = { ...defaultOptions, ...options };\r\n\r\n    this.$el = getElement(this.options.el);\r\n\r\n    if (!this.$el) {\r\n      console.warn('There is no valid node');\r\n      return;\r\n    }\r\n    \r\n    // Exposing this object on window\r\n    if (typeof window.oVideoCarousel === 'undefined' ) {\r\n      window.oVideoCarousel = [];  \r\n    }\r\n    window.oVideoCarousel.push(this);\r\n\r\n\r\n    initVideoCarousel.bind(this)();\r\n    setupEventListener.bind(this)();\r\n  }\r\n\r\n  next() {\r\n    nextItem.bind(this)();\r\n  }\r\n\r\n  prev() {\r\n    prevItem.bind(this)();\r\n  }\r\n\r\n  pause() {\r\n    pauseItem.bind(this)();\r\n  }\r\n\r\n  play() {\r\n    playItem.bind(this)();\r\n  }\r\n}\r\n","/**\n * Class: Button\n * Description: Her goes description\n */\nimport $ from \"jquery\";\nimport * as utils from \"../base/utils/utils\";\nimport Cookies from \"js-cookie\";\nexport default class StickyBar {\n  /**\n   * @param {number} param this is param.\n   * @return {number} this is return.\n   */\n  constructor(config) {\n    // put in defaults here\n    //defaults\n\n    this.config = $.extend(\n      {\n        $el: \".sticky-bar\",\n        disableCookie: false,\n        cookieExpiryDays: 1\n      },\n      config\n    );\n    this.$el = $(this.config.$el);\n    this.$headerEl = $(\".headerSlider-top\");\n    this.$closeBtn = this.$el.find(\".sticky-bar__close-btn\");\n    this.showClassName = \"sticky-bar--show\";\n    this.cookieName = \"stickyBar\" + \"__\" + this.config.cookieId;\n    this.cookieValue = \"hiddenBar\";\n    this.disableCookie = this.config.disableCookie;\n    this.cookieExpiryDays = this.config.cookieExpiryDays;\n\n    this.init();\n  }\n\n  init() {\n    this.bindEvents();\n  }\n\n  addToHeader() {\n    if (this.$headerEl) {\n      this.$headerEl.append(this.$el);\n      if (!Cookies.get(this.cookieName) || this.disableCookie) {\n        this.$el.addClass(this.showClassName);\n      }\n    }\n  }\n\n  close() {\n    this.$closeBtn.on(\"click\", () => {\n      if (!this.disableCookie) {\n        Cookies.set(this.cookieName, this.cookieValue, {\n          expires: this.cookieExpiryDays\n        });\n      }\n      this.$el.fadeOut(() => {\n        this.$el.removeClass(this.showClassName);\n      });\n    });\n  }\n\n  bindEvents() {\n    if (\n      !utils.$body.hasClass(\"is-experience-editing\") &&\n      !utils.$body.hasClass(\"is-experience-preview\")\n    ) {\n      this.addToHeader();\n    }\n    this.close();\n  }\n}\n","/**\n * Class: StickyButton\n */\nimport $ from \"jquery\";\nimport * as utils from \"../base/utils/utils\";\nimport { emitter } from '../base/emitter/emitter';\nexport default class StickyButton {\n  \n  constructor(config) {\n  \n    this.config = $.extend(\n      {\n        $el: \".sticky-button\"\n      },\n      config\n    );\n    this.$el = $(this.config.$el);\n    this.$headerEl = $(\".headerSlider-top\");\n    this.$button = this.$el.find(\".sticky-button__btn\")\n    this.$cookieBot = $(\"#coiOverlay\");\n    this.init();\n  }\n\n  init() {\n\n\n    this.bindEvents();\n  }\n\n  addToHeader() {\n    if (this.$headerEl) {\n      this.$headerEl.append(this.$el);\n    }\n  }\n  hasCookieBot() {\n    return this.$cookieBot.length;\n  }\n  setUpButton() {\n    \n    if (this.hasCookieBot()) {\n      this.$button.addClass(\"sticky-button__btn--cookie-bot\")\n    }\n    emitter.on('resize', obj => {\n      if (obj.width > 769) {\n        this.$el.css('bottom', -this.$el.height());\n      } else {\n        this.$el.css('bottom', '');\n      }\n    });\n  }\n\n  bindEvents() {\n    if (\n      !utils.$body.hasClass(\"is-experience-editing\")      \n    ) {\n      this.setUpButton();\n      this.addToHeader();\n    }    \n  }\n}\n","export const TYPES = {\r\n  NONE: 0,\r\n  SINGLE: 1,\r\n  MULTIPLE: 2,\r\n  CUSTOM: 3\r\n};\r\n\r\nexport default {\r\n  TYPES,\r\n  attr: 'dl',\r\n  noop: () => {}\r\n};\r\n","import { TYPES } from './dynamic-loading-options';\r\n\r\nimport announcement from \"../../modules/announcement/announcement\";\r\nimport calendar from \"../../modules/calendar/calendar\";\r\nimport searchResults from \"../../modules/searchResults/searchResults\";\r\nimport rssFeedSignUp from \"../../modules/rssFeed/rssFeedSignUp\";\r\nimport rssFeedSignOff from \"../../modules/rssFeed/rssFeedSignOff\";\r\nimport jobList from \"../../modules/job/jobList\";\r\nimport jobArticle from \"../../modules/job/jobArticle\";\r\nimport google from \"../../modules/activitymap/google.maps.2016\";\r\nimport formSelector from \"../../modules/formSelector/formSelector\";\r\nimport toaster from \"../../modules/toaster/toaster\";\r\nimport tabs from \"../../modules/tabs/tabs\";\r\n\r\nexport default [\r\n  {\r\n    name: 'Announcement',\r\n    importer: () => import(/* webpackChunkName: \"annoucement\" */ '../../modules/announcement/announcement'),\r\n    type: TYPES.SINGLE,\r\n    selector: '.announcement-module'\r\n  },\r\n  {\r\n    name: 'Calendar',\r\n    importer: () => import(/* webpackChunkName: \"calendar\" */ '../../modules/calendar/calendar'),\r\n    type: TYPES.MULTIPLE,\r\n    selector: '.calendar'\r\n  },\r\n  {\r\n    name: 'SearchResult',\r\n    importer: () => import(/* webpackChunkName: \"search-result\" */ '../../modules/searchResults/searchResults'),\r\n    type: TYPES.SINGLE,\r\n    selector: '.search-result-module'\r\n  },\r\n  {\r\n    name: 'RssFeedSignUp',\r\n    importer: () => import(/* webpackChunkName: \"rss-sign-up\" */ '../../modules/rssFeed/rssFeedSignUp'),\r\n    type: TYPES.SINGLE,\r\n    selector: '.rsssignup'\r\n  },\r\n  {\r\n    name: 'RssFeedSignOff',\r\n    importer: () => import(/* webpackChunkName: \"rss-sign-off\" */ '../../modules/rssFeed/rssFeedSignOff'),\r\n    type: TYPES.SINGLE,\r\n    selector: '.rsssignoff'\r\n  },\r\n  {\r\n    name: 'JobList',\r\n    importer: () => import(/* webpackChunkName: \"job-list\" */ '../../modules/job/jobList'),\r\n    type: TYPES.SINGLE,\r\n    selector: '.job-module'\r\n  },\r\n  {\r\n    name: 'JobArticle',\r\n    importer: () => import(/* webpackChunkName: \"job-article\" */ '../../modules/job/jobArticle'),\r\n    type: TYPES.SINGLE,\r\n    selector: '.job__article'\r\n  },\r\n  {\r\n    name: 'ActivityMap',\r\n    importer: () => import(/* webpackChunkName: \"activity-map\" */ '../../modules/activitymap/google.maps.2016'),\r\n    type: TYPES.NONE,\r\n    selector: '.mapw'\r\n  },\r\n  {\r\n    name: 'FormSelector',\r\n    importer: () => import(/* webpackChunkName: \"form-selector\" */ '../../modules/formSelector/formSelector'),\r\n    type: TYPES.SINGLE,\r\n    selector: '.form-selector'\r\n  },\r\n  {\r\n    name: 'Toaster',\r\n    importer: () => import(/* webpackChunkName: \"toaster\" */ '../../modules/toaster/toaster'),\r\n    type: TYPES.SINGLE,\r\n    selector: '.modal'\r\n  },\r\n  {\r\n    name: 'Tabs',\r\n    importer: () => import(/* webpackChunkName: \"tabs\" */ '../../modules/tabs/tabs'),\r\n    type: TYPES.SINGLE,\r\n    selector: '.tabs'\r\n  }\r\n];\r\n","import { TYPES } from './dynamic-loading-options';\r\nimport None from './handler/none';\r\nimport Single from './handler/single';\r\nimport Multiple from './handler/multiple';\r\nimport Custom from './handler/custom';\r\n\r\nconst handlers = {};\r\n\r\nhandlers[TYPES.NONE] = None;\r\nhandlers[TYPES.SINGLE] = Single;\r\nhandlers[TYPES.MULTIPLE] = Multiple;\r\nhandlers[TYPES.CUSTOM] = Custom;\r\n\r\nexport default (type) => handlers[type];\r\n","export default (name) => ({\r\n  component: name\r\n});\r\n","export default (name, modules) => new modules.default();\r\n","export default (name, modules, nodes) => {\r\n  const items = []\r\n  nodes.forEach((node) => {\r\n    items.push(new modules.default({\r\n      $el: node\r\n    }));\r\n  });\r\n  return items;\r\n};\r\n","import DynamicLoadingOptions from '../dynamic-loading-options';\r\n\r\nexport default (name, modules, nodes, callback) => {\r\n  if (typeof callback !== 'function') return DynamicLoadingOptions.noop;\r\n  return callback(name, modules, nodes);\r\n};\r\n","import DynamicLoadingComponents from './dynamic-loading-components';\r\nimport DynamicLoadingHandlers from './dynamic-loading-handlers';\r\nimport DynamicLoadingOptions from './dynamic-loading-options';\r\n\r\nconst { TYPES } = DynamicLoadingOptions;\r\n\r\nconst componentHasName = ({ name }) => !!name;\r\n\r\nconst componentImporterIsFunction = ({ importer }) => typeof importer === 'function';\r\n\r\nconst componentGenerateNodes = (component) => {\r\n  const selector = component.selector || `[${DynamicLoadingOptions.attr}=\"${name}\"]`;\r\n  const nodes = document.querySelectorAll(selector);\r\n  const type = component.type || TYPES.NONE;\r\n  const callback = component.callback || DynamicLoadingOptions.noop;\r\n  return {\r\n    name: component.name,\r\n    importer: component.importer,\r\n    selector,\r\n    type,\r\n    nodes,\r\n    callback\r\n  }\r\n}\r\n\r\nconst componentNodesIsNotEmpty = ({ nodes }) => {\r\n  return nodes.length > 0;\r\n};\r\n\r\nconst createComponentPromises = ({ name, nodes, callback, importer, type }) => {\r\n  return new Promise((resolve, reject) => {\r\n    importer().then((modules) => {\r\n      const handler = DynamicLoadingHandlers(type);\r\n      resolve(handler(name, modules, nodes, callback));\r\n    }).catch((e) => {\r\n      console.error(`Could not load ${name} module`);\r\n      reject(e);\r\n    });\r\n  });\r\n};\r\n\r\nconst dynamicLoading = (components) => {\r\n  return components\r\n    .filter(componentHasName)\r\n    .filter(componentImporterIsFunction)\r\n    .map(componentGenerateNodes)\r\n    .filter(componentNodesIsNotEmpty)\r\n    .map(createComponentPromises)\r\n};\r\n\r\nlet instance = null;\r\n\r\nexport default class DynamicLoading {\r\n  constructor() {\r\n    if (instance) {\r\n      return instance;\r\n    }\r\n    \r\n    this.dynamicLoadingPromises = dynamicLoading(DynamicLoadingComponents);\r\n    this.dynamicLoadingAll = Promise.all(this.dynamicLoadingPromises.filter((item) => !!item));\r\n    instance = this;\r\n  }\r\n}\r\n","/* eslint-disable no-unused-vars */\nimport \"core-js/modules/es.promise\";\nimport \"core-js/modules/es.array.iterator\";\nimport * as utilities from \"../modules/base/utils/utils\";\nimport $ from \"jquery\";\nimport Accordions from \"../modules/accordion/accordion\";\nimport AnchorLinks from \"../modules/anchorLinks/anchorLinks\";\nimport AnnouncementArticle from \"../modules/announcement/announcementArticle\";\nimport AnnouncementPresentation from \"../modules/announcement/announcementPresentation\";\nimport ArrayExtensions from \"../modules/base/extensions/Array.extensions\";\nimport ArrayFindIndexPolyfill from \"../modules/base/shim/Array.findIndex\";\nimport Article from \"../modules/article/article\";\nimport ArticleHead from \"../modules/article/articleHead\";\nimport ArticlesPresentation from \"../modules/article/articlesPresentation\";\nimport BreadCrumb from \"../modules/breadcrumb/breadcrumb\";\nimport CareerSlider from \"../modules/careerSlider/careerSlider\";\nimport CustomerDetails from \"../modules/customerDetails/customerDetails\";\nimport CustomEventPolyfill from \"../modules/base/shim/CustomEvent\";\nimport CustomLogin from \"../modules/login/customlogin\";\nimport CustomSelect from \"../modules/customSelect/customSelect\";\nimport CustomVideoControls from \"../modules/customVideoControls/customVideoControls\";\nimport DawaAutocomplete from \"../modules/dawaAutocomplete/dawaAutocomplete\";\nimport EmergencyInformation from \"../modules/emergencyInformation/emergencyInformation\";\nimport enableInlineVideo from \"iphone-inline-video\";\nimport Expand from \"../modules/expand/expand\";\nimport ExpandCollapseCircle from \"../modules/expandCollapseCircle/expandCollapseCircle\";\nimport ExpandCollapseRectangleItem from \"../modules/expandcollapserectangle/expandcollapserectangleitem\";\nimport ExpandCollapseRectanglePresentation from \"../modules/expandcollapserectangle/expandcollapserectangle\";\nimport Exploration from \"../modules/exploration/exploration\";\nimport FactBox from \"../modules/factBox/factBox\";\nimport FilterFunction from \"../modules/filterFunction/filterFunction\";\nimport Form from \"../modules/form/form\";\nimport HeaderClassic from \"../modules/headerClassic/headerClassic\";\nimport HeaderSearch from \"../modules/headerSearch/headerSearch\";\nimport HeaderSlider from \"../modules/headerSlider/headerSlider\";\nimport HeroSlider from \"../modules/heroSlider/heroSlider\";\nimport Icons from \"../modules/icons/icons\";\nimport ImageSlider from \"../modules/imageSlider/imageSlider\";\nimport InteractiveTimeline from \"../modules/interactiveTimeline/interactiveTimeline\";\nimport JobSearchHero from \"../modules/jobSearchHero/jobSearchHero\";\nimport InViewPort from \"../modules/base/inViewPort/inViewPort\";\nimport Link from \"../modules/link/link\";\nimport List from \"../modules/list/list\";\nimport ListFilters from \"../modules/listFilters/listFilters\";\nimport Login from \"../modules/login/login\";\nimport MovingForm from \"../modules/movingForm/movingForm\";\nimport MultiNarrative from \"../modules/multiNarrative/multiNarrative\";\nimport MultiSelectDropdown from \"../modules/multiSelectDropdown/multiSelectDropdown\";\nimport NewLoginBox from \"../modules/login/newloginbox\";\nimport OrderFlow from \"../modules/orderflow/orderFlow\";\nimport PageLanguageSwitcher from \"../modules/pageLanguageSwitcher/pageLanguageSwitcher\";\nimport RelatedReads from \"../modules/relatedReads/relatedReads\";\nimport Rendercharts from \"../modules/rendercharts/rendercharts\";\nimport Richtext from \"../modules/richtext/richtext\";\nimport Search from \"../modules/search/search\";\nimport Section from \"../modules/section/section\";\nimport SelectDropdown from \"../modules/selectDropdown/selectDropdown\";\nimport Sitemap from \"../modules/sitemap/sitemap\";\nimport Social from \"../modules/social/social\";\nimport Stock from \"../modules/stock/stock\";\nimport Table from \"../modules/table/table\";\nimport Teaser from \"../modules/teaser/teaser\";\nimport TeaserMedium from \"../modules/teaser/TeaserMedium\";\nimport Timeline from \"../modules/timeline/timeline\";\nimport TopTasks from \"../modules/topTasks/topTasks\";\nimport Twitter from \"../modules/twitter/twitter\";\nimport Video from \"../modules/video/video\";\nimport VideoCarousel from \"../modules/videoCarousel/videoCarousel\";\nimport StickyBar from \"../modules/stickyBar/stickyBar\";\nimport StickyButton from \"../modules/stickyButton/stickyButton\";\n\nimport DynamicLoading from \"./dynamic-loading/dynamic-loading\";\nconst dynamicLoading = new DynamicLoading();\ndynamicLoading.dynamicLoadingAll.then(result => {\n  // Custom code after the all dynamic loading have been loaded\n  utilities\n    .$win\n    .trigger('scroll')\n    .trigger('resize');\n});\n\nlet headerClassic = new HeaderClassic();\nlet headerSlider = new HeaderSlider();\nlet headerSearches = [];\n\n(function() {\n  if (utilities.getDevice() === \"MS Edge (EdgeHtml)\") {\n    const documentClassList = document.documentElement.classList;\n    if (documentClassList.contains(\"objectfit\")) {\n      documentClassList.remove(\"objectfit\");\n      documentClassList.remove(\"object-fit\");\n\n      documentClassList.add(\"no-objectfit\");\n      documentClassList.add(\"no-object-fit\");\n    }\n  }\n})();\n\n//#region Section\nconst sectionSelector = \".section\";\nconst sectionNodes = document.querySelectorAll(sectionSelector);\n\nsectionNodes.forEach(node => {\n  new Section({\n    el: node,\n    ...node.dataset\n  });\n});\n//#endregion\n\n$(function() {\n  new AnchorLinks();\n});\n\nlet jobSearchHero = [];\n$.each($(\".job-search-hero\"), function(i, e) {\n  jobSearchHero.push(\n    new JobSearchHero(\n      $.extend({\n        $el: $(e)\n      })\n    )\n  );\n});\n\nlet stickyButton = [];\n$.each($(\".sticky-button\"), function (i, e) {\n  stickyButton.push(new StickyButton(\n    $.extend(\n      {\n        $el: e\n      }\n    )\n  ));\n});\n\nlet stickyBar = [];\n$.each($(\".sticky-bar\"), function(i, e) {\n  if (!$(e).data(\"stickybar\")) {\n    const newStickybar = new StickyBar(\n      $.extend(\n        {\n          $el: e\n        },\n        $(e).data()\n      )\n    );\n    $(e).data(\"stickybar\", newStickybar);\n    stickyBar.push(newStickybar);\n  }\n});\n\n$.each($(\".headerSearch,.headerSearch-ov\"), function(i, e) {\n  headerSearches.push(\n    new HeaderSearch({\n      el: e\n    })\n  );\n});\n\nlet heroSliders = [];\n$.each($(\".heroSlider\"), function(i, e) {\n  heroSliders.push(\n    new HeroSlider({\n      el: $(e)\n    })\n  );\n});\n\nlet multiNarratives = [];\n$.each($(\".multiNarrative\"), function(i, e) {\n  multiNarratives.push(\n    new MultiNarrative({\n      el: $(e)\n    })\n  );\n});\n\nwindow.Form = Form;\nlet forms = [];\n$.each($(\".form, form\"), function(i, e) {\n  forms.push(\n    new Form({\n      el: e,\n      async: e.classList.contains(\"form-async\")\n    })\n  );\n});\n\nlet searchFields = [];\n$.each($(\"input[name=search]\"), function(i, e) {\n  searchFields.push(\n    new Search({\n      el: $(e)\n    })\n  );\n});\n\nlet topTasks = new TopTasks();\n\n$.each($(\".list\"), function(i, e) {\n  new List({\n    el: $(e)\n  });\n});\n\nlet links = new Link();\n\nlet sitemap = new Sitemap();\n\nlet expands = [];\n$.each($(\".expand\"), function(i, e) {\n  expands.push(\n    new Expand({\n      el: e\n    })\n  );\n});\n\nlet movingForm = new MovingForm();\n\nlet video = new Video();\n\n//#region CustomSelect\nconst customSelectSelector = \".customSelect\";\nconst customSelectNodes = document.querySelectorAll(customSelectSelector);\n\ncustomSelectNodes.forEach(node => {\n  new CustomSelect({\n    el: node,\n    ...node.dataset\n  });\n});\n//#endregion\n\n$.each($(\".selectDropdown.dropdown\"), function(i, e) {\n  if (e.classList.contains('multiSelectDropdown')) {\n    new MultiSelectDropdown({\n      el: e\n    })\n  } else {\n    new SelectDropdown({\n      el: e\n    })\n  }\n});\n\nlet customVideoControls = new CustomVideoControls();\n\nlet dawaAutocomplete = new DawaAutocomplete();\n\nlet rendercharts = new Rendercharts();\n\nlet accordions = new Accordions();\n\nlet logins = [];\n$.each($(\".login\"), function(i, e) {\n  logins.push(\n    new Login({\n      el: e\n    })\n  );\n});\n\nlet customLogin = new CustomLogin();\n\nlet newLoginBox = new NewLoginBox();\n\nlet breadCrumb = new BreadCrumb();\n\nlet Articlelist = new Article();\n\nlet expandCollapseCircle = new ExpandCollapseCircle();\n\nlet richtext = new Richtext();\n\nlet ArticleHeadView = new ArticleHead();\n\nlet announcementPresentation = new AnnouncementPresentation();\n\nlet announcementArticle = new AnnouncementArticle();\n\nlet articlesPresentation = new ArticlesPresentation();\n\nlet icons = new Icons();\n\nlet listFilters = new ListFilters();\n\nlet exploration = new Exploration();\n\n$.each($(\".interactive-timeline\"), function(i, e) {\n  new InteractiveTimeline({\n    el: $(e)\n  });\n});\n\nlet timelines = [];\n$.each($(\".timeline\"), function(i, e) {\n  if (!$(e).data(\"timeline\")) {\n    const newTimeline = new Timeline(\n      $.extend(\n        {\n          el: e\n        },\n        $(e).data()\n      )\n    );\n    $(e).data(\"timeline\", newTimeline);\n    timelines.push(newTimeline);\n  }\n});\n\nlet table = new Table();\n\nlet twitter = new Twitter();\n\nconst stockSelector = \".stock\";\nconst stockNodes = document.querySelectorAll(stockSelector);\nstockNodes.forEach(node => {\n  new Stock({\n    el: node,\n    ...node.dataset\n  });\n});\n\nlet emergencyInformation = new EmergencyInformation();\n\nlet orderFlow = new OrderFlow();\n\nlet teaser = [];\n\n$(\".teaser-horisontal\").each(function(i, e) {\n  teaser.push(new Teaser(\n    $.extend(\n      {\n        $el: e\n      }\n    )\n  ));\n});\n\nlet teaserMedium = [];\n\n$(\".teaser-medium\").each(function(i, e) {\n  teaserMedium.push(new TeaserMedium(\n    $.extend(\n      {\n        $el: e\n      }\n    )\n  ));\n});\n\nlet customerDetails = new CustomerDetails();\n\n// Remove animation when editing.\n// Prevents element highlight box error.\nif (!$(\"body\").hasClass(\"is-experience-editing\")) {\n  //transitions on scroll for .row > .col\n  let colInView = new InViewPort({\n    el:\n      '.row:not(.footerWrapper):not(.sitemap-bottom):not(.sitemap-top):not(.scfSectionBorder):not(.disable-col-in-view-port) > [class*=\"col\"]', // fix according to our footer structure, the scfSectionBorder is for WFFM form, needs to be excluded because the animation breaks the stacking context (z-index) and items cover the tooltip\n    inViewinitedClass: \"col-in-viewport-inited\",\n    inViewClass: \"col-was-in-viewport\",\n    inViewCurrentClass: \"col-in-viewport\",\n    eventName: \"columnInView\",\n    offsetBottom: -50,\n    offsetTop: 800\n  });\n}\n\nvar $ff = $(\"[ff-tagsitems]\");\nvar componentName = \"ff-tagsitems\";\n$ff.each((i, el) => {\n  const $el = $(el);\n  if (!$el.data(componentName)) {\n    $el.data(componentName, new FilterFunction($el, $el.data()));\n  }\n});\n\n// make sure video inline works\n$(\"video\").each(function() {\n  enableInlineVideo(this);\n});\n\n// Fixing aria-labelleby and other accesibility issues (mostly when the aria-stuff needs to span multiple, or global, elements).\n$(function() {\n  $(\"section\").each(function() {\n    var $this = $(this);\n    var headings = $this.find(\n      \"h1,h2,h3,.heroSlider-headline,.onward-tagline,.coloredContentBox-headline,.topTasks-task-link\"\n    );\n    if (headings.length !== 0) {\n      var guid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n        /[xy]/g,\n        function(c) {\n          var r = (Math.random() * 16) | 0,\n            v = c == \"x\" ? r : (r & 0x3) | 0x8;\n          return v.toString(16);\n        }\n      );\n      $(headings[0]).attr(\"id\", guid);\n      $this.attr(\"aria-labelledby\", guid);\n    }\n  });\n});\n\n// BOOTSTRAP INITS\n$(function() {\n  // if($('[data-toggle=\"popover\"]').length){\n  // \t$('[data-toggle=\"popover\"]').popover()\n  // }\n  // $(\"#customerDetailsModal\").modal();\n  $(\"[data-toggle=popover]\").popover({\n    html: true,\n    content: function() {\n      var content = $(this).attr(\"data-popover-content\");\n      return $(content)\n        .children(\".popover-body\")\n        .html();\n    },\n    title: function() {\n      var title = $(this).attr(\"data-popover-content\");\n      return $(title)\n        .children(\".popover-heading\")\n        .html();\n    }\n  });\n\n  $(document).on(\"click\", function(e) {\n    $('[data-toggle=\"popover\"],[data-original-title]').each(function() {\n      //the 'is' for buttons that trigger popups\n      //the 'has' for icons within a button that triggers a popup\n      if (\n        !$(this).is(e.target) &&\n        $(this).has(e.target).length === 0 &&\n        $(\".popover\").has(e.target).length === 0 &&\n        !e.target.classList.contains(\"showLogin\")\n      ) {\n        (\n          (\n            $(this)\n              .popover(\"hide\")\n              .data(\"bs.popover\") || {}\n          ).inState || {}\n        ).click = false; // fix for BS 3.3.6\n      }\n    });\n  });\n});\n\n//////////////////////////////////////////////////////////////\n\n$(document).ready(function() {\n  //Hide chart tooltip if clicked outside the tooltip\n  //Mouse down because ng-click fires after mousedown, and it would hide the just opened tooltip if using click or mouseup\n  $(document).mousedown(function(e) {\n    var container = $(\".custom-tooltip\");\n\n    if (!container.is(\":visible\")) return;\n\n    if (\n      !container.is(e.target) && // if the target of the click isn't the container...\n      container.has(e.target).length === 0\n    ) {\n      // ... nor a descendant of the container\n      container.hide();\n    }\n  });\n});\n\nwindow.shortYear = function(value) {\n  if (typeof value !== \"string\") return value.toString().slice(-2);\n  else return value.slice(-2);\n};\n\nlet ExpandCollapseRectanglePresentationItem = new ExpandCollapseRectanglePresentation();\n\n$.each($(\".social-media-feed\"), function(i, e) {\n  new Social({\n    el: e\n  });\n});\n\n/*--- Related reads start ---*/\n\nconst relatedReadsSelector = \"[related-reads]\";\nconst relatedReadsNodes = document.querySelectorAll(relatedReadsSelector);\n\nrelatedReadsNodes.forEach(node => {\n  new RelatedReads({\n    el: node\n  });\n});\n/*--- Related reads end ---*/\n\nlet imageSliders = [];\n$.each($(\".imageSlider\"), function(i, e) {\n  imageSliders.push(\n    new ImageSlider({\n      el: $(e)\n    })\n  );\n});\n\n//#region Video Carousel\nconst videoCarouselSelector = \".video-carousel\";\nconst videoCarouselNodes = document.querySelectorAll(videoCarouselSelector);\n\nvideoCarouselNodes.forEach(node => {\n  new VideoCarousel({\n    el: node,\n    ...node.dataset\n  });\n});\n//#endregion\n\nlet careerSliders = [];\n$.each($(\".careerSlider\"), function(i, e) {\n  careerSliders.push(\n    new CareerSlider({\n      el: $(e)\n    })\n  );\n});\n\n$.each($(\".pageLanguageSwitcher\"), function(i, e) {\n  new PageLanguageSwitcher({\n    el: $(e)\n  });\n});\n\n$.each($(\".factBox\"), function(i, e) {\n  new FactBox({\n    el: $(e)\n  });\n});\n","/**\r\n * Class: customVideoControls\r\n * Description: Her goes description\r\n */\r\nimport $ from 'jquery';\r\n\r\nexport default class CustomVideoControls {\r\n  /**\r\n   * @param {number} param this is param.\r\n   * @return {number} this is return.\r\n   */\r\n  constructor(/* config */) {\r\n    var self = this;\r\n    $('.controlled-video').on('play', function() {\r\n      self.animatePlayPauseControls(this, 1);\r\n    });\r\n    $('.controlled-video').on('pause', function() {\r\n      self.animatePlayPauseControls(this, 0);\r\n    });\r\n\r\n    this.animatePlayPauseControls = function($el, $animate_in) {\r\n      if ($animate_in) {\r\n        $($el)\r\n          .parent()\r\n          .children('.custom-video-play-pause')\r\n          .animate({ height: '250px', width: '250px', opacity: '0' }, 'fast');\r\n      } else {\r\n        $($el)\r\n          .parent()\r\n          .children('.custom-video-play-pause')\r\n          .animate({ height: '50px', width: '50px', opacity: '1' }, 'fast');\r\n      }\r\n    };\r\n\r\n    $('.custom-video-play-pause').on('click', function() {\r\n      var $vid = $(this)\r\n        .parent()\r\n        .children('.controlled-video')\r\n        .get(0);\r\n      $vid.paused ? $vid.play() : $vid.pause();\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Class: Rendercharts\r\n * copy-paste from the assets-file...\r\n */\r\nimport Chart from 'chart.js';\r\nimport dateFormat from 'dateformat';\r\nimport $ from 'jquery';\r\nimport { $win } from '../base/utils/utils';\r\n\r\nexport default class Rendercharts {\r\n  constructor(/* config */) {\r\n    var locale = navigator.language || navigator.userLanguage;\r\n    // var dateFormatString = 'dd/MM/yyyy';\r\n    var dtoDateFormatString = 'dd-mm-yyyy';\r\n    var pagingData;\r\n    var isScreenSmall = $win.width() < 768;\r\n    var forwardHourlyParam = {\r\n      region: '',\r\n      hasPrevData: {},\r\n      hasNextData: {},\r\n      prevChartDate: new Date(),\r\n      chartDate: new Date(),\r\n      formattedChartDate: function(date) {\r\n        return dateFormat(\r\n          date || forwardHourlyParam.chartDate,\r\n          dtoDateFormatString\r\n        );\r\n      },\r\n      chartData: {},\r\n      clearCache: function() {\r\n        forwardHourlyParam.hasPrevData = {};\r\n        forwardHourlyParam.hasNextData = {};\r\n        forwardHourlyParam.prevChartDate = new Date();\r\n        forwardHourlyParam.chartDate = new Date();\r\n        forwardHourlyParam.chartData = {};\r\n      }\r\n    };\r\n\r\n    $(function() {\r\n      $('.marketchart').each(function(index) {\r\n        $(this)\r\n          .find('canvas')\r\n          .attr('data-chart-id', '' + index);\r\n        updateChart($(this));\r\n      });\r\n\r\n      $('.energymarketTableContainer').each(function() {\r\n        updateTable($(this));\r\n      });\r\n    });\r\n\r\n    $('.marketchart form').change(function() {\r\n      var chartType = $(this)\r\n        .parent()\r\n        .find('canvas')\r\n        .attr('data-chart-type');\r\n      if (chartType == 'forwardhourly') {\r\n        forwardHourlyParam.clearCache();\r\n      }\r\n      updateChart($(this).parent());\r\n    });\r\n\r\n    $('.energymarketTableContainer form').change(function() {\r\n      updateTable($(this).parent());\r\n    });\r\n\r\n    $win.resize(function() {\r\n      var width = window.outerWidth;\r\n      var smallScreenNewValue = width < 768;\r\n      if (smallScreenNewValue != isScreenSmall) {\r\n        isScreenSmall = smallScreenNewValue;\r\n        updateChartPaging($('#hourlyMarketChart'));\r\n      }\r\n    });\r\n\r\n    function formatCurrency(num, numDigits) {\r\n      try {\r\n        num = num.toLocaleString(locale, {\r\n          minimumFractionDigits: numDigits,\r\n          maximumFractionDigits: numDigits\r\n        });\r\n      } catch (err) {\r\n        num = num.toFixed(numDigits);\r\n      }\r\n      return num;\r\n    }\r\n\r\n    function formatCurrencyArr(arr, numDigits) {\r\n      for (var i = 0; i < arr.length; i++) {\r\n        arr[i] = formatCurrency(arr[i], numDigits);\r\n      }\r\n      return arr;\r\n    }\r\n\r\n    function updateTable(obj) {\r\n      var currency = obj.find('[data-selector=currency]').val();\r\n      var region = obj.find('[data-selector=region]').val();\r\n      if (!region) {\r\n        region = $('input[name=\"regionRadio\"]:checked').val();\r\n      }\r\n\r\n      var period = obj.find('[data-selector=period]').val();\r\n      // var product = obj.find('[data-selector=product]').val();\r\n\r\n      var col1 = [];\r\n      var col2 = [];\r\n      var col3 = [];\r\n      var col4 = [];\r\n\r\n      var apiEndpoint = '';\r\n      var inputData = {};\r\n\r\n      apiEndpoint = '/api/energymarket/spotprices/daily';\r\n      inputData = { currency: currency, period: period };\r\n\r\n      //console.log(apiEndpoint);\r\n      //console.log(inputData);\r\n      var output = '';\r\n      var priceUnit = currency + '/MWh';\r\n      var priceInfo = '';\r\n      obj.find('.chartLoader').show();\r\n      $.ajax({\r\n        url: apiEndpoint,\r\n        data: inputData\r\n      })\r\n        .then(function(msg) {\r\n          col1 = msg.period;\r\n          col2 = msg.vestdk;\r\n          col3 = msg.oestdk;\r\n          col4 = msg.system;\r\n\r\n          if (col1.length === 0) {\r\n            priceInfo =\r\n              'Der er endnu ikke data for denne selektion. Prøv venligst igen senere';\r\n            output = '';\r\n          } else {\r\n            col2 = formatCurrencyArr(col2, 2);\r\n            col3 = formatCurrencyArr(col3, 2);\r\n            col4 = formatCurrencyArr(col4, 2);\r\n\r\n            output = \"<table class='table table-no-collapse'>\";\r\n            output +=\r\n              \"<thead class='theme-primary-color-background theme-color-base'>\";\r\n            output += '<tr>';\r\n            output +=\r\n              '<th>Periode</th><th>Vest-DK</th><th>Øst-DK</th><th>System</th>';\r\n            output += '</tr>';\r\n            output += '</thead>';\r\n            output += '<tbody>';\r\n            for (var i = 0; i < col1.length; i++) {\r\n              output += '<tr>';\r\n              output += '<td>' + col1[i] + '</td>';\r\n              output += '<td>' + col2[i] + '</td>';\r\n              output += '<td>' + col3[i] + '</td>';\r\n              output += '<td>' + col4[i] + '</td>';\r\n              output += '</tr>';\r\n            }\r\n            output += '</tbody>';\r\n            output += '</table>';\r\n            priceInfo = 'Priserne er vist som ' + priceUnit;\r\n          }\r\n\r\n          obj.find('.energymarketTable').html(output);\r\n          obj.find('.energymarketInformation').html(priceInfo);\r\n          obj.find('.chartLoader').hide();\r\n        })\r\n        .catch(function() {\r\n          console.log(\r\n            'There was an error loading table data from API. Try again..'\r\n          );\r\n        });\r\n    }\r\n\r\n    function updateChart(obj) {\r\n      var currency = obj.find('[data-selector=currency]').val();\r\n      var region = obj.find('[data-selector=region]').val();\r\n      var period = obj.find('[data-selector=period]').val();\r\n      var product = obj.find('[data-selector=product]').val();\r\n      var periodLength = obj.find('[data-selector=periodLength]').val();\r\n      if (!region) {\r\n        region = $('input[name=regionRadio]:checked').val();\r\n      }\r\n\r\n      var data;\r\n      var labels;\r\n      var unit;\r\n      var dateFormatString = obj.find('canvas').attr('data-date-format');\r\n      var chartType = obj.find('canvas').attr('data-chart-type');\r\n      var xlabel = obj.find('canvas').attr('data-xlabel');\r\n\r\n      if (chartType === 'naturalgas') {\r\n        if (product === 'NPG') {\r\n          obj\r\n            .find(\"[data-selector='period']\")\r\n            .children()\r\n            .hide();\r\n          obj\r\n            .find(\"[data-selector='period']\")\r\n            .children()\r\n            .first()\r\n            .show();\r\n          obj\r\n            .find(\"[data-selector='period']\")\r\n            .children()\r\n            .first()\r\n            .attr('selected', 'selected');\r\n          period = obj.find('[data-selector=period]').val();\r\n        } else {\r\n          obj\r\n            .find(\"[data-selector='period']\")\r\n            .children()\r\n            .show();\r\n        }\r\n      }\r\n\r\n      var apiEndpoint = '';\r\n      var inputData = {};\r\n      if (chartType === 'forwardlive') {\r\n        apiEndpoint = '/api/energymarket/forwardprices/live';\r\n        // Date(year, month, day, hours, minutes, seconds, milliseconds)\r\n        var res = period.split(';');\r\n        inputData = {\r\n          region: region,\r\n          currency: currency,\r\n          startdate: res[0],\r\n          enddate: res[1]\r\n        };\r\n        unit = 'MWh';\r\n      } else if (chartType === 'forwardhistoric') {\r\n        apiEndpoint = '/api/energymarket/forwardprices/historic';\r\n        inputData = { region: region, currency: currency, period: period };\r\n        unit = 'MWh';\r\n      } else if (chartType === 'spot') {\r\n        apiEndpoint = '/api/energymarket/spotprices/period';\r\n        inputData = { region: region, currency: currency, period: period };\r\n        unit = 'MWh';\r\n      } else if (chartType === 'naturalgas') {\r\n        apiEndpoint = '/api/energymarket/gasprices';\r\n        inputData = { period: period, currency: currency, region: product };\r\n        unit = 'm3';\r\n        if (currency === 'DKK') {\r\n          currency = 'øre';\r\n        } else if (currency === 'EUR') {\r\n          // This is weird, but this is how it is on the current Dong site.\r\n          currency = 'EUR';\r\n          unit = 'MWh';\r\n        }\r\n      } else if (chartType === 'co2prices') {\r\n        apiEndpoint = '/api/energymarket/co2prices';\r\n        inputData = { period: period, currency: currency, region: product };\r\n        unit = 'Ton';\r\n      } else if (chartType === 'forwardhourly') {\r\n        apiEndpoint = '/api/energymarket/forwardprices/hourly';\r\n        inputData = {\r\n          region: region,\r\n          period: forwardHourlyParam.formattedChartDate()\r\n        };\r\n        unit = 'kWh';\r\n        if (currency === 'DKK') {\r\n          currency = 'øre';\r\n        } else if (!currency) {\r\n          // This is weird, but this is how it is on the current Dong site.\r\n          currency = 'øre';\r\n        }\r\n      }\r\n\r\n      var ylabel = currency + '/' + unit;\r\n      //console.log(inputData);\r\n      //console.log(apiEndpoint);\r\n\r\n      obj.find('.chartLoader').show();\r\n      $.ajax({\r\n        url: apiEndpoint,\r\n        data: inputData\r\n      })\r\n        .then(function(msg) {\r\n          data = msg.yvalues;\r\n          labels = msg.xvalues;\r\n\r\n          var chartobj =\r\n            energyMarketCharts[obj.find('canvas').attr('data-chart-id')];\r\n\r\n          if (data.length === 0 || labels.length === 0) {\r\n            if (chartType === 'forwardhourly') {\r\n              forwardHourlyParam.chartDate.setDate(\r\n                forwardHourlyParam.prevChartDate.getDate()\r\n              );\r\n              changeHourlyChartPage(chartobj, 0);\r\n            } else {\r\n              obj\r\n                .find('.chartErrorText')\r\n                .html(\r\n                  'Der er endnu ikke data for denne selektion. Prøv venligst igen senere'\r\n                );\r\n              obj.find('.chartErrorText').show();\r\n              obj.find('canvas').hide();\r\n            }\r\n          } else {\r\n            if (periodLength && periodLength < 24) {\r\n              var filterResult = filterDataAndLabels(\r\n                data,\r\n                labels,\r\n                periodLength\r\n              );\r\n              data = filterResult.data;\r\n              labels = filterResult.labels;\r\n            }\r\n\r\n            chartobj.options.scales.yAxes[0].scaleLabel.labelString = ylabel;\r\n            chartobj.options.scales.xAxes[0].scaleLabel.labelString = xlabel;\r\n\r\n            if (chartType === 'forwardhourly') {\r\n              if (forwardHourlyParam.region == '') {\r\n                forwardHourlyParam.region = region;\r\n              } else if (forwardHourlyParam.region != region) {\r\n                forwardHourlyParam.clearCache();\r\n                forwardHourlyParam.region = region;\r\n              }\r\n              if (\r\n                // eslint-disable-next-line no-prototype-builtins\r\n                !forwardHourlyParam.chartData.hasOwnProperty(\r\n                  forwardHourlyParam.formattedChartDate()\r\n                )\r\n              ) {\r\n                forwardHourlyParam.chartData[\r\n                  forwardHourlyParam.formattedChartDate()\r\n                ] = data;\r\n              }\r\n              forwardHourlyParam.hasPrevData[\r\n                forwardHourlyParam.formattedChartDate()\r\n              ] = msg.prev;\r\n              forwardHourlyParam.hasNextData[\r\n                forwardHourlyParam.formattedChartDate()\r\n              ] = msg.next;\r\n              $('#hourlyChartPrevButton').css(\r\n                'display',\r\n                forwardHourlyParam.hasPrevData[\r\n                  forwardHourlyParam.formattedChartDate()\r\n                ]\r\n                  ? 'block'\r\n                  : 'none'\r\n              );\r\n              $('#hourlyChartNextButton').css(\r\n                'display',\r\n                forwardHourlyParam.hasNextData[\r\n                  forwardHourlyParam.formattedChartDate()\r\n                ]\r\n                  ? 'block'\r\n                  : 'none'\r\n              );\r\n              setXaxisLabel();\r\n            }\r\n            if (chartobj.config.type === 'bar') {\r\n              if (chartType === 'forwardhourly') {\r\n                pagingData = {\r\n                  Labels: labels,\r\n                  Data: data,\r\n                  Region: region,\r\n                  Page: 1,\r\n                  PageSize: 24,\r\n                  StepSize: 3\r\n                };\r\n              } else {\r\n                pagingData = {\r\n                  Labels: labels,\r\n                  Data: data,\r\n                  Region: region,\r\n                  Page: 1,\r\n                  PageSize: 6,\r\n                  StepSize: 3\r\n                };\r\n              }\r\n              if (\r\n                data.filter(function() {\r\n                  return this < 0;\r\n                }).length === 0\r\n              ) {\r\n                chartobj.options.scales.yAxes[0].ticks.beginAtZero = true;\r\n              }\r\n              for (var i = 0; i < labels.length; i++) {\r\n                var date = new Date(labels[i]);\r\n                date = date.getHours();\r\n                if (date < 10) {\r\n                  date = '0' + date;\r\n                }\r\n                labels[i] = date;\r\n              }\r\n\r\n              chartobj.options.tooltips.titleFontFamily = 'OrstedSansRegular';\r\n              chartobj.options.tooltips.bodyFontFamily = 'OrstedSansRegular';\r\n              chartobj.options.tooltips.callbacks.title = function(\r\n                tooltipItem,\r\n                data\r\n              ) {\r\n                var n = data['labels'][tooltipItem[0]['index']];\r\n                var nplusone = parseInt(n) + 1;\r\n                if (nplusone < 10) {\r\n                  nplusone = '0' + nplusone;\r\n                }\r\n                return 'Kl. ' + n + '-' + nplusone;\r\n              };\r\n            } else {\r\n              for (i = 0; i < labels.length; i++) {\r\n                labels[i] = dateFormat(labels[i], dateFormatString);\r\n              }\r\n            }\r\n            if (chartobj.config.type === 'bar') {\r\n              for (i = 0; i < labels.length; i++) {\r\n                if (i < 10) {\r\n                  labels[i] = '0' + i;\r\n                } else {\r\n                  labels[i] = i.toString();\r\n                }\r\n              }\r\n              chartobj.options.tooltips.callbacks.label = function(\r\n                tooltipItem,\r\n                data\r\n              ) {\r\n                var n =\r\n                  data.datasets[tooltipItem.datasetIndex].data[\r\n                    tooltipItem.index\r\n                  ];\r\n                n = n.toLocaleString('da-DK', {\r\n                  minimumFractionDigits: 2,\r\n                  maximumFractionDigits: 2\r\n                });\r\n                return n + ' ' + ylabel;\r\n              };\r\n              $('#downloadCsvData').val(getChartDataCsv(data, labels));\r\n              $('#downloadCsvData')\r\n                .unbind('click')\r\n                .click(function() {\r\n                  var fileName = 'chart-data.csv';\r\n                  var csvData = $(this).val();\r\n                  if (window.navigator.msSaveOrOpenBlob) {\r\n                    var blob = new Blob([csvData], { type: 'text/csv' });\r\n                    window.navigator.msSaveBlob(blob, fileName);\r\n                  } else {\r\n                    $(this).attr(\r\n                      'href',\r\n                      'data:text/csv;charset=utf-8,' +\r\n                        encodeURIComponent(csvData)\r\n                    );\r\n                    $(this).attr('download', fileName);\r\n                  }\r\n                });\r\n              if (chartType === 'forwardhourly') {\r\n                $('.hourlyChartNextButton')\r\n                  .unbind('click')\r\n                  .on(\r\n                    'click',\r\n                    { energyMarketCharts: energyMarketCharts, obj: obj },\r\n                    hourlyChartNextPage\r\n                  );\r\n                $('.hourlyChartPrevButton')\r\n                  .unbind('click')\r\n                  .on(\r\n                    'click',\r\n                    { energyMarketCharts: energyMarketCharts, obj: obj },\r\n                    hourlyChartPreviousPage\r\n                  );\r\n              } else {\r\n                $('.chartNextButton')\r\n                  .unbind('click')\r\n                  .on(\r\n                    'click',\r\n                    { energyMarketCharts: energyMarketCharts, obj: obj },\r\n                    nextPage\r\n                  );\r\n                $('.chartPrevButton')\r\n                  .unbind('click')\r\n                  .on(\r\n                    'click',\r\n                    { energyMarketCharts: energyMarketCharts, obj: obj },\r\n                    previousPage\r\n                  );\r\n              }\r\n            } else {\r\n              chartobj.options.tooltips.callbacks.label = function(\r\n                tooltipItem,\r\n                data\r\n              ) {\r\n                var n = formatCurrency(\r\n                  data.datasets[tooltipItem.datasetIndex].data[\r\n                    tooltipItem.index\r\n                  ],\r\n                  2\r\n                );\r\n                return n + ' ' + ylabel;\r\n              };\r\n            }\r\n            var noPaging = false;\r\n            obj.find('.chartErrorText').hide();\r\n            obj.find('canvas').show();\r\n            if (chartobj.config.type === 'bar') {\r\n              changeChartPage(chartobj, noPaging);\r\n            } else {\r\n              chartobj.data.datasets[0].data = data;\r\n              chartobj.data.labels = labels;\r\n              chartobj.update(300);\r\n            }\r\n          }\r\n          obj.find('.chartLoader').hide();\r\n        })\r\n        .catch(function(/* err */) {\r\n          console.log(\r\n            'There was an error loading chart data from API. Try again..'\r\n          );\r\n        });\r\n    }\r\n\r\n    function getChartDataCsv(data, labels) {\r\n      var chartData = 'Tidspunkt;Elpris\\r\\n';\r\n      for (var i = 0; i < labels.length; i++) {\r\n        chartData +=\r\n          labels[i] +\r\n          ';' +\r\n          data[i].toLocaleString('da-DK', {\r\n            minimumFractionDigits: 2,\r\n            maximumFractionDigits: 2\r\n          }) +\r\n          '\\r\\n';\r\n      }\r\n      return chartData;\r\n    }\r\n\r\n    function updateChartPaging(obj) {\r\n      var chartType = obj.find('canvas').attr('data-chart-type');\r\n      if (chartType != 'forwardhourly') {\r\n        return;\r\n      }\r\n      if (!pagingData) {\r\n        return;\r\n      }\r\n      var chartObj =\r\n        energyMarketCharts[obj.find('canvas').attr('data-chart-id')];\r\n      changeChartPage(chartObj);\r\n    }\r\n\r\n    function hourlyChartNextPage(event) {\r\n      if (\r\n        forwardHourlyParam.hasNextData[forwardHourlyParam.formattedChartDate()]\r\n      ) {\r\n        var chartobj =\r\n          event.data.energyMarketCharts[\r\n            event.data.obj.find('canvas').attr('data-chart-id')\r\n          ];\r\n        changeHourlyChartPage(chartobj, 1);\r\n      }\r\n    }\r\n\r\n    function hourlyChartPreviousPage(event) {\r\n      if (\r\n        forwardHourlyParam.hasPrevData[forwardHourlyParam.formattedChartDate()]\r\n      ) {\r\n        var chartobj =\r\n          event.data.energyMarketCharts[\r\n            event.data.obj.find('canvas').attr('data-chart-id')\r\n          ];\r\n        changeHourlyChartPage(chartobj, -1);\r\n      }\r\n    }\r\n\r\n    function changeHourlyChartPage(chartobj, page) {\r\n      forwardHourlyParam.prevChartDate.setDate(\r\n        forwardHourlyParam.chartDate.getDate()\r\n      );\r\n      forwardHourlyParam.chartDate.setDate(\r\n        forwardHourlyParam.chartDate.getDate() + page\r\n      );\r\n      setXaxisLabel();\r\n      if (\r\n        // eslint-disable-next-line no-prototype-builtins\r\n        forwardHourlyParam.chartData.hasOwnProperty(\r\n          forwardHourlyParam.formattedChartDate()\r\n        )\r\n      ) {\r\n        pagingData.Data =\r\n          forwardHourlyParam.chartData[forwardHourlyParam.formattedChartDate()];\r\n        chartobj.data.datasets[0].data = pagingData.Data;\r\n        chartobj.update(300);\r\n        $('#downloadCsvData').val(\r\n          getChartDataCsv(pagingData.Data, pagingData.Labels)\r\n        );\r\n      } else {\r\n        updateChart($('.marketchart:has(#hourlyMarketChart)'));\r\n      }\r\n      $('.hourlyChartPrevButton').css(\r\n        'display',\r\n        forwardHourlyParam.hasPrevData[forwardHourlyParam.formattedChartDate()]\r\n          ? 'block'\r\n          : 'none'\r\n      );\r\n      $('.hourlyChartNextButton').css(\r\n        'display',\r\n        forwardHourlyParam.hasNextData[forwardHourlyParam.formattedChartDate()]\r\n          ? 'block'\r\n          : 'none'\r\n      );\r\n    }\r\n\r\n    function setXaxisLabel() {\r\n      var datelabel = new Date(forwardHourlyParam.chartDate);\r\n      var optionsday = { weekday: 'long' };\r\n      var optionsdate = { year: 'numeric', month: 'long', day: '2-digit' };\r\n      var daytext =\r\n        datelabel\r\n          .toLocaleString('da-DK', optionsday)\r\n          .charAt(0)\r\n          .toUpperCase() +\r\n        datelabel.toLocaleString('da-DK', optionsday).substr(1);\r\n      $('.canvasLabel').text(\r\n        daytext + ' ' + datelabel.toLocaleString('da-DK', optionsdate)\r\n      );\r\n    }\r\n    \r\n    function nextPage(event) {\r\n      if (\r\n        pagingData &&\r\n        (pagingData.Page + 1) * pagingData.PageSize <= pagingData.Data.length\r\n      ) {\r\n        pagingData.Page = pagingData.Page + 1;\r\n        var chartobj =\r\n          event.data.energyMarketCharts[\r\n            event.data.obj.find('canvas').attr('data-chart-id')\r\n          ];\r\n        changeChartPage(chartobj);\r\n      }\r\n    }\r\n\r\n    function previousPage(event) {\r\n      if (pagingData && pagingData.Page > 1) {\r\n        pagingData.Page = pagingData.Page - 1;\r\n        var chartobj =\r\n          event.data.energyMarketCharts[\r\n            event.data.obj.find('canvas').attr('data-chart-id')\r\n          ];\r\n        changeChartPage(chartobj);\r\n      }\r\n    }\r\n    \r\n    function changeChartPage(chartobj, noPaging) {\r\n      var data, labels;\r\n      if (isScreenSmall && !noPaging) {\r\n        var startIndex = (pagingData.Page - 1) * pagingData.PageSize;\r\n        var endIndex = pagingData.Page * pagingData.PageSize;\r\n        data = pagingData.Data.slice(startIndex, endIndex);\r\n        labels = pagingData.Labels.slice(startIndex, endIndex);\r\n      } else {\r\n        data = pagingData.Data;\r\n        labels = pagingData.Labels;\r\n      }\r\n      chartobj.data.datasets[0].data = data;\r\n      chartobj.data.labels = labels;\r\n      chartobj.update(300);\r\n    }\r\n\r\n    function filterDataAndLabels(data, labels, periodLength) {\r\n      var searchedDate = getOffsetDate(periodLength, true);\r\n      var firstDate = getFirstDateFromLabels(labels);\r\n\r\n      if (searchedDate < firstDate) {\r\n        searchedDate = firstDate;\r\n      }\r\n      var searchedDateString = getDateInPriceApiFormat(searchedDate);\r\n      var cutOffIndex = labels.indexOf(searchedDateString);\r\n\r\n      var offset = 0;\r\n      while (cutOffIndex === -1) {\r\n        offset++;\r\n        searchedDate = getOffsetDate(offset, false, searchedDate);\r\n        if (searchedDate < firstDate) {\r\n          searchedDate = firstDate;\r\n          break;\r\n        }\r\n        searchedDateString = getDateInPriceApiFormat(searchedDate);\r\n        cutOffIndex = labels.indexOf(searchedDateString);\r\n      }\r\n\r\n      var result = {};\r\n      result.data = data.slice(cutOffIndex);\r\n      result.labels = labels.slice(cutOffIndex);\r\n      return result;\r\n    }\r\n\r\n    function getOffsetDate(offset, byMonth, initialDate) {\r\n      var currentDate = initialDate ? initialDate : new Date();\r\n      if (byMonth === true) {\r\n        currentDate.setMonth(currentDate.getMonth() - offset);\r\n      } else {\r\n        currentDate.setDate(currentDate.getDate() - offset);\r\n      }\r\n      return currentDate;\r\n    }\r\n\r\n    function getDateInPriceApiFormat(date) {\r\n      var dd = date.getDate();\r\n      var mm = date.getMonth() + 1;\r\n      var yyyy = date.getFullYear();\r\n      if (dd < 10) {\r\n        dd = '0' + dd;\r\n      }\r\n      if (mm < 10) {\r\n        mm = '0' + mm;\r\n      }\r\n      return yyyy + '-' + mm + '-' + dd + 'T00:00:00.0000000Z';\r\n    }\r\n\r\n    function getFirstDateFromLabels(labels) {\r\n      var firstElem = labels[0];\r\n      var yyyy = firstElem.substr(0, 4);\r\n      var mm = firstElem.substr(5, 2);\r\n      var dd = firstElem.substr(8, 2);\r\n      var firstDate = new Date();\r\n      firstDate.setFullYear(yyyy, mm - 1, dd);\r\n      return firstDate;\r\n    }\r\n\r\n    var data = [];\r\n    var labels = [];\r\n\r\n    Chart.defaults.global.defaultFontSize = 14;\r\n    Chart.defaults.global.defaultFontFamily = '\"MaineSansRegular\", sans';\r\n    Chart.defaults.global.defaultFontColor = 'rgb(0,0,0)';\r\n    Chart.defaults.global.tooltips.titleFontSize = 14;\r\n    Chart.defaults.global.tooltips.bodyFontSize = 14;\r\n\r\n    var energyMarketCharts = [];\r\n\r\n    $('.marketchart')\r\n      .find('canvas')\r\n      .each(function() {\r\n        var lineColor = '#4e9dd4';\r\n        var chartStyle = $(this).attr('data-chart-style');\r\n\r\n        //if style is not set the default is \"line\"\r\n        var type = chartStyle ? chartStyle : 'line';\r\n\r\n        var dataset = {\r\n          data: data,\r\n          borderColor: lineColor,\r\n          fill: false,\r\n          pointRadius: 1,\r\n          pointBackgroundColor: lineColor,\r\n          pointHoverRadius: 6,\r\n          pointHitRadius: 15,\r\n          xLabels: ''\r\n        };\r\n        var yAxis = {\r\n          gridLines: {\r\n            zeroLineWidth: 1,\r\n            zeroLineColor: 'rgb(0,0,0)'\r\n          },\r\n          scaleLabel: {\r\n            display: true,\r\n            fontStyle: 'bold',\r\n            fontSize: 18\r\n          },\r\n          ticks: {\r\n            maxRotation: 0\r\n          }\r\n        };\r\n\r\n        var xAxis = {\r\n          gridLines: {\r\n            zeroLineWidth: 1,\r\n            zeroLineColor: 'rgb(0,0,0)'\r\n          },\r\n          scaleLabel: {\r\n            display: true,\r\n            labelString: 'Dato',\r\n            fontStyle: 'bold',\r\n            fontSize: 18\r\n          },\r\n          ticks: {\r\n            maxRotation: 0\r\n          }\r\n        };\r\n\r\n        var optionplugins = {};\r\n        var plugins = [];\r\n\r\n        var chartType = $(this).attr('data-chart-type');\r\n        if (chartType == 'forwardhourly') {\r\n          plugins.push({\r\n            id: 'swipe',\r\n            afterEvent: function afterEvent(chart, event, options) {\r\n              if (event.type === 'touchstart' || event.type === 'mousedown') {\r\n                this.startPosX = event.native.changedTouches[0].screenX;\r\n              } else if (\r\n                event.type === 'touchend' ||\r\n                event.type === 'mouseup'\r\n              ) {\r\n                this.endPosX = event.native.changedTouches[0].screenX;\r\n                if (this.startPosX > this.endPosX) {\r\n                  options.nextSeries({\r\n                    data: {\r\n                      energyMarketCharts: energyMarketCharts,\r\n                      obj: $('.marketchart')\r\n                    }\r\n                  });\r\n                }\r\n                if (this.startPosX < this.endPosX) {\r\n                  options.prevSeries({\r\n                    data: {\r\n                      energyMarketCharts: energyMarketCharts,\r\n                      obj: $('.marketchart')\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n            }\r\n          });\r\n          optionplugins = {\r\n            swipe: {\r\n              prevSeries: hourlyChartPreviousPage,\r\n              nextSeries: hourlyChartNextPage\r\n            }\r\n          };\r\n        }\r\n\r\n        var options = {\r\n          legend: { display: false },\r\n          scales: {\r\n            yAxes: [yAxis],\r\n            xAxes: [xAxis]\r\n          },\r\n          tooltips: {\r\n            displayColors: false\r\n          },\r\n          events: ['mousemove', 'touchstart', 'touchend'],\r\n          elements: {\r\n            line: {\r\n              tension: 0.0,\r\n              borderJoinStyle: 'round',\r\n              borderWidth: 3\r\n            }\r\n          },\r\n          plugins: optionplugins\r\n        };\r\n\r\n        if (type === 'bar') {\r\n          dataset.backgroundColor = lineColor;\r\n          options.hover = { mode: null };\r\n          yAxis.offsetGridLines = false;\r\n          xAxis.offsetGridLines = false;\r\n          //xAxis.ticks.autoSkip = false;\r\n          xAxis.gridLines.display = false;\r\n          yAxis.gridLines.drawBorder = false;\r\n          xAxis.gridLines.drawBorder = false;\r\n          yAxis.gridLines.zeroLineColor = 'rgba(0,0,0,0.1)';\r\n          yAxis.scaleLabel.display = false;\r\n          xAxis.scaleLabel.fontFamily = 'OrstedSansBold';\r\n          xAxis.scaleLabel.fontColor = '#3b4956';\r\n          xAxis.scaleLabel.fontSize = 16;\r\n          xAxis.ticks.fontFamily = 'OrstedSansRegular';\r\n          xAxis.ticks.fontColor = '#3b4956';\r\n          yAxis.ticks.fontFamily = 'OrstedSansRegular';\r\n          yAxis.ticks.fontColor = '#3b4956';\r\n          yAxis.ticks.padding = 10;\r\n        }\r\n\r\n        energyMarketCharts.push(\r\n          new Chart(this, {\r\n            type: type,\r\n            data: {\r\n              labels: labels,\r\n              datasets: [dataset]\r\n            },\r\n            options: options,\r\n            plugins: plugins\r\n          })\r\n        );\r\n      });\r\n  }\r\n}\r\n","/* eslint-disable */\r\n(function () {\r\n    function k(a) {\r\n        return function (b) {\r\n            this[a] = b\r\n        }\r\n    }\r\n    function g(a) {\r\n        return function () {\r\n            return this[a]\r\n        }\r\n    }\r\n    function d(a, b, c) {\r\n        this.extend(d, google.maps.OverlayView);\r\n        this.c = a;\r\n        this.a = [];\r\n        this.f = [];\r\n        this.ca = [53, 56, 66, 78, 90];\r\n        this.j = [];\r\n        this.A = !1;\r\n        c = c || {};\r\n        this.g = c.gridSize || 60;\r\n        this.l = c.minimumClusterSize || 2;\r\n        this.J = c.maxZoom || h;\r\n        this.j = c.styles || [];\r\n        this.X = c.imagePath || this.Q;\r\n        this.W = c.imageExtension || this.P;\r\n        this.O = !0;\r\n        void 0 != c.zoomOnClick && (this.O = c.zoomOnClick);\r\n        this.r = !1;\r\n        void 0 != c.averageCenter && (this.r = c.averageCenter);\r\n        if (!this.j.length) {\r\n            c = 0;\r\n            for (var e; e = this.ca[c]; c++) this.j.push({\r\n                url: this.X + (c + 1) + \".\" + this.W,\r\n                height: e,\r\n                width: e\r\n            })\r\n        }\r\n        this.setMap(a);\r\n        this.K = this.c.getZoom();\r\n        var p = this;\r\n        google.maps.event.addListener(this.c, \"zoom_changed\", function () {\r\n            var a = p.c.getZoom();\r\n            p.K != a && (p.K = a, p.m())\r\n        });\r\n        google.maps.event.addListener(this.c, \"idle\", function () {\r\n            p.i()\r\n        });\r\n        b && b.length && this.C(b, !1)\r\n    }\r\n    function q(a, b) {\r\n        b.s = !1;\r\n        b.draggable && google.maps.event.addListener(b, \"dragend\", function () {\r\n            b.s = !1;\r\n            a.L()\r\n        });\r\n        a.a.push(b)\r\n    }\r\n    function s(a, b) {\r\n        var c = -1;\r\n        if (a.a.indexOf) c = a.a.indexOf(b);\r\n        else for (var d = 0, e; e = a.a[d]; d++) if (e == b) {\r\n            c = d;\r\n            break\r\n        }\r\n        if (-1 == c) return !1;\r\n        b.setMap(h);\r\n        a.a.splice(c, 1);\r\n        return !0\r\n    }\r\n    function t(a) {\r\n        if (a.A) for (var b = a.v(new google.maps.LatLngBounds(a.c.getBounds().getSouthWest(), a.c.getBounds().getNorthEast())), c = 0, d; d = a.a[c]; c++) if (!d.s && b.contains(d.point)) {\r\n            for (var e = a, g = 4E4, f = h, k = 0, m = void 0; m = e.f[k]; k++) {\r\n                var j = m.getCenter();\r\n                if (j) {\r\n                    var r = d.point;\r\n                    if (!j || !r) j = 0;\r\n                    else var n = (r.lat() - j.lat()) * Math.PI / 180,\r\n                        q = (r.lng() - j.lng()) * Math.PI / 180,\r\n                        j = Math.sin(n / 2) * Math.sin(n / 2) + Math.cos(j.lat() * Math.PI / 180) * Math.cos(r.lat() * Math.PI / 180) * Math.sin(q / 2) * Math.sin(q / 2),\r\n                        j = 12742 * Math.atan2(Math.sqrt(j), Math.sqrt(1 - j));\r\n                    j < g && (g = j, f = m)\r\n                }\r\n            }\r\n            f && f.F.contains(d.point) ? f.q(d) : (m = new l(e), m.q(d), e.f.push(m))\r\n        }\r\n    }\r\n    function l(a) {\r\n        this.k = a;\r\n        this.c = a.getMap();\r\n        this.g = a.w();\r\n        this.l = a.l;\r\n        this.r = a.r;\r\n        this.d = h;\r\n        this.a = [];\r\n        this.F = h;\r\n        this.n = new f(this, a.z(), a.w())\r\n    }\r\n    function u(a) {\r\n        a.F = a.k.v(new google.maps.LatLngBounds(a.d, a.d))\r\n    }\r\n    function f(a, b, c) {\r\n        a.k.extend(f, google.maps.OverlayView);\r\n        this.j = b;\r\n        this.fa = c || 0;\r\n        this.u = a;\r\n        this.d = h;\r\n        this.c = a.getMap();\r\n        this.B = this.b = h;\r\n        this.t = !1;\r\n        this.setMap(this.c)\r\n    }\r\n    function n(a, b) {\r\n        var c = a.getProjection().fromLatLngToDivPixel(b);\r\n        c.x -= parseInt(a.p / 2, 10);\r\n        c.y -= parseInt(a.h / 2, 10);\r\n        return c\r\n    }\r\n    function v(a) {\r\n        a.b && (a.b.style.display = \"none\");\r\n        a.t = !1\r\n    }\r\n    function w(a, b) {\r\n        var c = [];\r\n        c.push(\"background-image:url(\" + a.da + \");\");\r\n        c.push(\"background-position:\" + (a.D ? a.D : \"0 0\") + \";\");\r\n        \"object\" === typeof a.e ? (\"number\" === typeof a.e[0] && 0 < a.e[0] && a.e[0] < a.h ? c.push(\"height:\" + (a.h - a.e[0]) + \"px; padding-top:\" + a.e[0] + \"px;\") : c.push(\"height:\" + a.h + \"px; line-height:\" + a.h + \"px;\"), \"number\" === typeof a.e[1] && 0 < a.e[1] && a.e[1] < a.p ? c.push(\"width:\" + (a.p - a.e[1]) + \"px; padding-left:\" + a.e[1] + \"px;\") : c.push(\"width:\" + a.p + \"px; text-align:center;\")) : c.push(\"height:\" + a.h + \"px; line-height:\" + a.h + \"px; width:\" + a.p + \"px; text-align:center;\");\r\n        c.push(\"cursor:pointer; top:\" + b.y + \"px; left:\" + b.x + \"px; color:\" + (a.M ? a.M : \"black\") + \"; position:absolute;z-index:1; font-size:\" + (a.N ? a.N : 11) + \"px; font-family:Arial,sans-serif; font-weight:bold\");\r\n        return c.join(\"\")\r\n    }\r\n    var h = null,\r\n        e;\r\n    e = d.prototype;\r\n    e.Q = \"http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m\";\r\n    e.P = \"png\";\r\n    e.extend = function (a, b) {\r\n        return function (a) {\r\n            for (var b in a.prototype) this.prototype[b] = a.prototype[b];\r\n            return this\r\n        }.apply(a, [b])\r\n    };\r\n    e.onAdd = function () {\r\n        this.A || (this.A = !0, t(this))\r\n    };\r\n    e.draw = function () {};\r\n    e.S = function () {\r\n        for (var a = this.o(), b = new google.maps.LatLngBounds, c = 0, d; d = a[c]; c++) b.extend(d.getPosition());\r\n        this.c.fitBounds(b)\r\n    };\r\n    e.z = g(\"j\");\r\n    e.o = g(\"a\");\r\n    e.V = function () {\r\n        return this.a.length\r\n    };\r\n    e.ba = k(\"J\");\r\n    e.I = g(\"J\");\r\n    e.G = function (a, b) {\r\n        for (var c = 0, d = a.length, e = d; 0 !== e;) e = parseInt(e / 10, 10), c++;\r\n        c = Math.min(c, b);\r\n        return {\r\n            text: d,\r\n            index: c\r\n        }\r\n    };\r\n    e.$ = k(\"G\");\r\n    e.H = g(\"G\");\r\n    e.C = function (a, b) {\r\n        for (var c = 0, d; d = a[c]; c++) q(this, d);\r\n        b || this.i()\r\n    };\r\n    e.q = function (a, b) {\r\n        q(this, a);\r\n        b || this.i()\r\n    };\r\n    e.Y = function (a, b) {\r\n        var c = s(this, a);\r\n        return !b && c ? (this.m(), this.i(), !0) : !1\r\n    };\r\n    e.Z = function (a, b) {\r\n        for (var c = !1, d = 0, e; e = a[d]; d++) e = s(this, e), c = c || e;\r\n        if (!b && c) return this.m(), this.i(), !0\r\n    };\r\n    e.U = function () {\r\n        return this.f.length\r\n    };\r\n    e.getMap = g(\"c\");\r\n    e.setMap = k(\"c\");\r\n    e.w = g(\"g\");\r\n    e.aa = k(\"g\");\r\n    e.v = function (a) {\r\n        var b = this.getProjection(),\r\n            c = new google.maps.LatLng(a.getNorthEast().lat(), a.getNorthEast().lng()),\r\n            d = new google.maps.LatLng(a.getSouthWest().lat(), a.getSouthWest().lng()),\r\n            c = b.fromLatLngToDivPixel(c);\r\n        c.x += this.g;\r\n        c.y -= this.g;\r\n        d = b.fromLatLngToDivPixel(d);\r\n        d.x -= this.g;\r\n        d.y += this.g;\r\n        c = b.fromDivPixelToLatLng(c);\r\n        b = b.fromDivPixelToLatLng(d);\r\n        a.extend(c);\r\n        a.extend(b);\r\n        return a\r\n    };\r\n    e.R = function () {\r\n        this.m(!0);\r\n        this.a = []\r\n    };\r\n    e.m = function (a) {\r\n        for (var b = 0, c; c = this.f[b]; b++) c.remove();\r\n        for (b = 0; c = this.a[b]; b++) c.s = !1, a && c.setMap(h);\r\n        this.f = []\r\n    };\r\n    e.L = function () {\r\n        var a = this.f.slice();\r\n        this.f.length = 0;\r\n        this.m();\r\n        this.i();\r\n        window.setTimeout(function () {\r\n            for (var b = 0, c; c = a[b]; b++) c.remove()\r\n        }, 0)\r\n    };\r\n    e.i = function () {\r\n        t(this)\r\n    };\r\n    e = l.prototype;\r\n    e.q = function (a) {\r\n        var b;\r\n        a: if (this.a.indexOf) b = -1 != this.a.indexOf(a);\r\n        else {\r\n            b = 0;\r\n            for (var c; c = this.a[b]; b++) if (c == a) {\r\n                b = !0;\r\n                break a\r\n            }\r\n            b = !1\r\n        }\r\n        if (b) return !1;\r\n        this.d ? this.r && (c = this.a.length + 1, b = (this.d.lat() * (c - 1) + a.point.lat()) / c, c = (this.d.lng() * (c - 1) + a.point.lng()) / c, this.d = new google.maps.LatLng(b, c), u(this)) : (this.d = a.point, u(this));\r\n        a.s = !0;\r\n        this.a.push(a);\r\n        b = this.a.length;\r\n        b < this.l && a.getMap() != this.c && a.setMap(this.c);\r\n        if (b == this.l) for (c = 0; c < b; c++) this.a[c].setMap(h);\r\n        b >= this.l && a.setMap(h);\r\n        a = this.c.getZoom();\r\n        if ((b = this.k.I()) && a > b) for (a = 0; b = this.a[a]; a++) b.setMap(this.c);\r\n        else this.a.length < this.l ? v(this.n) : (b = this.k.H()(this.a, this.k.z().length), this.n.setCenter(this.d), a = this.n, a.B = b, a.ga = b.text, a.ea = b.index, a.b && (a.b.innerHTML = b.text), b = Math.max(0,\r\n        a.B.index - 1), b = Math.min(a.j.length - 1, b), b = a.j[b], a.da = b.url, a.h = b.height, a.p = b.width, a.M = b.textColor, a.e = b.anchor, a.N = b.textSize, a.D = b.backgroundPosition, this.n.show());\r\n        return !0\r\n    };\r\n    e.getBounds = function () {\r\n        for (var a = new google.maps.LatLngBounds(this.d, this.d), b = this.o(), c = 0, d; d = b[c]; c++) a.extend(d.point);\r\n        return a\r\n    };\r\n    e.remove = function () {\r\n        this.n.remove();\r\n        this.a.length = 0;\r\n        delete this.a\r\n    };\r\n    e.T = function () {\r\n        return this.a.length\r\n    };\r\n    e.o = g(\"a\");\r\n    e.getCenter = g(\"d\");\r\n    e.getMap = g(\"c\");\r\n    e = f.prototype;\r\n    e.onAdd = function () {\r\n        this.b = document.createElement(\"DIV\");\r\n        this.t && (this.b.style.cssText = w(this, n(this, this.d)), this.b.innerHTML = this.B.text);\r\n        this.getPanes().overlayMouseTarget.appendChild(this.b);\r\n        var a = this;\r\n        google.maps.event.addDomListener(this.b, \"click\", function () {\r\n            var b = a.u.k;\r\n            google.maps.event.trigger(b, \"clusterclick\", a.u);\r\n            b.O && a.c.fitBounds(a.u.getBounds())\r\n        });\r\n        google.maps.event.addDomListener(this.b, \"mouseover\", function () {\r\n            google.maps.event.trigger(a.u.k, \"clustermouseover\", a.u)\r\n        });\r\n        google.maps.event.addDomListener(this.b, \"mouseout\",\r\n\r\n        function () {\r\n            google.maps.event.trigger(a.u.k, \"clustermouseout\", a.u)\r\n        })\r\n    };\r\n    e.draw = function () {\r\n        if (this.t) {\r\n            var a = n(this, this.d);\r\n            this.b.style.top = a.y + \"px\";\r\n            this.b.style.left = a.x + \"px\"\r\n        }\r\n    };\r\n    e.show = function () {\r\n        this.b && (this.b.style.cssText = w(this, n(this, this.d)), this.b.style.display = \"\");\r\n        this.t = !0\r\n    };\r\n    e.remove = function () {\r\n        this.setMap(h)\r\n    };\r\n    e.onRemove = function () {\r\n        this.b && this.b.parentNode && (v(this), this.b.parentNode.removeChild(this.b), this.b = h)\r\n    };\r\n    e.setCenter = k(\"d\");\r\n    window.MarkerClusterer = d;\r\n    d.prototype.addMarker = d.prototype.q;\r\n    d.prototype.addMarkers = d.prototype.C;\r\n    d.prototype.clearMarkers = d.prototype.R;\r\n    d.prototype.fitMapToMarkers = d.prototype.S;\r\n    d.prototype.getCalculator = d.prototype.H;\r\n    d.prototype.getGridSize = d.prototype.w;\r\n    d.prototype.getExtendedBounds = d.prototype.v;\r\n    d.prototype.getMap = d.prototype.getMap;\r\n    d.prototype.getMarkers = d.prototype.o;\r\n    d.prototype.getMaxZoom = d.prototype.I;\r\n    d.prototype.getStyles = d.prototype.z;\r\n    d.prototype.getTotalClusters = d.prototype.U;\r\n    d.prototype.getTotalMarkers = d.prototype.V;\r\n    d.prototype.redraw = d.prototype.i;\r\n    d.prototype.removeMarker = d.prototype.Y;\r\n    d.prototype.removeMarkers = d.prototype.Z;\r\n    d.prototype.resetViewport = d.prototype.m;\r\n    d.prototype.repaint = d.prototype.L;\r\n    d.prototype.setCalculator = d.prototype.$;\r\n    d.prototype.setGridSize = d.prototype.aa;\r\n    d.prototype.setMaxZoom = d.prototype.ba;\r\n    d.prototype.onAdd = d.prototype.onAdd;\r\n    d.prototype.draw = d.prototype.draw;\r\n    l.prototype.getCenter = l.prototype.getCenter;\r\n    l.prototype.getSize = l.prototype.T;\r\n    l.prototype.getMarkers = l.prototype.o;\r\n    f.prototype.onAdd = f.prototype.onAdd;\r\n    f.prototype.draw = f.prototype.draw;\r\n    f.prototype.onRemove = f.prototype.onRemove\r\n})();","/* eslint-disable */\r\n// Single line function\r\nimport \"./google.clusterer\";\r\n\r\nfunction $d(d) {\r\n    return document.getElementById(d);\r\n}\r\n\r\n// http://www.dongenergy.com/EN/business%20activities/Pages/default.aspx\r\n\r\n// Google Maps special map styles\r\nvar styles = [\r\n\t{ \"featureType\": \"water\", \"elementType\": \"labels.text.stroke\", \"stylers\": [{ \"visibility\": \"off\" }] },\r\n\t{ \"featureType\": \"transit.line\", \"stylers\": [{ \"visibility\": \"off\" }] },\r\n\t{ \"featureType\": \"poi.attraction\", \"stylers\": [{ \"visibility\": \"off\" }] },\r\n\t{ \"featureType\": \"poi.place_of_worship\", \"stylers\": [{ \"visibility\": \"off\" }] },\r\n\t{ \"featureType\": \"poi.sports_complex\", \"elementType\": \"labels.text\", \"stylers\": [{ \"visibility\": \"off\" }] },\r\n\t{ \"featureType\": \"poi.school\", \"stylers\": [{ \"visibility\": \"off\" }] },\r\n\t{ \"featureType\": \"poi.medical\", \"stylers\": [{ \"visibility\": \"off\" }] },\r\n\t{ \"featureType\": \"poi.government\", \"stylers\": [{ \"visibility\": \"off\" }] },\r\n\t{ \"featureType\": \"poi.business\", \"stylers\": [{ \"visibility\": \"off\" }] },\r\n\t{ \"elementType\": \"labels.icon\", \"stylers\": [{ \"visibility\": \"off\" }] },\r\n\t{ \"featureType\": \"administrative.province\", \"stylers\": [{ \"visibility\": \"off\" }] },\r\n\t{ \"featureType\": \"transit\", \"stylers\": [{ \"visibility\": \"off\" }] },\r\n\t{ \"featureType\": \"water\", \"stylers\": [{ \"visibility\": \"simplified\" }] },\r\n\t{ \"featureType\": \"poi\", \"stylers\": [{ \"visibility\": \"off\" }] }\r\n];\r\n\r\n/* Google Maps (MarkerCluster ref by Google - http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/docs/reference.html)\r\n---------------------------------------------------------------- */\r\n\r\n// Markers array\r\nvar markersarray = [], overlaysarray = [];\r\n\r\n// Global variables\r\nvar map, counter = 0, allow = true, zindex = 555, markerCluster;\r\n\r\nvar googlemaps = function () {\r\n    return {\r\n        initialize: function () {\r\n\r\n            // Styled\r\n            var styledmap = {};\r\n            try {\r\n                styledmap = new google.maps.StyledMapType(styles, { name: \"dongmap\" });\r\n            } catch (e) {\r\n                return true;\r\n            }\r\n\r\n\r\n            // Start position\r\n            var lat = $('#map').attr('data-latitude');\r\n            var lng = $('#map').attr('data-longitude');\r\n\r\n            // Options\r\n            var options = {\r\n                zoom: 4,\r\n                center: new google.maps.LatLng(lat, lng),\r\n                mapTypeControl: false,\r\n                streetViewControl: false,\r\n                panControl: false,\r\n                zoomControl: false,\r\n                mapTypeId: google.maps.MapTypeId.ROADMAP\r\n            };\r\n\r\n            // Base map\r\n            map = new google.maps.Map($d('map'), options);\r\n\r\n            /* Set styles */\r\n            map.mapTypes.set('mapstyle', styledmap);\r\n            map.setMapTypeId('mapstyle');\r\n\r\n            // Click\r\n            google.maps.event.addListener(map, \"click\", function () { googlemaps.mapclick(this, false); });\r\n\r\n            // Zoom\r\n            google.maps.event.addListener(map, \"zoom_changed\", function () { googlemaps.zoomobserve(); });\r\n\r\n            // Get data\r\n            googlemaps.getxml();\r\n\r\n            // Attach events\r\n            $('.filt-t1 .activities').bind('click', function () { googlemaps.activities(this); return false; });\r\n            $('.filt-t1 #btn-mrls').bind('click', function () { googlemaps.mrls(this); return false; });\r\n            $('#fltmrls .countries a').bind('click', function () { googlemaps.countries(this); return false; });\r\n            $('#fltmrls .units a').bind('click', function () { googlemaps.units(this); return false; });\r\n            $('#zoom-in').bind('click', function () { googlemaps.zoom(this, 'in'); return false; });\r\n            $('#zoom-out').bind('click', function () { googlemaps.zoom(this, 'out'); return false; });\r\n            $('#map-back a').bind('click', function () { googlemaps.zoomtopos(this, 'out'); return false; });\r\n\r\n        },\r\n        zoomobserve: function () {\r\n\r\n            // Get level\r\n            var lvl = map.getZoom();\r\n\r\n            // Set level\r\n            if (lvl >= 5) {\r\n                $('#map-back').fadeIn('fast');\r\n            } else {\r\n                $('#map-back').fadeOut('fast');\r\n            }\r\n\r\n        },\r\n        zoomtopos: function () {\r\n\r\n            // Variables\r\n            var typ = '';\r\n\r\n            // Get active\r\n            $('.filt-t1 .activities').each(function () {\r\n\r\n\r\n                // Get class\r\n                var cls = $(this).hasClass('active');\r\n\r\n                // Has class?\r\n                if (cls) {\r\n\r\n                    // If is active, then remember\r\n                    typ = $(this).attr('data-type');\r\n\r\n                }\r\n\r\n            });\r\n\r\n            // Set zoom\r\n            googlemaps.backto(typ);\r\n\r\n        },\r\n        backto: function (a) {\r\n\r\n            // Start position\r\n            var lat = $('#map').attr('data-latitude');\r\n            var lng = $('#map').attr('data-longitude');\r\n            var zoom = 4;\r\n\r\n            // Licenses : Removed as per requirement from business\r\n            //if (a == 'license' || a == 'oilandgas') {\r\n            //    lat = '66.296685';\r\n            //    lng = '-6.020508';\r\n            //    zoom = 3;\r\n            //}\r\n\r\n            // Offices\r\n            //if (a == 'office' || a == 'group') {\r\n            //    lat = '58.941968';\r\n            //    lng = '10.983887';\r\n            //    zoom = 3;\r\n            //}\r\n\r\n            // Get position\r\n            var latlng = new google.maps.LatLng(lat, lng);\r\n\r\n            // Set center\r\n            map.setCenter(latlng);\r\n\r\n            // Set zoom\r\n            map.setZoom(zoom);\r\n\r\n            // Hide overlay\r\n            $('#ioverlay').hide();\r\n            allow = true;\r\n\r\n        },\r\n        zoom: function (f, z) {\r\n\r\n            // Get level\r\n            var level = map.getZoom();\r\n\r\n            // Toogle level\r\n            if (z == 'in') {\r\n                level = level + 1;\r\n            } else {\r\n                level = level - 1;\r\n            }\r\n\r\n            // Set zoom\r\n            map.setZoom(level);\r\n\r\n        },\r\n        adddata: function (typ) {\r\n\r\n            // Get selected values\r\n            var a = $('#mapw').attr('data-activity');\r\n            var b = $('#mapw').attr('data-country');\r\n            var c = $('#mapw').attr('data-unit');\r\n\r\n            // Variables\r\n            var found = 0;\r\n\r\n            // Clear current markers\r\n            googlemaps.deletemarkers();\r\n\r\n            // Get data\r\n            $('#xml-data .node').each(function () {\r\n                // Show\r\n                var show = true;\r\n\r\n\r\n                // Get data\r\n                var lat = $(this).attr('data-latitude');\r\n                var lng = $(this).attr('data-longitude');\r\n                var tip = $(this).attr('data-tooltip');\r\n                var ico = $(this).attr('data-icon');\r\n                var act = $(this).attr('data-activity');\r\n                var cou = $(this).attr('data-country');\r\n                var unt = $(this).attr('data-unit');\r\n                var fid = $(this).attr('id');\r\n\r\n                // Activity\r\n                if (a) {\r\n                    var cls = $(this).hasClass(a);\r\n                    if (!cls) { show = false; }\r\n                }\r\n\r\n                // Country\r\n                if (b) {\r\n                    var cls = $(this).hasClass(b);\r\n                    if (!cls) { show = false; }\r\n                }\r\n\r\n                // Unit\r\n                if (c) {\r\n                    var cls = $(this).hasClass(c);\r\n                    if (!cls) { show = false; }\r\n                }\r\n\r\n\r\n                // Show items\r\n                if (show) {\r\n                    // Add marker\r\n                    googlemaps.addmarker({ id: fid, lat: lat, lng: lng, tip: tip, icon: ico, atr: cls });\r\n\r\n                    // Add\r\n                    found++;\r\n                }\r\n\r\n            });\r\n\r\n            // Cluster styles\r\n            var assetsPath = `${location.protocol}//${window.location.hostname}/Assets_/dist`;\r\n            var clusterStyles = [\r\n\t\t\t\t{ textColor: '#fff', textSize: '16', url: `${assetsPath}/images/maps-m2.png`, height: 41, width: 41 },\r\n\t\t\t\t{ textColor: '#fff', textSize: '16', url: `${assetsPath}/images/maps-m2.png`, height: 41, width: 41 },\r\n\t\t\t\t{ textColor: '#fff', textSize: '16', url: `${assetsPath}/images/maps-m2.png`, height: 41, width: 41 }\r\n            ];\r\n\r\n            // Options\r\n            var mcOptions = {\r\n                styles: clusterStyles,\r\n                minimumClusterSize: 2\r\n            };\r\n\r\n            // Add to cluster\r\n            markerCluster = new MarkerClusterer(map, markersarray, mcOptions);\r\n\r\n            // Set center\r\n            googlemaps.backto(typ);\r\n\r\n        },\r\n        infowindow: function (f) {\r\n\r\n            // Get positions\r\n            var lat = $(f).attr('data-latitude');\r\n            var lng = $(f).attr('data-longitude');\r\n\r\n            // Get position\r\n            var latlng = new google.maps.LatLng(lat, lng);\r\n\r\n            // Clear existing overlays\r\n            if (overlaysarray) {\r\n                for (var i = 0; i < overlaysarray.length; i++) {\r\n                    overlaysarray[i].setMap(null);\r\n                }\r\n            }\r\n\r\n            /* Clear array */\r\n            overlaysarray.length = 0;\r\n\r\n            // Infowindow\r\n            var overlay = new ioverlay({ map: map, point: latlng });\r\n\r\n            // Store in array\r\n            overlaysarray.push(overlay);\r\n\r\n            // Get node id\r\n            var fid = $(f).attr('data-relation');\r\n\r\n            // Get content\r\n            var tit = $('#' + fid).attr('data-title');\r\n            var des = $('#' + fid).html();\r\n            var pho = $('#' + fid).attr('data-image');\r\n            var lnk = $('#' + fid).attr('data-link');\r\n            var ico = $('#' + fid).attr('data-icon');\r\n            var rdm = $('#' + fid).attr('data-more');\r\n\r\n            // Build html\r\n            var str = '';\r\n            str += '<div class=\"hd\"><div class=\"' + ico + '\"></div><div class=\"close\"><div class=\"rl\"><a href=\"#\" title=\"\" id=\"map-close\">&nbsp;</a></div></div></div>';\r\n            if (pho != '') { str += '<div class=\"photo\"><img src=\"' + pho + '\" alt=\"\" /></div>'; }\r\n            if (tit != '') { str += '<div class=\"title\">' + tit + '</div>'; }\r\n            if (des != '') { str += '<div class=\"description\">' + des + '</div>'; }\r\n            if (lnk != '') { str += '<div class=\"link\"><a href=\"' + lnk + '\" title=\"\">' + rdm + '</a></div>'; }\r\n\r\n            // Load data\r\n            setTimeout(function () {\r\n\r\n                // Append\r\n                $('#ioverlay-text').html(str);\r\n\r\n                // Attach\r\n                $('#map-close').bind('click', function () { googlemaps.mapclick(this, false); return false; });\r\n\r\n                // Adjust\r\n                setTimeout(function () {\r\n                    googlemaps.infowindowadjust();\r\n                }, 20);\r\n\r\n            }, 50);\r\n\r\n        },\r\n        infowindowadjust: function () {\r\n\r\n            // Wrap positions\r\n            var mx = Math.round($('#map').offset().left);\r\n            var my = Math.round($('#map').offset().top);\r\n            var mw = Math.round($('#map').width());\r\n            var mh = Math.round($('#map').height());\r\n\r\n            // Get overlay positions\r\n            var x = Math.round($('#ioverlay').offset().left);\r\n            var y = Math.round($('#ioverlay').offset().top);\r\n            var w = Math.round($('#ioverlay').width());\r\n            var h = Math.round($('#ioverlay').height());\r\n\r\n            // Calculated\r\n            var nx = x - mx;\r\n            var ny = y - my;\r\n\r\n            // Pan\r\n            var px = 0;\r\n            var py = 0;\r\n\r\n            // Adjust left?\r\n            if (nx < 20) {\r\n                px = Math.abs(nx) + 20;\r\n                px = -px;\r\n            }\r\n\r\n            // Adjust top?\r\n            if (ny < 20) {\r\n                py = Math.abs(ny) + 20;\r\n                py = -py;\r\n            }\r\n\r\n            // Adjust right?\r\n            if ((nx + w + 20) >= mw) {\r\n                px = (nx + w + 20) - mw;\r\n            }\r\n\r\n            // Adjust location\r\n            if (px != 0 || py != 0) {\r\n                setTimeout(function () {\r\n                    googlemaps.pantoxy({ x: px, y: py });\r\n                }, 250);\r\n            }\r\n\r\n        },\r\n        mapclick: function (f, x) {\r\n\r\n            // Click in infowindow\r\n            if (x) {\r\n\r\n                // Dont allow\r\n                allow = false;\r\n\r\n                // Re-allow\r\n                setTimeout(function () {\r\n                    allow = true;\r\n                }, 400);\r\n\r\n            }\r\n\r\n            // Hide infowindow\r\n            if (allow) {\r\n                $('#ioverlay').hide();\r\n            }\r\n\r\n        },\r\n        addmarker: function (options) {\r\n\r\n            // Location\r\n            var latlng = new google.maps.LatLng(options.lat, options.lng);\r\n\r\n            // Overlay\r\n            var overlay = new goverlay({ map: map, point: latlng, id: options.id, cls: options.icon, tip: options.tip, atr: options.atr });\r\n\r\n            // Store in array\r\n            markersarray.push(overlay);\r\n\r\n        },\r\n        deletemarkers: function () {\r\n\r\n            // Reset markers\r\n            if (markersarray) {\r\n                for (var i = 0; i < markersarray.length; i++) {\r\n                    markersarray[i].setMap(null);\r\n                }\r\n            }\r\n\r\n            // Clear array\r\n            markersarray.length = 0;\r\n\r\n            // Clear markers\r\n            try { markerCluster.clearMarkers(); } catch (e) { }\r\n\r\n        },\r\n        pantoxy: function (options) {\r\n\r\n            // Get projection\r\n            var latlng = map.getCenter();\r\n            var point = map.getProjection().fromLatLngToPoint(latlng);\r\n            var zoom = map.getZoom();\r\n\r\n            // Set point\r\n            var pixes = new google.maps.Point(Math.floor(point.x * Math.pow(2, zoom)), Math.floor(point.y * Math.pow(2, zoom)));\r\n\r\n            // Adjust\r\n            if (options.x != '0') { pixes.x += options.x; }\r\n            if (options.y != '0') { pixes.y += options.y; }\r\n\r\n            // Re-set point\r\n            var point = new google.maps.Point(pixes.x / Math.pow(2, zoom), (pixes.y) / Math.pow(2, zoom));\r\n            var fxp = map.getProjection().fromPointToLatLng(point);\r\n\r\n            // Pan to\r\n            map.panTo(fxp);\r\n\r\n        },\r\n        getxml: function (url) {\r\n\r\n            // Get path\r\n            var path = $('#xml-data').attr('data-xml');\r\n            var lang = $('#xml-data').attr('data-language');\r\n\r\n            // Get xml\r\n            $.ajax({\r\n                url: path,\r\n                dataType: 'json',\r\n                success: function (data) {\r\n\r\n                    // Loop\r\n                    $(data.EntryList).each(function (index) {\r\n                        var entry = $(this)[0];\r\n\r\n                        // Language\r\n                        var tit = entry.Title;\r\n                        var tip = entry.Tooltip;\r\n                        var des = entry.Description; des = des.replace(/&gt;/gi, \">\"); des = des.replace(/&lt;/gi, \"<\");\r\n                        var lat = entry.Latitude;\r\n                        var lng = entry.Longtitude;\r\n                        var ico = googlemaps.toclass(entry.Icon);\r\n                        var cou = googlemaps.toclass(entry.Country);\r\n                        var lnk = entry.Link.Url;\r\n                        var rdm = entry.Link.Description;\r\n                        var pho = entry.Image;\r\n                        var unt = '';\r\n\r\n                        // Business unit\r\n                        $(entry.BusinessUnit).each(function (i, v) {\r\n                            unt += googlemaps.toclass(v) + ' ';\r\n                        });\r\n\r\n                        // Add\r\n                        if (lat != '' && lng != '') {\r\n\r\n                            // Counter\r\n                            var cx = counter++;\r\n\r\n                            // Append\r\n                            $(\"#xml-data\").append('<div class=\"node ' + ico + ' ' + cou + ' ' + unt + '\" id=\"node' + cx + '\" data-title=\"' + tit + '\" data-tooltip=\"' + tip + '\" data-image=\"' + pho + '\" data-link=\"' + lnk + '\" data-latitude=\"' + lat + '\" data-longitude=\"' + lng + '\" data-icon=\"' + ico + '\" data-activity=\"' + ico + '\" data-country=\"' + cou + '\" data-unit=\"' + unt + '\" data-more=\"' + rdm + '\">' + des + '</div>');\r\n\r\n                        }\r\n\r\n                    });\r\n\r\n                    // Run\r\n                    googlemaps.adddata();\r\n\r\n                },\r\n                error: function (data) {\r\n\r\n                    // Error\r\n                    console.log('Error loading XML data');\r\n\r\n                }\r\n            });\r\n\r\n        },\r\n        toclass: function (str) {\r\n\r\n            // Get string\r\n            var s = str;\r\n\r\n            // Lowercase\r\n            s = s.toLowerCase();\r\n\r\n            // Replace spaces\r\n            s = s.replace(/ /gi, '');\r\n\r\n            // Return\r\n            return s;\r\n\r\n        },\r\n        activities: function (f) {\r\n\r\n            // Get variables\r\n            var typ = $(f).attr('data-type');\r\n\r\n            // Loop\r\n            $('.filt-t1 .activities').each(function () {\r\n\r\n                // Remove class\r\n                $(this).removeClass('active');\r\n\r\n            });\r\n\r\n            // Set class\r\n            $(f).addClass('active');\r\n\r\n            // Update\r\n            $('#mapw').attr('data-activity', typ);\r\n\r\n            // Reset country radios\r\n            $('#fltmrls .countries a').each(function () {\r\n\r\n                // Remove class\r\n                $(this).removeClass('active');\r\n\r\n            });\r\n\r\n            // Reset country\r\n            $('#mapw').attr('data-country', '');\r\n\r\n            // Reset unit radios\r\n            $('#fltmrls .units a').each(function () {\r\n\r\n                // Remove class\r\n                $(this).removeClass('active');\r\n\r\n            });\r\n\r\n            // Reset unit\r\n            $('#mapw').attr('data-unit', '');\r\n\r\n            // Add data\r\n            googlemaps.adddata(typ);\r\n\r\n        },\r\n        mrls: function (f) {\r\n\r\n            // Get variables\r\n            var mor = $(f).attr('data-lang-more');\r\n            var les = $(f).attr('data-lang-less');\r\n            var cls = $(f).hasClass('more');\r\n\r\n            // Toogle\r\n            if (cls) {\r\n\r\n                // Add / remove classes\r\n                $(f).removeClass('more');\r\n                $(f).addClass('less');\r\n\r\n                // Update label\r\n                $('#map-flt-mrls').html(les);\r\n\r\n                // Show arrow\r\n                $('#mrls-ico').show();\r\n\r\n                // Show\r\n                $('#fltmrls').slideDown('fast');\r\n\r\n            } else {\r\n\r\n                // Add / remove classes\r\n                $(f).addClass('more');\r\n                $(f).removeClass('less');\r\n\r\n                // Update label\r\n                $('#map-flt-mrls').html(mor);\r\n\r\n                // Hide arrow\r\n                $('#mrls-ico').hide();\r\n\r\n                // Hide\r\n                $('#fltmrls').slideUp('fast');\r\n\r\n            }\r\n\r\n        },\r\n        countries: function (f) {\r\n\r\n            // Get variables\r\n            var rel = $(f).attr('data-rel');\r\n            var cls = $(f).hasClass('active');\r\n            var typ = $(f).attr('data-type');\r\n\r\n            // Loop\r\n            $('#fltmrls .countries a').each(function () {\r\n\r\n                // Remove class\r\n                $(this).removeClass('active');\r\n\r\n            });\r\n\r\n            // Toogle class\r\n            if (cls) {\r\n                $(f).removeClass('active');\r\n            } else {\r\n                $(f).addClass('active');\r\n            }\r\n\r\n            // Update\r\n            $('#mapw').attr('data-country', typ);\r\n\r\n            // Add data\r\n            googlemaps.adddata();\r\n\r\n        },\r\n        units: function (f) {\r\n\r\n            // Variables\r\n            var typ = $(f).attr('data-type');\r\n            var cls = $(f).hasClass('active');\r\n\r\n            // Reset activities\r\n            $('.filt-t1 .activities').each(function () {\r\n\r\n                // Remove class\r\n                $(this).removeClass('active');\r\n\r\n            });\r\n\r\n            // Reset activity\r\n            $('#mapw').attr('data-activity', '');\r\n\r\n            // Reset countries\r\n            $('#fltmrls .countries a').each(function () {\r\n\r\n                // Remove class\r\n                $(this).removeClass('active');\r\n\r\n            });\r\n\r\n            // Reset countries\r\n            $('#mapw').attr('data-country', '');\r\n\r\n            // Reset units\r\n            $('#fltmrls .units a').each(function () {\r\n\r\n                // Remove class\r\n                $(this).removeClass('active');\r\n\r\n            });\r\n\r\n            // Set active\r\n            $(f).addClass('active');\r\n\r\n            // Update\r\n            $('#mapw').attr('data-unit', typ);\r\n\r\n            // Add data\r\n            googlemaps.adddata(typ);\r\n\r\n        }\r\n    };\r\n}();\r\n\r\n/* Attach */\r\n$(window).bind('load', function () { googlemaps.initialize(); });\r\n\r\n/* Overlays\r\n---------------------------------------------------------------- */\r\n\r\n// Marker overlay\r\nfunction goverlay(options) {\r\n    this.setValues(options);\r\n    var div = this.div_ = document.createElement('div');\r\n    div.className = 'marker mrk ' + 'ico-' + options.cls + ' ' + options.atr;\r\n    div.id = options.id + '-relation';\r\n    div.innerHTML = '<div class=\"inx\"><div class=\"ico\"></div></div>';\r\n    div.setAttribute('data-relation', options.id);\r\n    div.setAttribute('data-latitude', options.point.lat());\r\n    div.setAttribute('data-longitude', options.point.lng());\r\n    div.setAttribute('data-position', options.point);\r\n    div.setAttribute('data-tooltip', options.tip);\r\n    div.onclick = function () { googlemaps.infowindow(this); };\r\n};\r\n\r\ntry { goverlay.prototype = new google.maps.OverlayView; } catch (e) { goverlay.prototype = {}; }\r\n\r\ngoverlay.prototype.onAdd = function () {\r\n    var pane = this.getPanes().overlayMouseTarget;\r\n    pane.appendChild(this.div_);\r\n}\r\n\r\ngoverlay.prototype.onRemove = function () {\r\n    this.div_.parentNode.removeChild(this.div_);\r\n}\r\n\r\ngoverlay.prototype.draw = function () {\r\n    var projection = this.getProjection();\r\n    var position = projection.fromLatLngToDivPixel(this.point);\r\n    var div = this.div_;\r\n    div.style.left = position.x + 'px';\r\n    div.style.top = position.y + 'px';\r\n};\r\n\r\n// Infowindow overlay\r\nfunction ioverlay(options) {\r\n    this.setValues(options);\r\n    var div = this.div_ = document.createElement('div');\r\n    div.id = 'ioverlay';\r\n    div\r\n        .innerHTML =\r\n        '<div class=\"rel\"><div class=\"abs\"><div class=\"pad\" id=\"ioverlay-text\"></div><div class=\"arrow\" onclick=\"googlemaps.mapclick(this,true);\"></div></div></div>';\r\n    div.onclick = function () { googlemaps.mapclick(this, true); };\r\n};\r\n\r\ntry { ioverlay.prototype = new google.maps.OverlayView; } catch (e) { ioverlay.prototype = {} }\r\n\r\nioverlay.prototype.onAdd = function () {\r\n    var pane = this.getPanes().overlayMouseTarget;\r\n    pane.appendChild(this.div_);\r\n}\r\n\r\nioverlay.prototype.onRemove = function () {\r\n    this.div_.parentNode.removeChild(this.div_);\r\n}\r\n\r\nioverlay.prototype.draw = function () {\r\n    var projection = this.getProjection();\r\n    var position = projection.fromLatLngToDivPixel(this.point);\r\n    var div = this.div_;\r\n    div.style.left = position.x + 'px';\r\n    div.style.top = position.y + 'px';\r\n};\r\n","/**\r\n * Creates a new instance of Emitter.\r\n * @class\r\n * @returns {Object} Returns a new instance of Emitter.\r\n * @example\r\n * // Creates a new instance of Emitter.\r\n * var Emitter = require('emitter');\r\n *\r\n * var emitter = new Emitter();\r\n */\r\nclass Emitter {\r\n\r\n  /**\r\n   * Adds a listener to the collection for the specified event.\r\n   * @memberof! Emitter.prototype\r\n   * @function\r\n   * @param {String} event - The event name.\r\n   * @param {Function} listener - A listener function to add.\r\n   * @returns {Object} Returns an instance of Emitter.\r\n   * @example\r\n   * // Add an event listener to \"foo\" event.\r\n   * emitter.on('foo', listener);\r\n   */\r\n  on(event, listener) {\r\n    // Use the current collection or create it.\r\n    this._eventCollection = this._eventCollection || {};\r\n\r\n    // Use the current collection of an event or create it.\r\n    this._eventCollection[event] = this._eventCollection[event] || [];\r\n\r\n    // Appends the listener into the collection of the given event\r\n    this._eventCollection[event].push(listener);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Adds a listener to the collection for the specified event that will be called only once.\r\n   * @memberof! Emitter.prototype\r\n   * @function\r\n   * @param {String} event - The event name.\r\n   * @param {Function} listener - A listener function to add.\r\n   * @returns {Object} Returns an instance of Emitter.\r\n   * @example\r\n   * // Will add an event handler to \"foo\" event once.\r\n   * emitter.once('foo', listener);\r\n   */\r\n  once(event, listener) {\r\n    const self = this;\r\n\r\n    function fn() {\r\n      self.off(event, fn);\r\n      listener.apply(this, arguments);\r\n    }\r\n\r\n    fn.listener = listener;\r\n\r\n    this.on(event, fn);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Removes a listener from the collection for the specified event.\r\n   * @memberof! Emitter.prototype\r\n   * @function\r\n   * @param {String} event - The event name.\r\n   * @param {Function} listener - A listener function to remove.\r\n   * @returns {Object} Returns an instance of Emitter.\r\n   * @example\r\n   * // Remove a given listener.\r\n   * emitter.off('foo', listener);\r\n   */\r\n  off(event, listener) {\r\n\r\n    let listeners;\r\n\r\n    // Defines listeners value.\r\n    if (!this._eventCollection || !(listeners = this._eventCollection[event])) {\r\n      return this;\r\n    }\r\n\r\n    listeners.forEach((fn, i) => {\r\n      if (String(fn) === String(listener) || String(fn.listener) === String(listener)) {\r\n      // Removes the given listener.\r\n      listeners.splice(i, 1);\r\n    }\r\n  });\r\n\r\n    // Removes an empty event collection.\r\n    if (listeners.length === 0) {\r\n      delete this._eventCollection[event];\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Execute each item in the listener collection in order with the specified data.\r\n   * @memberof! Emitter.prototype\r\n   * @function\r\n   * @param {String} event - The name of the event you want to emit.\r\n   * @param {...Object} data - Data to pass to the listeners.\r\n   * @returns {Object} Returns an instance of Emitter.\r\n   * @example\r\n   * // Emits the \"foo\" event with 'param1' and 'param2' as arguments.\r\n   * emitter.emit('foo', 'param1', 'param2');\r\n   */\r\n  emit(event, ...args) {\r\n    let listeners;\r\n\r\n    // Defines listeners value.\r\n    if (!this._eventCollection || !(listeners = this._eventCollection[event])) {\r\n      return this;\r\n    }\r\n\r\n    // Clone listeners\r\n    listeners = listeners.slice(0);\r\n\r\n    listeners.forEach(fn => fn.apply(this, args));\r\n\r\n    return this;\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Exports Emitter as singleton. Consume with:\r\n * import { emitter } from '../emitter/emitter';\r\n * (remember the brackets around { emitter }).\r\n */\r\nexport let emitter = new Emitter();\r\n",";(function(window){\nvar hadGlobal = 'Modernizr' in window;\nvar oldGlobal = window.Modernizr;\n/*! modernizr 3.11.3 (Custom Build) | MIT *\n * https://modernizr.com/download/?-objectfit-touchevents-setclasses !*/\n!function(e,n,t,r){function o(e,n){return typeof e===n}function i(){return\"function\"!=typeof t.createElement?t.createElement(arguments[0]):_?t.createElementNS.call(t,\"http://www.w3.org/2000/svg\",arguments[0]):t.createElement.apply(t,arguments)}function s(){var e=t.body;return e||(e=i(_?\"svg\":\"body\"),e.fake=!0),e}function a(e,n,r,o){var a,l,u,f,c=\"modernizr\",d=i(\"div\"),p=s();if(parseInt(r,10))for(;r--;)u=i(\"div\"),u.id=o?o[r]:c+(r+1),d.appendChild(u);return a=i(\"style\"),a.type=\"text/css\",a.id=\"s\"+c,(p.fake?p:d).appendChild(a),p.appendChild(d),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),d.id=c,p.fake&&(p.style.background=\"\",p.style.overflow=\"hidden\",f=w.style.overflow,w.style.overflow=\"hidden\",w.appendChild(p)),l=n(d,e),p.fake?(p.parentNode.removeChild(p),w.style.overflow=f,w.offsetHeight):d.parentNode.removeChild(d),!!l}function l(e,t,r){var o;if(\"getComputedStyle\"in n){o=getComputedStyle.call(n,e,t);var i=n.console;if(null!==o)r&&(o=o.getPropertyValue(r));else if(i){var s=i.error?\"error\":\"log\";i[s].call(i,\"getComputedStyle returning null, its possible modernizr test results are inaccurate\")}}else o=!t&&e.currentStyle&&e.currentStyle[r];return o}function u(e,n){return!!~(\"\"+e).indexOf(n)}function f(e){return e.replace(/([A-Z])/g,function(e,n){return\"-\"+n.toLowerCase()}).replace(/^ms-/,\"-ms-\")}function c(e,t){var o=e.length;if(\"CSS\"in n&&\"supports\"in n.CSS){for(;o--;)if(n.CSS.supports(f(e[o]),t))return!0;return!1}if(\"CSSSupportsRule\"in n){for(var i=[];o--;)i.push(\"(\"+f(e[o])+\":\"+t+\")\");return i=i.join(\" or \"),a(\"@supports (\"+i+\") { #modernizr { position: absolute; } }\",function(e){return\"absolute\"===l(e,null,\"position\")})}return r}function d(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,\"\")}function p(e,n,t,s){function a(){f&&(delete E.style,delete E.modElem)}if(s=!o(s,\"undefined\")&&s,!o(t,\"undefined\")){var l=c(e,t);if(!o(l,\"undefined\"))return l}for(var f,p,m,v,h,y=[\"modernizr\",\"tspan\",\"samp\"];!E.style&&y.length;)f=!0,E.modElem=i(y.shift()),E.style=E.modElem.style;for(m=e.length,p=0;p<m;p++)if(v=e[p],h=E.style[v],u(v,\"-\")&&(v=d(v)),E.style[v]!==r){if(s||o(t,\"undefined\"))return a(),\"pfx\"!==n||v;try{E.style[v]=t}catch(e){}if(E.style[v]!==h)return a(),\"pfx\"!==n||v}return a(),!1}function m(e,n){return function(){return e.apply(n,arguments)}}function v(e,n,t){var r;for(var i in e)if(e[i]in n)return!1===t?e[i]:(r=n[e[i]],o(r,\"function\")?m(r,t||n):r);return!1}function h(e,n,t,r,i){var s=e.charAt(0).toUpperCase()+e.slice(1),a=(e+\" \"+z.join(s+\" \")+s).split(\" \");return o(n,\"string\")||o(n,\"undefined\")?p(a,n,r,i):(a=(e+\" \"+T.join(s+\" \")+s).split(\" \"),v(a,n,t))}var y=[],g={_version:\"3.11.3\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){y.push({name:e,fn:n,options:t})},addAsyncTest:function(e){y.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=g,Modernizr=new Modernizr;var C=[],w=t.documentElement,_=\"svg\"===w.nodeName.toLowerCase(),S=g._config.usePrefixes?\" -webkit- -moz- -o- -ms- \".split(\" \"):[\"\",\"\"];g._prefixes=S;var b=function(){var e=n.matchMedia||n.msMatchMedia;return e?function(n){var t=e(n);return t&&t.matches||!1}:function(e){var n=!1;return a(\"@media \"+e+\" { #modernizr { position: absolute; } }\",function(e){n=\"absolute\"===l(e,null,\"position\")}),n}}();g.mq=b,Modernizr.addTest(\"touchevents\",function(){if(\"ontouchstart\"in n||n.TouchEvent||n.DocumentTouch&&t instanceof DocumentTouch)return!0;var e=[\"(\",S.join(\"touch-enabled),(\"),\"heartz\",\")\"].join(\"\");return b(e)});var x=\"Moz O ms Webkit\",z=g._config.usePrefixes?x.split(\" \"):[];g._cssomPrefixes=z;var j={elem:i(\"modernizr\")};Modernizr._q.push(function(){delete j.elem});var E={style:j.elem.style};Modernizr._q.unshift(function(){delete E.style});var T=g._config.usePrefixes?x.toLowerCase().split(\" \"):[];g._domPrefixes=T,g.testAllProps=h;var P=function(e){var t,o=S.length,i=n.CSSRule;if(void 0===i)return r;if(!e)return!1;if(e=e.replace(/^@/,\"\"),(t=e.replace(/-/g,\"_\").toUpperCase()+\"_RULE\")in i)return\"@\"+e;for(var s=0;s<o;s++){var a=S[s];if(a.toUpperCase()+\"_\"+t in i)return\"@-\"+a.toLowerCase()+\"-\"+e}return!1};g.atRule=P;var N=g.prefixed=function(e,n,t){return 0===e.indexOf(\"@\")?P(e):(-1!==e.indexOf(\"-\")&&(e=d(e)),n?h(e,n,t):h(e,\"pfx\"))};Modernizr.addTest(\"objectfit\",!!N(\"objectFit\"),{aliases:[\"object-fit\"]}),function(){var e,n,t,r,i,s,a;for(var l in y)if(y.hasOwnProperty(l)){if(e=[],n=y[l],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(r=o(n.fn,\"function\")?n.fn():n.fn,i=0;i<e.length;i++)s=e[i],a=s.split(\".\"),1===a.length?Modernizr[a[0]]=r:(Modernizr[a[0]]&&(!Modernizr[a[0]]||Modernizr[a[0]]instanceof Boolean)||(Modernizr[a[0]]=new Boolean(Modernizr[a[0]])),Modernizr[a[0]][a[1]]=r),C.push((r?\"\":\"no-\")+a.join(\"-\"))}}(),function(e){var n=w.className,t=Modernizr._config.classPrefix||\"\";if(_&&(n=n.baseVal),Modernizr._config.enableJSClass){var r=new RegExp(\"(^|\\\\s)\"+t+\"no-js(\\\\s|$)\");n=n.replace(r,\"$1\"+t+\"js$2\")}Modernizr._config.enableClasses&&(e.length>0&&(n+=\" \"+t+e.join(\" \"+t)),_?w.className.baseVal=n:w.className=n)}(C),delete g.addTest,delete g.addAsyncTest;for(var k=0;k<Modernizr._q.length;k++)Modernizr._q[k]();e.Modernizr=Modernizr}(window,window,document);\nmodule.exports = window.Modernizr;\nif (hadGlobal) { window.Modernizr = oldGlobal; }\nelse { delete window.Modernizr; }\n})(window);","/**\n * Video Class\n * - Video fallback resizing\n */\nimport $ from 'jquery';\nimport { emitter } from '../base/emitter/emitter';\nimport { $win } from '../base/utils/utils';\n\nexport default class Video {\n  constructor(config) {\n    this.config = $.extend(\n      {\n        rootEl: $('body')\n      },\n      config\n    );\n    this.init();\n\n    // references: https://stackoverflow.com/a/24869361, https://developers.google.com/youtube/player_parameters?hl=en\n    window.onYouTubeIframeAPIReady = function() {\n      let YT = window.YT || null;\n      $('.teaser-video-iframe').each(function(/* index, value */) {\n        var iframe = $(this);\n        var player = new YT.Player(iframe.attr('id'), {\n          events: {\n            onReady: onPlayerReady,\n            onStateChange: onPlayerStateChange\n          },\n          playlist: ''\n        });\n\n        function onPlayerReady() {\n          if (iframe.data('muted') == '1') {\n            player.mute();\n          }\n          if (iframe.data('autoplay') == '1') {\n            player.playVideo();\n          }\n        }\n\n        emitter.emit('video/youtube-ready');\n\n        function onPlayerStateChange(e) {\n          if (iframe.data('loop') == '1' && e.data === YT.PlayerState.ENDED) {\n            player.playVideo();\n          }\n        }\n      });\n    };\n  }\n\n  init() {\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    // Video height hacks. Sitecore <video>'s height needs to be adjusted (youtube videos are fine).\n    // Flooring the pixel height to avoid overspill and errors in rendering\n    var self = this;\n\n    // Trigger a better responsive handling of the iframe video\n    self.config.rootEl.find('.yt-embed__iframe').height('100%');\n    if ($('.teaser-video-iframe').length) {\n      Video.loadYoutubeApi();\n    }\n    $win.on('ready', function() {\n      Video.resizeParent(self.config.rootEl);\n    });\n\n    emitter.on('resize', function() {\n      Video.resizeParent(self.config.rootEl);\n    });\n\n    $win.on('timeline-load', function() {\n      Video.resizeParentTimelineLoad(self.config.rootEl);\n    });\n\n    $(document).on(\n      'click touchstart',\n      '.video-click-playpause .vjs-tech',\n      function() {\n        this.paused ? this.play() : this.pause();\n      }\n    );\n\n    $(document).ready(function() {\n      Video.hidePlayerButton(self.config.rootEl);\n    });\n  }\n\n  static loadYoutubeApi() {\n    var tag = document.createElement('script');\n    tag.src = 'https://www.youtube.com/player_api';\n    var firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n  }\n\n  static hidePlayerButton(rootEl) {\n    rootEl.find('.vjs-tech').each(function() {\n      var self = $(this);\n      var parent = self.parent();\n\n      //  fix to hide player button in firefox and IE edge if autoplay is true\n      if (\n        self.get(0).autoplay &&\n        !self.get(0).paused &&\n        !parent.hasClass('vjs-has-started')\n      ) {\n        console.info('hidding big play button');\n        parent.addClass('vjs-has-started');\n      }\n    });\n  }\n\n  static resizeParent(rootEl) {\n    rootEl.find('.teaser-video').each(function() {\n      var self = $(this);\n\n      if (!self.hasClass('infographic__video')) {\n        var videoHeight = Math.floor(\n          $(this)\n            .closest('.teaser-media')\n            .height()\n        );\n        $(this).css('min-height', videoHeight);\n      }\n    });\n  }\n\n  static resizeParentTimelineLoad(rootEl) {\n    rootEl.find('video.teaser-video').each(function() {\n      var self = $(this);\n      if (!self.hasClass('infographic__video')) {\n        setTimeout(function() {\n          var videoHeight = Math.floor(self.height());\n          self.parent('.teaser-video-container').css('height', videoHeight);\n        }, 1000);\n      }\n    });\n  }\n}\n"],"sourceRoot":""}